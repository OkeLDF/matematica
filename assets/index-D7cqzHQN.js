(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const c of h)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(h){const c={};return h.integrity&&(c.integrity=h.integrity),h.referrerPolicy&&(c.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?c.credentials="include":h.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(h){if(h.ep)return;h.ep=!0;const c=a(h);fetch(h.href,c)}})();var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,a){this.props=e,this.context=s,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,a){this.props=e,this.context=s,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,a){var o,h={},c=null,d=null;if(s!=null)for(o in s.ref!==void 0&&(d=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,o)&&!L$1.hasOwnProperty(o)&&(h[o]=s[o]);var g=arguments.length-2;if(g===1)h.children=a;else if(1<g){for(var _=Array(g),b=0;b<g;b++)_[b]=arguments[b+2];h.children=_}if(e&&e.defaultProps)for(o in g=e.defaultProps,g)h[o]===void 0&&(h[o]=g[o]);return{$$typeof:l$1,type:e,key:c,ref:d,props:h,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return s[a]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):s.toString(36)}function R$1(e,s,a,o,h){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,h=h(d),e=o===""?"."+Q$1(d,0):o,I$1(h)?(a="",e!=null&&(a=e.replace(P$1,"$&/")+"/"),R$1(h,s,a,"",function(b){return b})):h!=null&&(O$1(h)&&(h=N$1(h,a+(!h.key||d&&d.key===h.key?"":(""+h.key).replace(P$1,"$&/")+"/")+e)),s.push(h)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var g=0;g<e.length;g++){c=e[g];var _=o+Q$1(c,g);d+=R$1(c,s,a,_,h)}else if(_=A$1(e),typeof _=="function")for(e=_.call(e),g=0;!(c=e.next()).done;)c=c.value,_=o+Q$1(c,g++),d+=R$1(c,s,a,_,h);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,s,a){if(e==null)return e;var o=[],h=0;return R$1(e,o,"","",function(c){return s.call(a,c,h++)}),o}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,a){S$1(e,function(){s.apply(this,arguments)},a)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(e,s,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),h=e.key,c=e.ref,d=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,d=K$1.current),s.key!==void 0&&(h=""+s.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(_ in s)J.call(s,_)&&!L$1.hasOwnProperty(_)&&(o[_]=s[_]===void 0&&g!==void 0?g[_]:s[_])}var _=arguments.length-2;if(_===1)o.children=a;else if(1<_){g=Array(_);for(var b=0;b<_;b++)g[b]=arguments[b+2];o.children=g}return{$$typeof:l$1,type:e.type,key:h,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,a){return U$1.current.useImperativeHandle(e,s,a)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,a){return U$1.current.useReducer(e,s,a)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,a){return U$1.current.useSyncExternalStore(e,s,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,a){var o,h={},c=null,d=null;a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(d=s.ref);for(o in s)m$1.call(s,o)&&!p$1.hasOwnProperty(o)&&(h[o]=s[o]);if(e&&e.defaultProps)for(o in s=e.defaultProps,s)h[o]===void 0&&(h[o]=s[o]);return{$$typeof:k,type:e,key:c,ref:d,props:h,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(Gt,_t){var bt=Gt.length;Gt.push(_t);e:for(;0<bt;){var yt=bt-1>>>1,Ct=Gt[yt];if(0<h(Ct,_t))Gt[yt]=_t,Gt[bt]=Ct,bt=yt;else break e}}function a(Gt){return Gt.length===0?null:Gt[0]}function o(Gt){if(Gt.length===0)return null;var _t=Gt[0],bt=Gt.pop();if(bt!==_t){Gt[0]=bt;e:for(var yt=0,Ct=Gt.length,pt=Ct>>>1;yt<pt;){var Mt=2*(yt+1)-1,xt=Gt[Mt],It=Mt+1,Nt=Gt[It];if(0>h(xt,bt))It<Ct&&0>h(Nt,xt)?(Gt[yt]=Nt,Gt[It]=bt,yt=It):(Gt[yt]=xt,Gt[Mt]=bt,yt=Mt);else if(It<Ct&&0>h(Nt,bt))Gt[yt]=Nt,Gt[It]=bt,yt=It;else break e}}return _t}function h(Gt,_t){var bt=Gt.sortIndex-_t.sortIndex;return bt!==0?bt:Gt.id-_t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var _=[],b=[],$=1,j=null,_e=3,et=!1,tt=!1,it=!1,at=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function rt(Gt){for(var _t=a(b);_t!==null;){if(_t.callback===null)o(b);else if(_t.startTime<=Gt)o(b),_t.sortIndex=_t.expirationTime,s(_,_t);else break;_t=a(b)}}function lt(Gt){if(it=!1,rt(Gt),!tt)if(a(_)!==null)tt=!0,$t(ot);else{var _t=a(b);_t!==null&&Et(lt,_t.startTime-Gt)}}function ot(Gt,_t){tt=!1,it&&(it=!1,nt(ut),ut=-1),et=!0;var bt=_e;try{for(rt(_t),j=a(_);j!==null&&(!(j.expirationTime>_t)||Gt&&!gt());){var yt=j.callback;if(typeof yt=="function"){j.callback=null,_e=j.priorityLevel;var Ct=yt(j.expirationTime<=_t);_t=e.unstable_now(),typeof Ct=="function"?j.callback=Ct:j===a(_)&&o(_),rt(_t)}else o(_);j=a(_)}if(j!==null)var pt=!0;else{var Mt=a(b);Mt!==null&&Et(lt,Mt.startTime-_t),pt=!1}return pt}finally{j=null,_e=bt,et=!1}}var ht=!1,ct=null,ut=-1,dt=5,ft=-1;function gt(){return!(e.unstable_now()-ft<dt)}function mt(){if(ct!==null){var Gt=e.unstable_now();ft=Gt;var _t=!0;try{_t=ct(!0,Gt)}finally{_t?vt():(ht=!1,ct=null)}}else ht=!1}var vt;if(typeof st=="function")vt=function(){st(mt)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,Pt=Jt.port2;Jt.port1.onmessage=mt,vt=function(){Pt.postMessage(null)}}else vt=function(){at(mt,0)};function $t(Gt){ct=Gt,ht||(ht=!0,vt())}function Et(Gt,_t){ut=at(function(){Gt(e.unstable_now())},_t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Gt){Gt.callback=null},e.unstable_continueExecution=function(){tt||et||(tt=!0,$t(ot))},e.unstable_forceFrameRate=function(Gt){0>Gt||125<Gt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):dt=0<Gt?Math.floor(1e3/Gt):5},e.unstable_getCurrentPriorityLevel=function(){return _e},e.unstable_getFirstCallbackNode=function(){return a(_)},e.unstable_next=function(Gt){switch(_e){case 1:case 2:case 3:var _t=3;break;default:_t=_e}var bt=_e;_e=_t;try{return Gt()}finally{_e=bt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Gt,_t){switch(Gt){case 1:case 2:case 3:case 4:case 5:break;default:Gt=3}var bt=_e;_e=Gt;try{return _t()}finally{_e=bt}},e.unstable_scheduleCallback=function(Gt,_t,bt){var yt=e.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?yt+bt:yt):bt=yt,Gt){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=bt+Ct,Gt={id:$++,callback:_t,priorityLevel:Gt,startTime:bt,expirationTime:Ct,sortIndex:-1},bt>yt?(Gt.sortIndex=bt,s(b,Gt),a(_)===null&&Gt===a(b)&&(it?(nt(ut),ut=-1):it=!0,Et(lt,bt-yt))):(Gt.sortIndex=Ct,s(_,Gt),tt||et||(tt=!0,$t(ot))),Gt},e.unstable_shouldYield=gt,e.unstable_wrapCallback=function(Gt){var _t=_e;return function(){var bt=_e;_e=_t;try{return Gt.apply(this,arguments)}finally{_e=bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,a,o){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,a,o){if(s===null||typeof s>"u"||pa(e,s,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,a,o,h,c,d){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,a,o){var h=z.hasOwnProperty(s)?z[s]:null;(h!==null?h.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,a,h,o)&&(a=null),o||h===null?oa(s)&&(a===null?e.removeAttribute(s):e.setAttribute(s,""+a)):h.mustUseProperty?e[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,o=h.attributeNamespace,a===null?e.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,o?e.setAttributeNS(o,s,a):e.setAttribute(s,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var o=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){o=b}e.call(s.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var h=b.stack.split(`
`),c=o.stack.split(`
`),d=h.length-1,g=c.length-1;1<=d&&0<=g&&h[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(h[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||h[d]!==c[g]){var _=`
`+h[d].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=d&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),o=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,c=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==a?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var a=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Za(e,s){var a=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;a=Sa(s.value!=null?s.value:a),e._wrapperState={initialChecked:o,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var a=Sa(s.value),o=s.type;if(a!=null)o==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,a):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,a||s===e.value||(e.value=s),e.defaultValue=s}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cb(e,s,a){(s!=="number"||Xa(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var eb=Array.isArray;function fb(e,s,a,o){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Sa(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}s=a}s==null&&(s=""),a=s}e._wrapperState={initialValue:Sa(a)}}function ib(e,s){var a=Sa(s.value),o=Sa(s.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),s.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),o!=null&&(e.defaultValue=""+o)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,o,h){MSApp.execUnsafeLocalFunction(function(){return e(s,a,o,h)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var a in s)if(s.hasOwnProperty(a)){var o=a.indexOf("--")===0,h=rb(a,s[a],o);a==="float"&&(a="cssFloat"),o?e.setProperty(a,h):e[a]=h}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,a){if(Ib)return e(s,a);Ib=!0;try{return Gb(e,s,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var a=e.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p(231,s,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,a,o,h,c,d,g,_){var b=Array.prototype.slice.call(arguments,3);try{s.apply(a,b)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,a,o,h,c,d,g,_){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,a,o,h,c,d,g,_){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var a=e,o=s;;){var h=a.return;if(h===null)break;var c=h.alternate;if(c===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===c.child){for(c=h.child;c;){if(c===a)return Xb(h),e;if(c===o)return Xb(h),s;c=c.sibling}throw Error(p(188))}if(a.return!==o.return)a=h,o=c;else{for(var d=!1,g=h.child;g;){if(g===a){d=!0,a=h,o=c;break}if(g===o){d=!0,o=h,a=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===a){d=!0,a=c,o=h;break}if(g===o){d=!0,o=c,a=h;break}g=g.sibling}if(!d)throw Error(p(189))}}if(a.alternate!==o)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,c=e.pingedLanes,d=a&268435455;if(d!==0){var g=d&~h;g!==0?o=tc(g):(c&=d,c!==0&&(o=tc(c)))}else d=a&~h,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(s!==0&&s!==o&&!(s&h)&&(h=o&-o,c=s&-s,h>=c||h===16&&(c&4194240)!==0))return s;if(o&4&&(o|=a&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=o;0<s;)a=31-oc(s),h=1<<a,o|=e[a],s&=~h;return o}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),g=1<<d,_=h[d];_===-1?(!(g&a)||g&o)&&(h[d]=vc(g,s)):_<=s&&(e.expiredLanes|=g),c&=~g}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ac(e,s,a){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=a}function Bc(e,s){var a=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<a;){var h=31-oc(a),c=1<<h;s[h]=0,o[h]=-1,e[h]=-1,a&=~c}}function Cc(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var o=31-oc(a),h=1<<o;h&s|e[o]&s&&(e[o]|=s),a&=~h}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,a,o,h,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:c,targetContainers:[h]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=o,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function Uc(e,s,a,o,h){switch(s){case"focusin":return Lc=Tc(Lc,e,s,a,o,h),!0;case"dragenter":return Mc=Tc(Mc,e,s,a,o,h),!0;case"mouseover":return Nc=Tc(Nc,e,s,a,o,h),!0;case"pointerover":var c=h.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,a,o,h)),!0;case"gotpointercapture":return c=h.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,a,o,h)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var a=Vb(s);if(a!==null){if(s=a.tag,s===13){if(s=Wb(a),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);wb=o,a.target.dispatchEvent(o),wb=null}else return s=Cb(a),s!==null&&Fc(s),e.blockedOn=a,!1;s.shift()}return!0}function Zc(e,s,a){Xc(e)&&a.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(h){return ad(h,e)}if(0<Kc.length){ad(Kc[0],e);for(var a=1;a<Kc.length;a++){var o=Kc[a];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),a=0;a<Qc.length;a++)o=Qc[a],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,a,o){var h=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,a,o)}finally{C=h,cd.transition=c}}function gd(e,s,a,o){var h=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,a,o)}finally{C=h,cd.transition=c}}function fd(e,s,a,o){if(dd){var h=Yc(e,s,a,o);if(h===null)hd(e,s,o,id,a),Sc(e,o);else if(Uc(h,e,s,a,o))o.stopPropagation();else if(Sc(e,o),s&4&&-1<Rc.indexOf(e)){for(;h!==null;){var c=Cb(h);if(c!==null&&Ec(c),c=Yc(e,s,a,o),c===null&&hd(e,s,o,id,a),c===h)break;h=c}h!==null&&o.stopPropagation()}else hd(e,s,o,null,a)}}var id=null;function Yc(e,s,a,o){if(id=null,e=xb(o),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(a=s.tag,a===13){if(e=Wb(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,a=s.length,o,h="value"in kd?kd.value:kd.textContent,c=h.length;for(e=0;e<a&&s[e]===h[e];e++);var d=a-e;for(o=1;o<=d&&s[a-o]===h[c-o];o++);return md=h.slice(e,1<o?1-o:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(a,o,h,c,d){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,a,o){Eb(o),s=oe(s,"onChange"),0<s.length&&(a=new td("onChange","change",null,a,o),e.push({event:a,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,a){e==="focusin"?(Ae(),pe=s,qe=a,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ja.call(s,h)||!He(e[h],s[h]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var a=Je(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=s&&o>=s)return{node:a,offset:s-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),a=e.focusedElem,o=e.selectionRange;if(s!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(o!==null&&Ne(a)){if(s=o.start,e=o.end,e===void 0&&(e=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(e,a.value.length);else if(e=(s=a.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var h=a.textContent.length,c=Math.min(o.start,h);o=o.end===void 0?c:Math.min(o.end,h),!e.extend&&c>o&&(h=o,o=c,c=h),h=Ke(a,c);var d=Ke(a,o);h&&d&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),e.removeAllRanges(),c>o?(e.addRange(s),e.extend(d.node,d.offset)):(s.setEnd(d.node,d.offset),e.addRange(s)))}}for(s=[],e=a;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)e=s[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(s=new td("onSelect","select",null,s,a),e.push({event:s,listeners:o}),s.target=Qe)))}function Ve(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ye)return Xe[e]=s[a];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,a){var o=e.type||"unknown-event";e.currentTarget=a,Ub(o,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;e:{var c=void 0;if(s)for(var d=o.length-1;0<=d;d--){var g=o[d],_=g.instance,b=g.currentTarget;if(g=g.listener,_!==c&&h.isPropagationStopped())break e;nf(h,g,b),c=_}else for(d=0;d<o.length;d++){if(g=o[d],_=g.instance,b=g.currentTarget,g=g.listener,_!==c&&h.isPropagationStopped())break e;nf(h,g,b),c=_}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var o=e+"__bubble";a.has(o)||(pf(s,e,2,!1),a.add(o))}function qf(e,s,a){var o=0;s&&(o|=4),pf(a,e,o,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,e),qf(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,a,o){switch(jd(s)){case 1:var h=ed;break;case 4:h=gd;break;default:h=fd}a=h.bind(null,s,a,e),h=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function hd(e,s,a,o,h){var c=o;if(!(s&1)&&!(s&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var g=o.stateNode.containerInfo;if(g===h||g.nodeType===8&&g.parentNode===h)break;if(d===4)for(d=o.return;d!==null;){var _=d.tag;if((_===3||_===4)&&(_=d.stateNode.containerInfo,_===h||_.nodeType===8&&_.parentNode===h))return;d=d.return}for(;g!==null;){if(d=Wc(g),d===null)return;if(_=d.tag,_===5||_===6){o=c=d;continue e}g=g.parentNode}}o=o.return}Jb(function(){var b=c,$=xb(a),j=[];e:{var _e=df.get(e);if(_e!==void 0){var et=td,tt=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":tt="focus",et=Fd;break;case"focusout":tt="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var it=(s&4)!==0,at=!it&&e==="scroll",nt=it?_e!==null?_e+"Capture":null:_e;it=[];for(var st=b,rt;st!==null;){rt=st;var lt=rt.stateNode;if(rt.tag===5&&lt!==null&&(rt=lt,nt!==null&&(lt=Kb(st,nt),lt!=null&&it.push(tf(st,lt,rt)))),at)break;st=st.return}0<it.length&&(_e=new et(_e,tt,null,a,$),j.push({event:_e,listeners:it}))}}if(!(s&7)){e:{if(_e=e==="mouseover"||e==="pointerover",et=e==="mouseout"||e==="pointerout",_e&&a!==wb&&(tt=a.relatedTarget||a.fromElement)&&(Wc(tt)||tt[uf]))break e;if((et||_e)&&(_e=$.window===$?$:(_e=$.ownerDocument)?_e.defaultView||_e.parentWindow:window,et?(tt=a.relatedTarget||a.toElement,et=b,tt=tt?Wc(tt):null,tt!==null&&(at=Vb(tt),tt!==at||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(et=null,tt=b),et!==tt)){if(it=Bd,lt="onMouseLeave",nt="onMouseEnter",st="mouse",(e==="pointerout"||e==="pointerover")&&(it=Td,lt="onPointerLeave",nt="onPointerEnter",st="pointer"),at=et==null?_e:ue(et),rt=tt==null?_e:ue(tt),_e=new it(lt,st+"leave",et,a,$),_e.target=at,_e.relatedTarget=rt,lt=null,Wc($)===b&&(it=new it(nt,st+"enter",tt,a,$),it.target=rt,it.relatedTarget=at,lt=it),at=lt,et&&tt)t:{for(it=et,nt=tt,st=0,rt=it;rt;rt=vf(rt))st++;for(rt=0,lt=nt;lt;lt=vf(lt))rt++;for(;0<st-rt;)it=vf(it),st--;for(;0<rt-st;)nt=vf(nt),rt--;for(;st--;){if(it===nt||nt!==null&&it===nt.alternate)break t;it=vf(it),nt=vf(nt)}it=null}else it=null;et!==null&&wf(j,_e,et,it,!1),tt!==null&&at!==null&&wf(j,at,tt,it,!0)}}e:{if(_e=b?ue(b):window,et=_e.nodeName&&_e.nodeName.toLowerCase(),et==="select"||et==="input"&&_e.type==="file")var ot=ve;else if(me(_e))if(we)ot=Fe;else{ot=De;var ht=Ce}else(et=_e.nodeName)&&et.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(ot=Ee);if(ot&&(ot=ot(e,b))){ne(j,ot,a,$);break e}ht&&ht(e,_e,b),e==="focusout"&&(ht=_e._wrapperState)&&ht.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(ht=b?ue(b):window,e){case"focusin":(me(ht)||ht.contentEditable==="true")&&(Qe=ht,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(j,a,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,a,$)}var ct;if(ae)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ie?ge(e,a)&&(ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(de&&a.locale!=="ko"&&(ie||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ie&&(ct=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ht=oe(b,ut),0<ht.length&&(ut=new Ld(ut,e,null,a,$),j.push({event:ut,listeners:ht}),ct?ut.data=ct:(ct=he(a),ct!==null&&(ut.data=ct)))),(ct=ce?je(e,a):ke(e,a))&&(b=oe(b,"onBeforeInput"),0<b.length&&($=new Ld("onBeforeInput","beforeinput",null,a,$),j.push({event:$,listeners:b}),$.data=ct))}se(j,s)})}function tf(e,s,a){return{instance:e,listener:s,currentTarget:a}}function oe(e,s){for(var a=s+"Capture",o=[];e!==null;){var h=e,c=h.stateNode;h.tag===5&&c!==null&&(h=c,c=Kb(e,a),c!=null&&o.unshift(tf(e,c,h)),c=Kb(e,s),c!=null&&o.push(tf(e,c,h))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,a,o,h){for(var c=s._reactName,d=[];a!==null&&a!==o;){var g=a,_=g.alternate,b=g.stateNode;if(_!==null&&_===o)break;g.tag===5&&b!==null&&(g=b,h?(_=Kb(a,c),_!=null&&d.unshift(tf(a,_,g))):h||(_=Kb(a,c),_!=null&&d.push(tf(a,_,g)))),a=a.return}d.length!==0&&e.push({event:s,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,a){if(s=zf(s),zf(e)!==s&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var a=s,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),bd(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var a=e.parentNode;a;){if(s=a[uf]||a[Of]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[Of])return a;e=Mf(e)}return s}e=a,a=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var a=e.type.contextTypes;if(!a)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var h={},c;for(c in a)h[c]=s[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=h),h}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,a){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,a)}function bg(e,s,a){var o=e.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var h in o)if(!(h in s))throw Error(p(108,Ra(e)||"Unknown",h));return A({},a,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,a){var o=e.stateNode;if(!o)throw Error(p(169));a?(e=bg(e,s,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var a=eg;for(C=1;e<a.length;e++){var o=a[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(h){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),h}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var h=32-oc(o)-1;o&=~(1<<h),a+=1;var c=32-oc(s)+h;if(30<c){var d=h-h%5;c=(o&(1<<d)-1).toString(32),o>>=d,h-=d,rg=1<<32-oc(s)+h|a<<h|o,sg=c+e}else rg=1<<c|a<<h|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=e,s=e.deletions,s===null?(e.deletions=[a],e.flags|=16):s.push(a)}function Cg(e,s){switch(e.tag){case 5:var a=e.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=s,a.return=e,e.child=a,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var a=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(a.nextSibling);var o=xg;s&&Cg(e,s)?Ag(o,a):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var o=a.stateNode}if(!o)throw Error(p(147,e));var h=o,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(d){var g=h.refs;d===null?delete g[c]:g[c]=d},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(nt,st){if(e){var rt=nt.deletions;rt===null?(nt.deletions=[st],nt.flags|=16):rt.push(st)}}function a(nt,st){if(!e)return null;for(;st!==null;)s(nt,st),st=st.sibling;return null}function o(nt,st){for(nt=new Map;st!==null;)st.key!==null?nt.set(st.key,st):nt.set(st.index,st),st=st.sibling;return nt}function h(nt,st){return nt=Pg(nt,st),nt.index=0,nt.sibling=null,nt}function c(nt,st,rt){return nt.index=rt,e?(rt=nt.alternate,rt!==null?(rt=rt.index,rt<st?(nt.flags|=2,st):rt):(nt.flags|=2,st)):(nt.flags|=1048576,st)}function d(nt){return e&&nt.alternate===null&&(nt.flags|=2),nt}function g(nt,st,rt,lt){return st===null||st.tag!==6?(st=Qg(rt,nt.mode,lt),st.return=nt,st):(st=h(st,rt),st.return=nt,st)}function _(nt,st,rt,lt){var ot=rt.type;return ot===ya?$(nt,st,rt.props.children,lt,rt.key):st!==null&&(st.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===st.type)?(lt=h(st,rt.props),lt.ref=Lg(nt,st,rt),lt.return=nt,lt):(lt=Rg(rt.type,rt.key,rt.props,null,nt.mode,lt),lt.ref=Lg(nt,st,rt),lt.return=nt,lt)}function b(nt,st,rt,lt){return st===null||st.tag!==4||st.stateNode.containerInfo!==rt.containerInfo||st.stateNode.implementation!==rt.implementation?(st=Sg(rt,nt.mode,lt),st.return=nt,st):(st=h(st,rt.children||[]),st.return=nt,st)}function $(nt,st,rt,lt,ot){return st===null||st.tag!==7?(st=Tg(rt,nt.mode,lt,ot),st.return=nt,st):(st=h(st,rt),st.return=nt,st)}function j(nt,st,rt){if(typeof st=="string"&&st!==""||typeof st=="number")return st=Qg(""+st,nt.mode,rt),st.return=nt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return rt=Rg(st.type,st.key,st.props,null,nt.mode,rt),rt.ref=Lg(nt,null,st),rt.return=nt,rt;case wa:return st=Sg(st,nt.mode,rt),st.return=nt,st;case Ha:var lt=st._init;return j(nt,lt(st._payload),rt)}if(eb(st)||Ka(st))return st=Tg(st,nt.mode,rt,null),st.return=nt,st;Mg(nt,st)}return null}function _e(nt,st,rt,lt){var ot=st!==null?st.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number")return ot!==null?null:g(nt,st,""+rt,lt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return rt.key===ot?_(nt,st,rt,lt):null;case wa:return rt.key===ot?b(nt,st,rt,lt):null;case Ha:return ot=rt._init,_e(nt,st,ot(rt._payload),lt)}if(eb(rt)||Ka(rt))return ot!==null?null:$(nt,st,rt,lt,null);Mg(nt,rt)}return null}function et(nt,st,rt,lt,ot){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return nt=nt.get(rt)||null,g(st,nt,""+lt,ot);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return nt=nt.get(lt.key===null?rt:lt.key)||null,_(st,nt,lt,ot);case wa:return nt=nt.get(lt.key===null?rt:lt.key)||null,b(st,nt,lt,ot);case Ha:var ht=lt._init;return et(nt,st,rt,ht(lt._payload),ot)}if(eb(lt)||Ka(lt))return nt=nt.get(rt)||null,$(st,nt,lt,ot,null);Mg(st,lt)}return null}function tt(nt,st,rt,lt){for(var ot=null,ht=null,ct=st,ut=st=0,dt=null;ct!==null&&ut<rt.length;ut++){ct.index>ut?(dt=ct,ct=null):dt=ct.sibling;var ft=_e(nt,ct,rt[ut],lt);if(ft===null){ct===null&&(ct=dt);break}e&&ct&&ft.alternate===null&&s(nt,ct),st=c(ft,st,ut),ht===null?ot=ft:ht.sibling=ft,ht=ft,ct=dt}if(ut===rt.length)return a(nt,ct),I&&tg(nt,ut),ot;if(ct===null){for(;ut<rt.length;ut++)ct=j(nt,rt[ut],lt),ct!==null&&(st=c(ct,st,ut),ht===null?ot=ct:ht.sibling=ct,ht=ct);return I&&tg(nt,ut),ot}for(ct=o(nt,ct);ut<rt.length;ut++)dt=et(ct,nt,ut,rt[ut],lt),dt!==null&&(e&&dt.alternate!==null&&ct.delete(dt.key===null?ut:dt.key),st=c(dt,st,ut),ht===null?ot=dt:ht.sibling=dt,ht=dt);return e&&ct.forEach(function(gt){return s(nt,gt)}),I&&tg(nt,ut),ot}function it(nt,st,rt,lt){var ot=Ka(rt);if(typeof ot!="function")throw Error(p(150));if(rt=ot.call(rt),rt==null)throw Error(p(151));for(var ht=ot=null,ct=st,ut=st=0,dt=null,ft=rt.next();ct!==null&&!ft.done;ut++,ft=rt.next()){ct.index>ut?(dt=ct,ct=null):dt=ct.sibling;var gt=_e(nt,ct,ft.value,lt);if(gt===null){ct===null&&(ct=dt);break}e&&ct&&gt.alternate===null&&s(nt,ct),st=c(gt,st,ut),ht===null?ot=gt:ht.sibling=gt,ht=gt,ct=dt}if(ft.done)return a(nt,ct),I&&tg(nt,ut),ot;if(ct===null){for(;!ft.done;ut++,ft=rt.next())ft=j(nt,ft.value,lt),ft!==null&&(st=c(ft,st,ut),ht===null?ot=ft:ht.sibling=ft,ht=ft);return I&&tg(nt,ut),ot}for(ct=o(nt,ct);!ft.done;ut++,ft=rt.next())ft=et(ct,nt,ut,ft.value,lt),ft!==null&&(e&&ft.alternate!==null&&ct.delete(ft.key===null?ut:ft.key),st=c(ft,st,ut),ht===null?ot=ft:ht.sibling=ft,ht=ft);return e&&ct.forEach(function(mt){return s(nt,mt)}),I&&tg(nt,ut),ot}function at(nt,st,rt,lt){if(typeof rt=="object"&&rt!==null&&rt.type===ya&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:e:{for(var ot=rt.key,ht=st;ht!==null;){if(ht.key===ot){if(ot=rt.type,ot===ya){if(ht.tag===7){a(nt,ht.sibling),st=h(ht,rt.props.children),st.return=nt,nt=st;break e}}else if(ht.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===ht.type){a(nt,ht.sibling),st=h(ht,rt.props),st.ref=Lg(nt,ht,rt),st.return=nt,nt=st;break e}a(nt,ht);break}else s(nt,ht);ht=ht.sibling}rt.type===ya?(st=Tg(rt.props.children,nt.mode,lt,rt.key),st.return=nt,nt=st):(lt=Rg(rt.type,rt.key,rt.props,null,nt.mode,lt),lt.ref=Lg(nt,st,rt),lt.return=nt,nt=lt)}return d(nt);case wa:e:{for(ht=rt.key;st!==null;){if(st.key===ht)if(st.tag===4&&st.stateNode.containerInfo===rt.containerInfo&&st.stateNode.implementation===rt.implementation){a(nt,st.sibling),st=h(st,rt.children||[]),st.return=nt,nt=st;break e}else{a(nt,st);break}else s(nt,st);st=st.sibling}st=Sg(rt,nt.mode,lt),st.return=nt,nt=st}return d(nt);case Ha:return ht=rt._init,at(nt,st,ht(rt._payload),lt)}if(eb(rt))return tt(nt,st,rt,lt);if(Ka(rt))return it(nt,st,rt,lt);Mg(nt,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"?(rt=""+rt,st!==null&&st.tag===6?(a(nt,st.sibling),st=h(st,rt),st.return=nt,nt=st):(a(nt,st),st=Qg(rt,nt.mode,lt),st.return=nt,nt=st),d(nt)):a(nt,st)}return at}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),e===a)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,a,o){var h=s.interleaved;return h===null?(a.next=a,gh(s)):(a.next=h.next,h.next=a),s.interleaved=a,ih(e,o)}function ih(e,s){e.lanes|=s;var a=e.alternate;for(a!==null&&(a.lanes|=s),a=e,e=e.return;e!==null;)e.childLanes|=s,a=e.alternate,a!==null&&(a.childLanes|=s),a=e,e=e.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var h=o.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),o.pending=s,ih(e,a)}return h=o.interleaved,h===null?(s.next=s,gh(o)):(s.next=h.next,h.next=s),o.interleaved=s,ih(e,a)}function oh(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var o=s.lanes;o&=e.pendingLanes,a|=o,s.lanes=a,Cc(e,a)}}function ph(e,s){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var d={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};c===null?h=c=d:c=c.next=d,a=a.next}while(a!==null);c===null?h=c=s:c=c.next=s}else h=c=s;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}function qh(e,s,a,o){var h=e.updateQueue;jh=!1;var c=h.firstBaseUpdate,d=h.lastBaseUpdate,g=h.shared.pending;if(g!==null){h.shared.pending=null;var _=g,b=_.next;_.next=null,d===null?c=b:d.next=b,d=_;var $=e.alternate;$!==null&&($=$.updateQueue,g=$.lastBaseUpdate,g!==d&&(g===null?$.firstBaseUpdate=b:g.next=b,$.lastBaseUpdate=_))}if(c!==null){var j=h.baseState;d=0,$=b=_=null,g=c;do{var _e=g.lane,et=g.eventTime;if((o&_e)===_e){$!==null&&($=$.next={eventTime:et,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var tt=e,it=g;switch(_e=s,et=a,it.tag){case 1:if(tt=it.payload,typeof tt=="function"){j=tt.call(et,j,_e);break e}j=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=it.payload,_e=typeof tt=="function"?tt.call(et,j,_e):tt,_e==null)break e;j=A({},j,_e);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,_e=h.effects,_e===null?h.effects=[g]:_e.push(g))}else et={eventTime:et,lane:_e,tag:g.tag,payload:g.payload,callback:g.callback,next:null},$===null?(b=$=et,_=j):$=$.next=et,d|=_e;if(g=g.next,g===null){if(g=h.shared.pending,g===null)break;_e=g,g=_e.next,_e.next=null,h.lastBaseUpdate=_e,h.shared.pending=null}}while(!0);if($===null&&(_=j),h.baseState=_,h.firstBaseUpdate=b,h.lastBaseUpdate=$,s=h.shared.interleaved,s!==null){h=s;do d|=h.lane,h=h.next;while(h!==s)}else c===null&&(h.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=j}}function sh(e,s,a){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var o=e[s],h=o.callback;if(h!==null){if(o.callback=null,o=a,typeof h!="function")throw Error(p(191,h));h.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),a=lb(s,e.type);s!==a&&(G(vh,e),G(uh,a))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!He(e[a],s[a]))return!1;return!0}function Nh(e,s,a,o,h,c){if(Hh=c,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=a(o,h),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=a(o,h)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var o=N,h=o.baseQueue,c=a.pending;if(c!==null){if(h!==null){var d=h.next;h.next=c.next,c.next=d}o.baseQueue=h=c,a.pending=null}if(h!==null){c=h.next,o=o.baseState;var g=d=null,_=null,b=c;do{var $=b.lane;if((Hh&$)===$)_!==null&&(_=_.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var j={lane:$,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};_===null?(g=_=j,d=o):_=_.next=j,M.lanes|=$,rh|=$}b=b.next}while(b!==null&&b!==c);_===null?d=o:_.next=g,He(o,s.memoizedState)||(dh=!0),s.memoizedState=o,s.baseState=d,s.baseQueue=_,a.lastRenderedState=o}if(e=a.interleaved,e!==null){h=e;do c=h.lane,M.lanes|=c,rh|=c,h=h.next;while(h!==e)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Xh(e){var s=Uh(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,c=s.memoizedState;if(h!==null){a.pending=null;var d=h=h.next;do c=e(c,d.action),d=d.next;while(d!==h);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),a.lastRenderedState=c}return[c,o]}function Yh(){}function Zh(e,s){var a=M,o=Uh(),h=s(),c=!He(o.memoizedState,h);if(c&&(o.memoizedState=h,dh=!0),o=o.queue,$h(ai.bind(null,a,o,e),[e]),o.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,o,h,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(a,s,h)}return h}function di(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function ci(e,s,a,o){s.value=a,s.getSnapshot=o,ei(s)&&fi(e)}function ai(e,s,a){return a(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!He(e,a)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M,e),[s.memoizedState,e]}function bi(e,s,a,o){return e={tag:e,create:s,destroy:a,deps:o,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=e.next=e):(a=s.lastEffect,a===null?s.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,a,o){var h=Th();M.flags|=e,h.memoizedState=bi(1|s,a,void 0,o===void 0?null:o)}function li(e,s,a,o){var h=Uh();o=o===void 0?null:o;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,o!==null&&Mh(o,d.deps)){h.memoizedState=bi(s,a,c,o);return}}M.flags|=e,h.memoizedState=bi(1|s,a,c,o)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,a){return a=a!=null?a.concat([e]):null,li(4,4,pi.bind(null,s,e),a)}function ri(){}function si(e,s){var a=Uh();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(a.memoizedState=[e,s],e)}function ti(e,s){var a=Uh();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(e=e(),a.memoizedState=[e,s],e)}function ui(e,s,a){return Hh&21?(He(a,s)||(a=yc(),M.lanes|=a,rh|=a,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=a)}function vi(e,s){var a=C;C=a!==0&&4>a?a:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=a,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,s,a){var o=yi(e);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,a);else if(a=hh(e,s,a,o),a!==null){var h=R();gi(a,e,o,h),Bi(a,s,o)}}function ii(e,s,a){var o=yi(e),h={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,h);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var d=s.lastRenderedState,g=c(d,a);if(h.hasEagerState=!0,h.eagerState=g,He(g,d)){var _=s.interleaved;_===null?(h.next=h,gh(s)):(h.next=_.next,_.next=h),s.interleaved=h;return}}catch{}finally{}a=hh(e,s,h,o),a!==null&&(h=R(),gi(a,e,o,h),Bi(a,s,o))}}function zi(e){var s=e.alternate;return e===M||s!==null&&s===M}function Ai(e,s){Jh=Ih=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Bi(e,s,a){if(a&4194240){var o=s.lanes;o&=e.pendingLanes,a|=o,s.lanes=a,Cc(e,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,a){return a=a!=null?a.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),a)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var a=Th();return s=s===void 0?null:s,e=e(),a.memoizedState=[e,s],e},useReducer:function(e,s,a){var o=Th();return s=a!==void 0?a(s):s,o.memoizedState=o.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,a){var o=M,h=Th();if(I){if(a===void 0)throw Error(p(407));a=a()}else{if(a=s(),Q===null)throw Error(p(349));Hh&30||di(o,s,a)}h.memoizedState=a;var c={value:a,getSnapshot:s};return h.queue=c,mi(ai.bind(null,o,c,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,c,a,s),void 0,null),a},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var a=sg,o=rg;a=(o&~(1<<32-oc(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=Kh++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Lh++,s=":"+s+"r"+a.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var a in e)s[a]===void 0&&(s[a]=e[a]);return s}return s}function Di(e,s,a,o){s=e.memoizedState,a=a(o,s),a=a==null?s:A({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,a){e=e._reactInternals;var o=R(),h=yi(e),c=mh(o,h);c.payload=s,a!=null&&(c.callback=a),s=nh(e,c,h),s!==null&&(gi(s,e,h,o),oh(s,e,h))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var o=R(),h=yi(e),c=mh(o,h);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=nh(e,c,h),s!==null&&(gi(s,e,h,o),oh(s,e,h))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=R(),o=yi(e),h=mh(a,o);h.tag=2,s!=null&&(h.callback=s),s=nh(e,h,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))}};function Fi(e,s,a,o,h,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):s.prototype&&s.prototype.isPureReactComponent?!Ie(a,o)||!Ie(h,c):!0}function Gi(e,s,a){var o=!1,h=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(h=Zf(s)?Xf:H.current,o=s.contextTypes,c=(o=o!=null)?Yf(e,h):Vf),s=new s(a,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,a,o){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,a,o){var h=e.stateNode;h.props=a,h.state=e.memoizedState,h.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?h.context=eh(c):(c=Zf(s)?Xf:H.current,h.context=Yf(e,c)),h.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,a),h.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ei.enqueueReplaceState(h,h.state,null),qh(e,a,h,o),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var a="",o=s;do a+=Pa(o),o=o.return;while(o);var h=a}catch(c){h=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:h,digest:null}}function Ki(e,s,a){return{value:e,source:null,stack:a??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var o=s.value;return a.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,s)},a}function Qi(e,s,a){a=mh(-1,a),a.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var h=s.value;a.payload=function(){return o(h)},a.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(a.callback=function(){Li(e,s),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=s.stack;this.componentDidCatch(s.value,{componentStack:d!==null?d:""})}),a}function Si(e,s,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var h=new Set;o.set(s,h)}else h=o.get(s),h===void 0&&(h=new Set,o.set(s,h));h.has(a)||(h.add(a),e=Ti.bind(null,e,s,a),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,a,o,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===s?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=mh(-1,1),s.tag=2,nh(a,s,1))),a.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,a,o){s.child=e===null?Vg(s,null,a,o):Ug(s,e.child,a,o)}function Yi(e,s,a,o,h){a=a.render;var c=s.ref;return ch(s,h),o=Nh(e,s,a,o,c,h),a=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~h,Zi(e,s,h)):(I&&a&&vg(s),s.flags|=1,Xi(e,s,o,h),s.child)}function $i(e,s,a,o,h){if(e===null){var c=a.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,o,h)):(e=Rg(a.type,null,o,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&h)){var d=c.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(d,o)&&e.ref===s.ref)return Zi(e,s,h)}return s.flags|=1,e=Pg(c,o),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,a,o,h){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===s.ref)if(dh=!1,s.pendingProps=o=c,(e.lanes&h)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,h)}return cj(e,s,a,o,h)}function dj(e,s,a){var o=s.pendingProps,h=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=a;else{if(!(a&1073741824))return e=c!==null?c.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:a,G(ej,fj),fj|=o}else c!==null?(o=c.baseLanes|a,s.memoizedState=null):o=a,G(ej,fj),fj|=o;return Xi(e,s,h,a),s.child}function gj(e,s){var a=s.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,a,o,h){var c=Zf(a)?Xf:H.current;return c=Yf(s,c),ch(s,h),a=Nh(e,s,a,o,c,h),o=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~h,Zi(e,s,h)):(I&&o&&vg(s),s.flags|=1,Xi(e,s,a,h),s.child)}function hj(e,s,a,o,h){if(Zf(a)){var c=!0;cg(s)}else c=!1;if(ch(s,h),s.stateNode===null)ij(e,s),Gi(s,a,o),Ii(s,a,o,h),o=!0;else if(e===null){var d=s.stateNode,g=s.memoizedProps;d.props=g;var _=d.context,b=a.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(a)?Xf:H.current,b=Yf(s,b));var $=a.getDerivedStateFromProps,j=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==o||_!==b)&&Hi(s,d,o,b),jh=!1;var _e=s.memoizedState;d.state=_e,qh(s,o,d,h),_=s.memoizedState,g!==o||_e!==_||Wf.current||jh?(typeof $=="function"&&(Di(s,a,$,o),_=s.memoizedState),(g=jh||Fi(s,a,g,o,_e,_,b))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=_),d.props=o,d.state=_,d.context=b,o=g):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{d=s.stateNode,lh(e,s),g=s.memoizedProps,b=s.type===s.elementType?g:Ci(s.type,g),d.props=b,j=s.pendingProps,_e=d.context,_=a.contextType,typeof _=="object"&&_!==null?_=eh(_):(_=Zf(a)?Xf:H.current,_=Yf(s,_));var et=a.getDerivedStateFromProps;($=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==j||_e!==_)&&Hi(s,d,o,_),jh=!1,_e=s.memoizedState,d.state=_e,qh(s,o,d,h);var tt=s.memoizedState;g!==j||_e!==tt||Wf.current||jh?(typeof et=="function"&&(Di(s,a,et,o),tt=s.memoizedState),(b=jh||Fi(s,a,b,o,_e,tt,_)||!1)?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,tt,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,tt,_)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=tt),d.props=o,d.state=tt,d.context=_,o=b):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_e===e.memoizedState||(s.flags|=1024),o=!1)}return jj(e,s,a,o,c,h)}function jj(e,s,a,o,h,c){gj(e,s);var d=(s.flags&128)!==0;if(!o&&!d)return h&&dg(s,a,!1),Zi(e,s,c);o=s.stateNode,Wi.current=s;var g=d&&typeof a.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,e!==null&&d?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,g,c)):Xi(e,s,g,c),s.memoizedState=o.state,h&&dg(s,a,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,a,o,h){return Ig(),Jg(h),s.flags|=256,Xi(e,s,a,o),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,a){var o=s.pendingProps,h=L.current,c=!1,d=(s.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(h&2)!==0),g?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),G(L,h&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(d=o.children,e=o.fallback,c?(o=s.mode,c=s.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,o,0,null),e=Tg(e,o,a,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(a),s.memoizedState=mj,e):qj(s,d));if(h=e.memoizedState,h!==null&&(g=h.dehydrated,g!==null))return rj(e,s,d,o,g,h,a);if(c){c=o.fallback,d=s.mode,h=e.child,g=h.sibling;var _={mode:"hidden",children:o.children};return!(d&1)&&s.child!==h?(o=s.child,o.childLanes=0,o.pendingProps=_,s.deletions=null):(o=Pg(h,_),o.subtreeFlags=h.subtreeFlags&14680064),g!==null?c=Pg(g,c):(c=Tg(c,d,a,null),c.flags|=2),c.return=s,o.return=s,o.sibling=c,s.child=o,o=c,c=s.child,d=e.child.memoizedState,d=d===null?nj(a):{baseLanes:d.baseLanes|a,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~a,s.memoizedState=mj,o}return c=e.child,e=c.sibling,o=Pg(c,{mode:"visible",children:o.children}),!(s.mode&1)&&(o.lanes=a),o.return=s,o.sibling=null,e!==null&&(a=s.deletions,a===null?(s.deletions=[e],s.flags|=16):a.push(e)),s.child=o,s.memoizedState=null,o}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,a,o){return o!==null&&Jg(o),Ug(s,e.child,null,a),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,a,o,h,c,d){if(a)return s.flags&256?(s.flags&=-257,o=Ki(Error(p(422))),sj(e,s,d,o)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=o.fallback,h=s.mode,o=pj({mode:"visible",children:o.children},h,0,null),c=Tg(c,h,d,null),c.flags|=2,o.return=s,c.return=s,o.sibling=c,s.child=o,s.mode&1&&Ug(s,e.child,null,d),s.child.memoizedState=nj(d),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,d,null);if(h.data==="$!"){if(o=h.nextSibling&&h.nextSibling.dataset,o)var g=o.dgst;return o=g,c=Error(p(419)),o=Ki(c,o,void 0),sj(e,s,d,o)}if(g=(d&e.childLanes)!==0,dh||g){if(o=Q,o!==null){switch(d&-d){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(o.suspendedLanes|d)?0:h,h!==0&&h!==c.retryLane&&(c.retryLane=h,ih(e,h),gi(o,e,h,-1))}return tj(),o=Ki(Error(p(421))),sj(e,s,d,o)}return h.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),h._reactRetry=s,null):(e=c.treeContext,yg=Lf(h.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,o.children),s.flags|=4096,s)}function vj(e,s,a){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s),bh(e.return,s,a)}function wj(e,s,a,o,h){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=a,c.tailMode=h)}function xj(e,s,a){var o=s.pendingProps,h=o.revealOrder,c=o.tail;if(Xi(e,s,o.children,a),o=L.current,o&2)o=o&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,a,s);else if(e.tag===19)vj(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(s.mode&1))s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&Ch(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),wj(s,!1,h,a,c);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Ch(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}wj(s,!0,a,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(a&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,a=Pg(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Pg(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function yj(e,s,a){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,h=s.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=h;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):a&s.child.childLanes?oj(e,s,a):(G(L,L.current&1),e=Zi(e,s,a),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(a&s.childLanes)!==0,e.flags&128){if(o)return xj(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,a)}return Zi(e,s,a)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(e,s,a,o){var h=e.memoizedProps;if(h!==o){e=s.stateNode,xh(uh.current);var c=null;switch(a){case"input":h=Ya(e,h),o=Ya(e,o),c=[];break;case"select":h=A({},h,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":h=gb(e,h),o=gb(e,o),c=[];break;default:typeof h.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(a,o);var d;a=null;for(b in h)if(!o.hasOwnProperty(b)&&h.hasOwnProperty(b)&&h[b]!=null)if(b==="style"){var g=h[b];for(d in g)g.hasOwnProperty(d)&&(a||(a={}),a[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in o){var _=o[b];if(g=h!=null?h[b]:void 0,o.hasOwnProperty(b)&&_!==g&&(_!=null||g!=null))if(b==="style")if(g){for(d in g)!g.hasOwnProperty(d)||_&&_.hasOwnProperty(d)||(a||(a={}),a[d]="");for(d in _)_.hasOwnProperty(d)&&g[d]!==_[d]&&(a||(a={}),a[d]=_[d])}else a||(c||(c=[]),c.push(b,a)),a=_;else b==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,g=g?g.__html:void 0,_!=null&&g!==_&&(c=c||[]).push(b,_)):b==="children"?typeof _!="string"&&typeof _!="number"||(c=c||[]).push(b,""+_):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(_!=null&&b==="onScroll"&&D("scroll",e),c||g===_||(c=[])):(c=c||[]).push(b,_))}a&&(c=c||[]).push("style",a);var b=c;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(e,s,a,o){a!==o&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&14680064,o|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,s}function Ej(e,s,a){var o=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return o=s.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var h=xh(wh.current);if(a=s.type,e!==null&&s.stateNode!=null)Bj(e,s,a,o,h),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){o=s.stateNode,a=s.type;var c=s.memoizedProps;switch(o[Of]=s,o[Pf]=c,e=(s.mode&1)!==0,a){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(h=0;h<lf.length;h++)D(lf[h],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(a,c),h=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?o.textContent!==g&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,g,e),h=["children",g]):typeof g=="number"&&o.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,g,e),h=["children",""+g]):ea.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&D("scroll",o)}switch(a){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=h,s.updateQueue=o,o!==null&&(s.flags|=4)}else{d=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(a,{is:o.is}):(e=d.createElement(a),a==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,a),e[Of]=s,e[Pf]=o,zj(e,s,!1,!1),s.stateNode=e;e:{switch(d=vb(a,o),a){case"dialog":D("cancel",e),D("close",e),h=o;break;case"iframe":case"object":case"embed":D("load",e),h=o;break;case"video":case"audio":for(h=0;h<lf.length;h++)D(lf[h],e);h=o;break;case"source":D("error",e),h=o;break;case"img":case"image":case"link":D("error",e),D("load",e),h=o;break;case"details":D("toggle",e),h=o;break;case"input":Za(e,o),h=Ya(e,o),D("invalid",e);break;case"option":h=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},h=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),h=gb(e,o),D("invalid",e);break;default:h=o}ub(a,h),g=h;for(c in g)if(g.hasOwnProperty(c)){var _=g[c];c==="style"?sb(e,_):c==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&nb(e,_)):c==="children"?typeof _=="string"?(a!=="textarea"||_!=="")&&ob(e,_):typeof _=="number"&&ob(e,""+_):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?_!=null&&c==="onScroll"&&D("scroll",e):_!=null&&ta(e,c,_,d))}switch(a){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(p(166));if(a=xh(wh.current),xh(uh.current),Gg(s)){if(o=s.stateNode,a=s.memoizedProps,o[Of]=s,(c=o.nodeValue!==a)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,a,(e.mode&1)!==0)}c&&(s.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Of]=s,s.stateNode=o}return S(s),null;case 13:if(E(L),o=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(o=(s.flags&128)!==0,d=c.rendering,d===null)if(o)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(d=Ch(e),d!==null){for(s.flags|=128,Dj(c,!1),o=d.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=a,a=s.child;a!==null;)c=a,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304)}else{if(!o)if(e=Ch(d),e!==null){if(s.flags|=128,o=!0,a=e.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&a!==1073741824&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(a=c.last,a!==null?a.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,a=L.current,G(L,o?a&1|2:a&1),s):(S(s),null);case 22:case 23:return Hj(),o=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(s.flags|=8192),o&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){W(e,s,o)}else a.current=null}function Mj(e,s,a){try{a()}catch(o){W(e,s,o)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var d=0,g=-1,_=-1,b=0,$=0,j=e,_e=null;t:for(;;){for(var et;j!==a||h!==0&&j.nodeType!==3||(g=d+h),j!==c||o!==0&&j.nodeType!==3||(_=d+o),j.nodeType===3&&(d+=j.nodeValue.length),(et=j.firstChild)!==null;)_e=j,j=et;for(;;){if(j===e)break t;if(_e===a&&++b===h&&(g=d),_e===c&&++$===o&&(_=d),(et=j.nextSibling)!==null)break;j=_e,_e=j.parentNode}j=et}a=g===-1||_===-1?null:{start:g,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:e,selectionRange:a},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var tt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var it=tt.memoizedProps,at=tt.memoizedState,nt=s.stateNode,st=nt.getSnapshotBeforeUpdate(s.elementType===s.type?it:Ci(s.type,it),at);nt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var rt=s.stateNode.containerInfo;rt.nodeType===1?rt.textContent="":rt.nodeType===9&&rt.documentElement&&rt.removeChild(rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(lt){W(s,s.return,lt)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return tt=Nj,Nj=!1,tt}function Pj(e,s,a){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&e)===e){var c=h.destroy;h.destroy=void 0,c!==void 0&&Mj(s,a,c)}h=h.next}while(h!==o)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var o=a.create;a.destroy=o()}a=a.next}while(a!==s)}}function Rj(e){var s=e.ref;if(s!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(e,s):a.insertBefore(e,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(e,a)):(s=a,s.appendChild(e)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,s,a),e=e.sibling;e!==null;)Vj(e,s,a),e=e.sibling}function Wj(e,s,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,s,a),e=e.sibling;e!==null;)Wj(e,s,a),e=e.sibling}var X=null,Xj=!1;function Yj(e,s,a){for(a=a.child;a!==null;)Zj(e,s,a),a=a.sibling}function Zj(e,s,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Lj(a,s);case 6:var o=X,h=Xj;X=null,Yj(e,s,a),X=o,Xj=h,X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?Kf(e.parentNode,a):e.nodeType===1&&Kf(e,a),bd(e)):Kf(X,a.stateNode));break;case 4:o=X,h=Xj,X=a.stateNode.containerInfo,Xj=!0,Yj(e,s,a),X=o,Xj=h;break;case 0:case 11:case 14:case 15:if(!U&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){h=o=o.next;do{var c=h,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(a,s,d),h=h.next}while(h!==o)}Yj(e,s,a);break;case 1:if(!U&&(Lj(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(g){W(a,s,g)}Yj(e,s,a);break;case 21:Yj(e,s,a);break;case 22:a.mode&1?(U=(o=U)||a.memoizedState!==null,Yj(e,s,a),U=o):Yj(e,s,a);break;default:Yj(e,s,a)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Kj),s.forEach(function(o){var h=bk.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}}function ck(e,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o];try{var c=e,d=s,g=d;e:for(;g!==null;){switch(g.tag){case 5:X=g.stateNode,Xj=!1;break e;case 3:X=g.stateNode.containerInfo,Xj=!0;break e;case 4:X=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X===null)throw Error(p(160));Zj(c,d,h),X=null,Xj=!1;var _=h.alternate;_!==null&&(_.return=null),h.return=null}catch(b){W(h,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(it){W(e,e.return,it)}try{Pj(5,e,e.return)}catch(it){W(e,e.return,it)}}break;case 1:ck(s,e),ek(e),o&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(s,e),ek(e),o&512&&a!==null&&Lj(a,a.return),e.flags&32){var h=e.stateNode;try{ob(h,"")}catch(it){W(e,e.return,it)}}if(o&4&&(h=e.stateNode,h!=null)){var c=e.memoizedProps,d=a!==null?a.memoizedProps:c,g=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ab(h,c),vb(g,d);var b=vb(g,c);for(d=0;d<_.length;d+=2){var $=_[d],j=_[d+1];$==="style"?sb(h,j):$==="dangerouslySetInnerHTML"?nb(h,j):$==="children"?ob(h,j):ta(h,$,j,b)}switch(g){case"input":bb(h,c);break;case"textarea":ib(h,c);break;case"select":var _e=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!c.multiple;var et=c.value;et!=null?fb(h,!!c.multiple,et,!1):_e!==!!c.multiple&&(c.defaultValue!=null?fb(h,!!c.multiple,c.defaultValue,!0):fb(h,!!c.multiple,c.multiple?[]:"",!1))}h[Pf]=c}catch(it){W(e,e.return,it)}}break;case 6:if(ck(s,e),ek(e),o&4){if(e.stateNode===null)throw Error(p(162));h=e.stateNode,c=e.memoizedProps;try{h.nodeValue=c}catch(it){W(e,e.return,it)}}break;case 3:if(ck(s,e),ek(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(it){W(e,e.return,it)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),h=e.child,h.flags&8192&&(c=h.memoizedState!==null,h.stateNode.isHidden=c,!c||h.alternate!==null&&h.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if($=a!==null&&a.memoizedState!==null,e.mode&1?(U=(b=U)||$,ck(s,e),U=b):ck(s,e),ek(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!$&&e.mode&1)for(V=e,$=e.child;$!==null;){for(j=V=$;V!==null;){switch(_e=V,et=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var tt=_e.stateNode;if(typeof tt.componentWillUnmount=="function"){o=_e,a=_e.return;try{s=o,tt.props=s.memoizedProps,tt.state=s.memoizedState,tt.componentWillUnmount()}catch(it){W(o,a,it)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk(j);continue}}et!==null?(et.return=_e,V=et):gk(j)}$=$.sibling}e:for($=null,j=e;;){if(j.tag===5){if($===null){$=j;try{h=j.stateNode,b?(c=h.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=j.stateNode,_=j.memoizedProps.style,d=_!=null&&_.hasOwnProperty("display")?_.display:null,g.style.display=rb("display",d))}catch(it){W(e,e.return,it)}}}else if(j.tag===6){if($===null)try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(it){W(e,e.return,it)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;$===j&&($=null),j=j.return}$===j&&($=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:ck(s,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var a=e.return;a!==null;){if(Tj(a)){var o=a;break e}a=a.return}throw Error(p(160))}switch(o.tag){case 5:var h=o.stateNode;o.flags&32&&(ob(h,""),o.flags&=-33);var c=Uj(e);Wj(e,c,h);break;case 3:case 4:var d=o.stateNode.containerInfo,g=Uj(e);Vj(e,g,d);break;default:throw Error(p(161))}}catch(_){W(e,e.return,_)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,a){V=e,ik(e)}function ik(e,s,a){for(var o=(e.mode&1)!==0;V!==null;){var h=V,c=h.child;if(h.tag===22&&o){var d=h.memoizedState!==null||Jj;if(!d){var g=h.alternate,_=g!==null&&g.memoizedState!==null||U;g=Jj;var b=U;if(Jj=d,(U=_)&&!b)for(V=h;V!==null;)d=V,_=d.child,d.tag===22&&d.memoizedState!==null?jk(h):_!==null?(_.return=d,V=_):jk(h);for(;c!==null;)V=c,ik(c),c=c.sibling;V=h,Jj=g,U=b}kk(e)}else h.subtreeFlags&8772&&c!==null?(c.return=h,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!U)if(a===null)o.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Ci(s.type,a.memoizedProps);o.componentDidUpdate(h,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,o);break;case 3:var d=s.updateQueue;if(d!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}sh(s,d,a)}break;case 5:var g=s.stateNode;if(a===null&&s.flags&4){a=g;var _=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&a.focus();break;case"img":_.src&&(a.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var $=b.memoizedState;if($!==null){var j=$.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(_e){W(s,s.return,_e)}}if(s===e){V=null;break}if(a=s.sibling,a!==null){a.return=s.return,V=a;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var a=s.sibling;if(a!==null){a.return=s.return,V=a;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Qj(4,s)}catch(_){W(s,a,_)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var h=s.return;try{o.componentDidMount()}catch(_){W(s,h,_)}}var c=s.return;try{Rj(s)}catch(_){W(s,c,_)}break;case 5:var d=s.return;try{Rj(s)}catch(_){W(s,d,_)}}}catch(_){W(s,s.return,_)}if(s===e){V=null;break}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,a,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,a,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=a),T===4&&Ck(e,Z)),Dk(e,o),a===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var a=e.callbackNode;wc(e,s);var o=uc(e,e===Q?Z:0);if(o===0)a!==null&&bc(a),e.callbackNode=null,e.callbackPriority=0;else if(s=o&-o,e.callbackPriority!==s){if(a!=null&&bc(a),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(o)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=a}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var a=e.callbackNode;if(Hk()&&e.callbackNode!==a)return null;var o=uc(e,e===Q?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||s)s=Ik(e,o);else{s=o;var h=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(g){Mk(e,g)}while(!0);$g(),mk.current=c,K=h,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(h=xc(e),h!==0&&(o=h,s=Nk(e,h))),s===1)throw a=pk,Kk(e,0),Ck(e,o),Dk(e,B()),a;if(s===6)Ck(e,o);else{if(h=e.current.alternate,!(o&30)&&!Ok(h)&&(s=Ik(e,o),s===2&&(c=xc(e),c!==0&&(o=c,s=Nk(e,c))),s===1))throw a=pk,Kk(e,0),Ck(e,o),Dk(e,B()),a;switch(e.finishedWork=h,e.finishedLanes=o,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(h=e.suspendedLanes,(h&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(s=e.eventTimes,h=-1;0<o;){var d=31-oc(o);c=1<<d,d=s[d],d>h&&(h=d),o&=~c}if(o=h,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===a?Gk.bind(null,e):null}function Nk(e,s){var a=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=a,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var h=a[o],c=h.getSnapshot;h=h.value;try{if(!He(c(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var a=31-oc(s),o=1<<a;e[a]=-1,s&=~o}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var a=Ik(e,s);if(e.tag!==0&&a===2){var o=xc(e);o!==0&&(s=o,a=Nk(e,o))}if(a===1)throw a=pk,Kk(e,0),Ck(e,s),Dk(e,B()),a;if(a===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var a=K;K|=1;try{return e(s)}finally{K=a,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var a=ok.transition,o=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=o,ok.transition=a,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(a=fh[s],o=a.interleaved,o!==null){a.interleaved=null;var h=o.next,c=a.pending;if(c!==null){var d=c.next;c.next=h,o.next=d}a.pending=o}fh=null}return e}function Mk(e,s){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var h=o.queue;h!==null&&(h.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T=1,pk=s,Y=null;break}e:{var c=e,d=a.return,g=a,_=s;if(s=Z,g.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var b=_,$=g,j=$.tag;if(!($.mode&1)&&(j===0||j===11||j===15)){var _e=$.alternate;_e?($.updateQueue=_e.updateQueue,$.memoizedState=_e.memoizedState,$.lanes=_e.lanes):($.updateQueue=null,$.memoizedState=null)}var et=Ui(d);if(et!==null){et.flags&=-257,Vi(et,d,g,c,s),et.mode&1&&Si(c,b,s),s=et,_=b;var tt=s.updateQueue;if(tt===null){var it=new Set;it.add(_),s.updateQueue=it}else tt.add(_);break e}else{if(!(s&1)){Si(c,b,s),tj();break e}_=Error(p(426))}}else if(I&&g.mode&1){var at=Ui(d);if(at!==null){!(at.flags&65536)&&(at.flags|=256),Vi(at,d,g,c,s),Jg(Ji(_,g));break e}}c=_=Ji(_,g),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var nt=Ni(c,_,s);ph(c,nt);break e;case 1:g=_;var st=c.type,rt=c.stateNode;if(!(c.flags&128)&&(typeof st.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(Ri===null||!Ri.has(rt)))){c.flags|=65536,s&=-s,c.lanes|=s;var lt=Qi(c,g,s);ph(c,lt);break e}}c=c.return}while(c!==null)}Sk(a)}catch(ot){s=ot,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var a=K;K|=2;var o=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(h){Mk(e,h)}while(!0);if($g(),K=a,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var a=s.alternate;if(e=s.return,s.flags&32768){if(a=Ij(a,s),a!==null){a.flags&=32767,Y=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(a=Ej(a,s,fj),a!==null){Y=a;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,a){var o=C,h=ok.transition;try{ok.transition=null,C=1,Wk(e,s,a,o)}finally{ok.transition=h,C=o}return null}function Wk(e,s,a,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));a=e.finishedWork;var h=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=a.lanes|a.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(a.flags&15990)!==0,a.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var g=K;K|=4,nk.current=null,Oj(e,a),dk(a,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=a,hk(a),dc(),K=g,C=d,ok.transition=c}else e.current=a;if(vk&&(vk=!1,wk=e,xk=h),c=e.pendingLanes,c===0&&(Ri=null),mc(a.stateNode),Dk(e,B()),s!==null)for(o=e.onRecoverableError,a=0;a<s.length;a++)h=s[a],o(h.value,{componentStack:h.stack,digest:h.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,a=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var h=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var g=c.deletions;if(g!==null){for(var _=0;_<g.length;_++){var b=g[_];for(V=b;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,c)}var j=$.child;if(j!==null)j.return=$,V=j;else for(;V!==null;){$=V;var _e=$.sibling,et=$.return;if(Sj($),$===b){V=null;break}if(_e!==null){_e.return=et,V=_e;break}V=et}}}var tt=c.alternate;if(tt!==null){var it=tt.child;if(it!==null){tt.child=null;do{var at=it.sibling;it.sibling=null,it=at}while(it!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var nt=c.sibling;if(nt!==null){nt.return=c.return,V=nt;break e}V=c.return}}var st=e.current;for(V=st;V!==null;){d=V;var rt=d.child;if(d.subtreeFlags&2064&&rt!==null)rt.return=d,V=rt;else e:for(d=st;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(ot){W(g,g.return,ot)}if(g===d){V=null;break e}var lt=g.sibling;if(lt!==null){lt.return=g.return,V=lt;break e}V=g.return}}if(K=h,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=a,ok.transition=s}}return!1}function Xk(e,s,a){s=Ji(a,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,a){if(e.tag===3)Xk(e,e,a);else for(;s!==null;){if(s.tag===3){Xk(s,e,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(a,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,a){var o=e.pingCache;o!==null&&o.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&a,Q===e&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=a),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var a=R();e=ih(e,s),e!==null&&(Ac(e,s,a),Dk(e,a))}function uj(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Yk(e,a)}function bk(e,s){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(s),Yk(e,a)}var Vk;Vk=function(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&a)&&!(s.flags&128))return dh=!1,yj(e,s,a);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;ij(e,s),e=s.pendingProps;var h=Yf(s,H.current);ch(s,a),h=Nh(null,s,o,e,h,a);var c=Sh();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(o)?(c=!0,cg(s)):c=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,kh(s),h.updater=Ei,s.stateNode=h,h._reactInternals=s,Ii(s,o,e,a),s=jj(null,s,o,!0,c,a)):(s.tag=0,I&&c&&vg(s),Xi(null,s,h,a),s=s.child),s;case 16:o=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,h=o._init,o=h(o._payload),s.type=o,h=s.tag=Zk(o),e=Ci(o,e),h){case 0:s=cj(null,s,o,e,a);break e;case 1:s=hj(null,s,o,e,a);break e;case 11:s=Yi(null,s,o,e,a);break e;case 14:s=$i(null,s,o,Ci(o.type,e),a);break e}throw Error(p(306,o,""))}return s;case 0:return o=s.type,h=s.pendingProps,h=s.elementType===o?h:Ci(o,h),cj(e,s,o,h,a);case 1:return o=s.type,h=s.pendingProps,h=s.elementType===o?h:Ci(o,h),hj(e,s,o,h,a);case 3:e:{if(kj(s),e===null)throw Error(p(387));o=s.pendingProps,c=s.memoizedState,h=c.element,lh(e,s),qh(s,o,null,a);var d=s.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){h=Ji(Error(p(423)),s),s=lj(e,s,o,a,h);break e}else if(o!==h){h=Ji(Error(p(424)),s),s=lj(e,s,o,a,h);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,a=Vg(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),o===h){s=Zi(e,s,a);break e}Xi(e,s,o,a)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),o=s.type,h=s.pendingProps,c=e!==null?e.memoizedProps:null,d=h.children,Ef(o,h)?d=null:c!==null&&Ef(o,c)&&(s.flags|=32),gj(e,s),Xi(e,s,d,a),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,a);case 4:return yh(s,s.stateNode.containerInfo),o=s.pendingProps,e===null?s.child=Ug(s,null,o,a):Xi(e,s,o,a),s.child;case 11:return o=s.type,h=s.pendingProps,h=s.elementType===o?h:Ci(o,h),Yi(e,s,o,h,a);case 7:return Xi(e,s,s.pendingProps,a),s.child;case 8:return Xi(e,s,s.pendingProps.children,a),s.child;case 12:return Xi(e,s,s.pendingProps.children,a),s.child;case 10:e:{if(o=s.type._context,h=s.pendingProps,c=s.memoizedProps,d=h.value,G(Wg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===h.children&&!Wf.current){s=Zi(e,s,a);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var _=g.firstContext;_!==null;){if(_.context===o){if(c.tag===1){_=mh(-1,a&-a),_.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var $=b.pending;$===null?_.next=_:(_.next=$.next,$.next=_),b.pending=_}}c.lanes|=a,_=c.alternate,_!==null&&(_.lanes|=a),bh(c.return,a,s),g.lanes|=a;break}_=_.next}}else if(c.tag===10)d=c.type===s.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=a,g=d.alternate,g!==null&&(g.lanes|=a),bh(d,a,s),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===s){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,s,h.children,a),s=s.child}return s;case 9:return h=s.type,o=s.pendingProps.children,ch(s,a),h=eh(h),o=o(h),s.flags|=1,Xi(e,s,o,a),s.child;case 14:return o=s.type,h=Ci(o,s.pendingProps),h=Ci(o.type,h),$i(e,s,o,h,a);case 15:return bj(e,s,s.type,s.pendingProps,a);case 17:return o=s.type,h=s.pendingProps,h=s.elementType===o?h:Ci(o,h),ij(e,s),s.tag=1,Zf(o)?(e=!0,cg(s)):e=!1,ch(s,a),Gi(s,o,h),Ii(s,o,h,a),jj(null,s,o,!0,e,a);case 19:return xj(e,s,a);case 22:return dj(e,s,a)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,a,o){return new $k(e,s,a,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var a=e.alternate;return a===null?(a=Bg(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Rg(e,s,a,o,h,c){var d=2;if(o=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(a.children,h,c,s);case za:d=8,h|=8;break;case Aa:return e=Bg(12,a,s,h|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,a,s,h),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,a,s,h),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(a,h,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(d,a,s,h),s.elementType=e,s.type=o,s.lanes=c,s}function Tg(e,s,a,o){return e=Bg(7,e,o,s),e.lanes=a,e}function pj(e,s,a,o){return e=Bg(22,e,o,s),e.elementType=Ia,e.lanes=a,e.stateNode={isHidden:!1},e}function Qg(e,s,a){return e=Bg(6,e,null,s),e.lanes=a,e}function Sg(e,s,a){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,a,o,h){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function bl(e,s,a,o,h,c,d,g,_){return e=new al(e,s,a,g,_),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:s,implementation:a}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var a=e.type;if(Zf(a))return bg(e,a,s)}return s}function el(e,s,a,o,h,c,d,g,_){return e=bl(a,o,!0,e,h,c,d,g,_),e.context=dl(null),a=e.current,o=R(),h=yi(a),c=mh(o,h),c.callback=s??null,nh(a,c,h),e.current.lanes=h,Ac(e,h,o),Dk(e,o),e}function fl(e,s,a,o){var h=s.current,c=R(),d=yi(h);return a=dl(a),s.context===null?s.context=a:s.pendingContext=a,s=mh(c,d),s.payload={element:e},o=o===void 0?null:o,o!==null&&(s.callback=o),e=nh(h,s,d),e!==null&&(gi(e,h,d,c),oh(e,h,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Qc.length&&s!==0&&s<Qc[a].priority;a++);Qc.splice(a,0,e),a===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,a,o,h){if(h){if(typeof o=="function"){var c=o;o=function(){var b=gl(d);c.call(b)}}var d=el(s,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;h=e.lastChild;)e.removeChild(h);if(typeof o=="function"){var g=o;o=function(){var b=gl(_);g.call(b)}}var _=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=_,e[uf]=_.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,_,a,o)}),_}function rl(e,s,a,o,h){var c=a._reactRootContainer;if(c){var d=c;if(typeof h=="function"){var g=h;h=function(){var _=gl(d);g.call(_)}}fl(s,d,e,h)}else d=ql(a,s,e,h,o);return gl(d)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);a!==0&&(Cc(s,a|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var h=R();gi(o,e,1,h)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var a=R();gi(s,e,134217728,a)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),a=ih(e,s);if(a!==null){var o=R();gi(a,e,s,o)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var a=C;try{return C=e,s()}finally{C=a}};yb=function(e,s,a){switch(s){case"input":if(bb(e,a),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==e&&o.form===e.form){var h=Db(o);if(!h)throw Error(p(90));Wa(o),bb(o,h)}}}break;case"textarea":ib(e,a);break;case"select":s=a.value,s!=null&&fb(e,!!a.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,a)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var a=!1,o="",h=kl;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=bl(e,1,!1,null,null,a,!1,o,h),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,a){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,a)};reactDom_production_min.hydrateRoot=function(e,s,a){if(!nl(e))throw Error(p(405));var o=a!=null&&a.hydratedSources||null,h=!1,c="",d=kl;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onRecoverableError!==void 0&&(d=a.onRecoverableError)),s=el(s,null,e,1,a??null,h,!1,c,d),e[uf]=s.current,sf(e),o)for(e=0;e<o.length;e++)a=o[e],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new ml(s)};reactDom_production_min.render=function(e,s,a){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,a,o){if(!ol(a))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,a,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;var jxg={};try{typeof JXG=="object"&&!JXG.extend&&(jxg=JXG)}catch{}jxg.extend=function(e,s,a,o){var h,c;a=a||!1,o=o||!1;for(h in s)(!a||a&&s.hasOwnProperty(h))&&(o?c=h.toLowerCase():c=h,e[c]=s[h])};jxg.defineConstant=function(e,s,a,o){o=o||!1,!(o&&jxg.exists(e[s]))&&Object.defineProperty(e,s,{value:a,writable:!1,enumerable:!0,configurable:!1})};jxg.extendConstants=function(e,s,a,o){var h,c;a=a||!1,o=o||!1;for(h in s)(!a||a&&s.hasOwnProperty(h))&&(o?c=h.toUpperCase():c=h,this.defineConstant(e,c,s[h]))};jxg.extend(jxg,{boards:{},readers:{},elements:{},registerElement:function(e,s){e=e.toLowerCase(),this.elements[e]=s},registerReader:function(e,s){var a,o;for(a=0;a<s.length;a++)o=s[a].toLowerCase(),typeof this.readers[o]!="function"&&(this.readers[o]=e)},shortcut:function(e,s){return function(){return e[s].apply(this,arguments)}},getRef:function(e,s){return jxg.deprecated("JXG.getRef()","Board.select()"),e.select(s)},getReference:function(e,s){return jxg.deprecated("JXG.getReference()","Board.select()"),e.select(s)},getBoardByContainerId:function(e){var s;for(s in JXG.boards)if(JXG.boards.hasOwnProperty(s)&&JXG.boards[s].container===e)return JXG.boards[s];return null},deprecated:function(e,s){var a=e+" is deprecated.";s&&(a+=" Please use "+s+" instead."),jxg.warn(a)},warn:function(e){typeof window=="object"&&window.console&&console.warn?console.warn("WARNING:",e):typeof document=="object"&&document.getElementById("warning")&&(document.getElementById("debug").innerHTML+="WARNING: "+e+"<br />")},debugInt:function(e){var s,a;for(s=0;s<arguments.length;s++)a=arguments[s],typeof window=="object"&&window.console&&console.log?console.log(a):typeof document=="object"&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=a+"<br/>")},debugWST:function(e){var s=new Error;jxg.debugInt.apply(this,arguments),s&&s.stack&&(jxg.debugInt("stacktrace"),jxg.debugInt(s.stack.split(`
`).slice(1).join(`
`)))},debugLine:function(e){var s=new Error;jxg.debugInt.apply(this,arguments),s&&s.stack&&jxg.debugInt("Called from",s.stack.split(`
`).slice(2,3).join(`
`))},debug:function(e){jxg.debugInt.apply(this,arguments)},themes:{}});const JXG$1=jxg;var major=1,minor=10,patch=1,version=major+"."+minor+"."+patch,constants;constants={version,licenseText:"JSXGraph v"+version+" Copyright (C) see https://jsxgraph.org",COORDS_BY_USER:1,COORDS_BY_SCREEN:2,OBJECT_TYPE_ARC:1,OBJECT_TYPE_ARROW:2,OBJECT_TYPE_AXIS:3,OBJECT_TYPE_AXISPOINT:4,OBJECT_TYPE_TICKS:5,OBJECT_TYPE_CIRCLE:6,OBJECT_TYPE_CONIC:7,OBJECT_TYPE_CURVE:8,OBJECT_TYPE_GLIDER:9,OBJECT_TYPE_IMAGE:10,OBJECT_TYPE_LINE:11,OBJECT_TYPE_POINT:12,OBJECT_TYPE_SLIDER:13,OBJECT_TYPE_CAS:14,OBJECT_TYPE_GXTCAS:15,OBJECT_TYPE_POLYGON:16,OBJECT_TYPE_SECTOR:17,OBJECT_TYPE_TEXT:18,OBJECT_TYPE_ANGLE:19,OBJECT_TYPE_INTERSECTION:20,OBJECT_TYPE_TURTLE:21,OBJECT_TYPE_VECTOR:22,OBJECT_TYPE_OPROJECT:23,OBJECT_TYPE_GRID:24,OBJECT_TYPE_TANGENT:25,OBJECT_TYPE_HTMLSLIDER:26,OBJECT_TYPE_CHECKBOX:27,OBJECT_TYPE_INPUT:28,OBJECT_TYPE_BUTTON:29,OBJECT_TYPE_TRANSFORMATION:30,OBJECT_TYPE_FOREIGNOBJECT:31,OBJECT_TYPE_VIEW3D:32,OBJECT_TYPE_POINT3D:33,OBJECT_TYPE_LINE3D:34,OBJECT_TYPE_PLANE3D:35,OBJECT_TYPE_CURVE3D:36,OBJECT_TYPE_SURFACE3D:37,OBJECT_TYPE_MEASUREMENT:38,OBJECT_TYPE_INTERSECTION_LINE3D:39,OBJECT_TYPE_SPHERE3D:40,OBJECT_TYPE_CIRCLE3D:41,OBJECT_TYPE_INTERSECTION_CIRCLE3D:42,OBJECT_TYPE_TEXT3D:43,OBJECT_CLASS_POINT:1,OBJECT_CLASS_LINE:2,OBJECT_CLASS_CIRCLE:3,OBJECT_CLASS_CURVE:4,OBJECT_CLASS_AREA:5,OBJECT_CLASS_OTHER:6,OBJECT_CLASS_TEXT:7,OBJECT_CLASS_3D:8};JXG$1.extendConstants(JXG$1,constants);const Const=constants;var undef,memoizer=function(e){var s,a;return e.memo||(s={},a=Array.prototype.join,e.memo=function(){var o=a.call(arguments);return s[o]!==undef?s[o]:s[o]=e.apply(this,arguments)}),e.memo};JXG$1.Math={eps:1e-6,relDif:function(e,s){var a=Math.abs(e),o=Math.abs(s);return o=Math.max(a,o),o===0?0:Math.abs(e-s)/o},mod:function(e,s){return e-Math.floor(e/s)*s},wrap:function(e,s,a){return s+this.mod(e-s,a-s)},clamp:function(e,s,a){return Math.min(Math.max(e,s),a)},wrapAndClamp:function(e,s,a,o){var h=.5*(s+a),c=.5*o;return this.clamp(this.wrap(e,h-c,h+c),s,a)},vector:function(e,s){var a,o;for(s=s||0,a=[],o=0;o<e;o++)a[o]=s;return a},matrix:function(e,s,a){var o,h,c;for(a=a||0,s=s||e,o=[],h=0;h<e;h++)for(o[h]=[],c=0;c<s;c++)o[h][c]=a;return o},identity:function(e,s){var a,o;for(s===undef&&typeof s!="number"&&(s=e),a=this.matrix(e,s),o=0;o<Math.min(e,s);o++)a[o][o]=1;return a},frustum:function(e,s,a,o,h,c){var d=this.matrix(4,4);return d[0][0]=h*2/(s-e),d[0][1]=0,d[0][2]=(s+e)/(s-e),d[0][3]=0,d[1][0]=0,d[1][1]=h*2/(o-a),d[1][2]=(o+a)/(o-a),d[1][3]=0,d[2][0]=0,d[2][1]=0,d[2][2]=-(c+h)/(c-h),d[2][3]=-(c*h*2)/(c-h),d[3][0]=0,d[3][1]=0,d[3][2]=-1,d[3][3]=0,d},projection:function(e,s,a,o){var h=a*Math.tan(e/2),c=h*s;return this.frustum(-c,c,-h,h,a,o)},matVecMult:function(e,s){var a,o,h,c=e.length,d=s.length,g=[];if(d===3)for(a=0;a<c;a++)g[a]=e[a][0]*s[0]+e[a][1]*s[1]+e[a][2]*s[2];else for(a=0;a<c;a++){for(o=0,h=0;h<d;h++)o+=e[a][h]*s[h];g[a]=o}return g},matMatMult:function(e,s){var a,o,h,c,d=e.length,g=d>0?s[0].length:0,_=s.length,b=this.matrix(d,g);for(a=0;a<d;a++)for(o=0;o<g;o++){for(h=0,c=0;c<_;c++)h+=e[a][c]*s[c][o];b[a][o]=h}return b},transpose:function(e){var s,a,o,h,c;for(h=e.length,c=e.length>0?e[0].length:0,s=this.matrix(c,h),a=0;a<c;a++)for(o=0;o<h;o++)s[a][o]=e[o][a];return s},inverse:function(e){var s,a,o,h,c,d,g,_=e.length,b=[],$=[],j=[];for(s=0;s<_;s++){for(b[s]=[],a=0;a<_;a++)b[s][a]=e[s][a];$[s]=s}for(a=0;a<_;a++){for(c=Math.abs(b[a][a]),d=a,s=a+1;s<_;s++)Math.abs(b[s][a])>c&&(c=Math.abs(b[s][a]),d=s);if(c<=this.eps)return[];if(d>a){for(o=0;o<_;o++)g=b[a][o],b[a][o]=b[d][o],b[d][o]=g;g=$[a],$[a]=$[d],$[d]=g}for(h=1/b[a][a],s=0;s<_;s++)b[s][a]*=h;for(b[a][a]=h,o=0;o<_;o++)if(o!==a){for(s=0;s<_;s++)s!==a&&(b[s][o]-=b[s][a]*b[a][o]);b[a][o]=-h*b[a][o]}}for(s=0;s<_;s++){for(o=0;o<_;o++)j[$[o]]=b[s][o];for(o=0;o<_;o++)b[s][o]=j[o]}return b},innerProduct:function(e,s,a){var o,h=0;for((a===undef||!JXG$1.isNumber(a))&&(a=e.length),o=0;o<a;o++)h+=e[o]*s[o];return h},crossProduct:function(e,s){return[e[1]*s[2]-e[2]*s[1],e[2]*s[0]-e[0]*s[2],e[0]*s[1]-e[1]*s[0]]},norm:function(e,s){var a,o=0;for((s===undef||!JXG$1.isNumber(s))&&(s=e.length),a=0;a<s;a++)o+=e[a]*e[a];return Math.sqrt(o)},axpy:function(e,s,a){var o,h=s.length,c=[];for(o=0;o<h;o++)c[o]=e*s[o]+a[o];return c},factorial:memoizer(function(e){return e<0?NaN:(e=Math.floor(e),e===0||e===1?1:e*this.factorial(e-1))}),binomial:memoizer(function(e,s){var a,o;if(s>e||s<0)return NaN;if(s=Math.round(s),e=Math.round(e),s===0||s===e)return 1;for(a=1,o=0;o<s;o++)a*=e-o,a/=o+1;return a}),cosh:Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))*.5},sinh:Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))*.5},acosh:Math.acosh||function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:Math.asinh||function(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))},cot:function(e){return 1/Math.tan(e)},acot:function(e){return(e>=0?.5:-.5)*Math.PI-Math.atan(e)},nthroot:function(e,s){var a=1/s;return s<=0||Math.floor(s)!==s?NaN:e===0?0:e>0?Math.exp(a*Math.log(e)):s%2===1?-Math.exp(a*Math.log(-e)):NaN},cbrt:Math.cbrt||function(e){return this.nthroot(e,3)},pow:function(e,s){return e===0?s===0?1:0:Math.floor(s)===s?Math.pow(e,s):e>0?Math.exp(s*Math.log(e)):NaN},ratpow:function(e,s,a){var o;return s===0?1:a===0?NaN:(o=this.gcd(s,a),this.nthroot(this.pow(e,s/o),a/o))},log10:function(e){return Math.log(e)/Math.log(10)},log2:function(e){return Math.log(e)/Math.log(2)},log:function(e,s){return s!==void 0&&JXG$1.isNumber(s)?Math.log(e)/Math.log(s):Math.log(e)},sign:Math.sign||function(e){return e=+e,e===0||isNaN(e)?e:e>0?1:-1},squampow:function(e,s){var a;if(Math.floor(s)===s){for(a=1,s<0&&(e=1/e,s*=-1);s!==0;)s&1&&(a*=e),s>>=1,e*=e;return a}return this.pow(e,s)},gcd:function(e,s){var a,o=!0;if(e=Math.abs(e),s=Math.abs(s),!(JXG$1.isNumber(e)&&JXG$1.isNumber(s)))return NaN;for(s>e&&(a=e,e=s,s=a);o;){if(e%=s,e===0)return s;if(s%=e,s===0)return e}},lcm:function(e,s){var a;return JXG$1.isNumber(e)&&JXG$1.isNumber(s)?(a=e*s,a!==0?a/this.gcd(e,s):0):NaN},roundToStep:function(e,s,a,o){var h=e,c,d;if(!JXG$1.exists(s)&&!JXG$1.exists(a)&&!JXG$1.exists(o))return h;if(JXG$1.exists(o)&&(h=Math.min(h,o)),JXG$1.exists(a)&&(h=Math.max(h,a)),d=a||0,JXG$1.exists(s)){if(c=(h-d)/s,Number.isInteger(c))return h;c=Math.round(c),h=d+c*s}return JXG$1.exists(o)&&(h=Math.min(h,o)),JXG$1.exists(a)&&(h=Math.max(h,a)),h},erf:function(e){return this.ProbFuncs.erf(e)},erfc:function(e){return this.ProbFuncs.erfc(e)},erfi:function(e){return this.ProbFuncs.erfi(e)},ndtr:function(e){return this.ProbFuncs.ndtr(e)},ndtri:function(e){return this.ProbFuncs.ndtri(e)},hypot:function(){var e,s,a,o;for(s=arguments.length,e=0,o=0;e<s;e++)a=arguments[e],o+=a*a;return Math.sqrt(o)},hstep:function(e){return e>0?1:e<0?0:.5},gamma:function(e){var s,a,o,h,c,d=7,g=[1,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(e<.5)a=Math.PI/(Math.sin(Math.PI*e)*this.gamma(1-e));else{for(e-=1,s=g[0],c=g.length,h=1;h<c;h++)s+=g[h]/(e+h);o=e+d+.5,a=Math.sqrt(2*Math.PI)*Math.pow(o,e+.5)*Math.exp(-o)*s}return a},lt:function(e,s){return e<s},leq:function(e,s){return e<=s},gt:function(e,s){return e>s},geq:function(e,s){return e>=s},eq:function(e,s){return e===s},neq:function(e,s){return e!==s},and:function(e,s){return e&&s},not:function(e){return!e},or:function(e,s){return e||s},xor:function(e,s){return(e||s)&&!(e&&s)},decToFraction:function(e,s){var a,o,h,c,d,g,_,b,$,j=0,_e=20;for(s=JXG$1.def(s,.001),e=Math.round(e*1e12)*1e-12,o=e<0?-1:1,e=Math.abs(e),a=Math.floor(e),e-=Math.floor(e),h=0,g=1,c=d=h,$=0,_=b=1;e-Math.floor(e)>s&&j<_e;)e=1/(e-h),h=Math.floor(e),c=g+h*d,_=$+h*b,g=d,$=b,d=c,b=_,j++;return[o,a,c,_]},normalize:function(e){var s,a,o=2*e[3],h=e[4]/o;return e[5]=h,e[6]=-e[1]/o,e[7]=-e[2]/o,isFinite(h)?Math.abs(h)>=1?(e[0]=(e[6]*e[6]+e[7]*e[7]-h*h)/(2*h),e[1]=-e[6]/h,e[2]=-e[7]/h,e[3]=1/(2*h),e[4]=1):(a=h<=0?-1:1,e[0]=a*(e[6]*e[6]+e[7]*e[7]-h*h)*.5,e[1]=-a*e[6],e[2]=-a*e[7],e[3]=a/2,e[4]=a*h):(s=this.hypot(e[1],e[2]),e[0]/=s,e[1]/=s,e[2]/=s,e[3]=0,e[4]=1),e},toGL:function(e){var s,a,o;if(typeof Float32Array=="function"?s=new Float32Array(16):s=new Array(16),e.length!==4&&e[0].length!==4)return s;for(a=0;a<4;a++)for(o=0;o<4;o++)s[a+4*o]=e[a][o];return s},Vieta:function(e){var s=e.length,a=[],o,h,c;for(a=e.slice(),o=1;o<s;++o){for(c=a[o],a[o]*=a[o-1],h=o-1;h>=1;--h)a[h]+=a[h-1]*c;a[0]+=c}return a}};const Mat=JXG$1.Math;JXG$1.extend(JXG$1,{isBoard:function(e){return e!==null&&typeof e=="object"&&this.isNumber(e.BOARD_MODE_NONE)&&this.isObject(e.objects)&&this.isObject(e.jc)&&this.isFunction(e.update)&&!!e.containerObj&&this.isString(e.id)},isId:function(e,s){return typeof s=="string"&&!!e.objects[s]},isName:function(e,s){return typeof s=="string"&&!!e.elementsByName[s]},isGroup:function(e,s){return typeof s=="string"&&!!e.groups[s]},isString:function(e){return typeof e=="string"},isNumber:function(e,s,a){var o=typeof e=="number"||Object.prototype.toString.call(e)==="[Object Number]";return s=s||!1,a=a===void 0?!0:a,s&&(o=o||""+parseFloat(e)===e),a||(o=o&&!isNaN(e)),o},isFunction:function(e){return typeof e=="function"},isArray:function(e){var s;return Array.isArray?s=Array.isArray(e):s=e!==null&&typeof e=="object"&&typeof e.splice=="function"&&typeof e.join=="function",s},isObject:function(e){return typeof e=="object"&&!this.isArray(e)},isDocumentOrFragment:function(e){return this.isObject(e)&&(e.nodeType===9||e.nodeType===11)},isPoint:function(e){return e!==null&&typeof e=="object"&&this.exists(e.elementClass)?e.elementClass===Const.OBJECT_CLASS_POINT:!1},isPoint3D:function(e){return e!==null&&typeof e=="object"&&this.exists(e.type)?e.type===Const.OBJECT_TYPE_POINT3D:!1},isPointType:function(e,s){var a,o;return this.isArray(s)||this.isFunction(s)&&(a=s(),this.isArray(a)&&a.length>1)?!0:(o=e.select(s),this.isPoint(o))},isPointType3D:function(e,s){var a,o;return this.isArray(s)&&s.length>=3||this.isFunction(s)&&(a=s(),this.isArray(a)&&a.length>=3)?!0:(o=e.select(s),this.isPoint3D(o))},isTransformationOrArray:function(e){if(e!==null){if(this.isArray(e)&&e.length>0)return this.isTransformationOrArray(e[0]);if(typeof e=="object")return e.type===Const.OBJECT_TYPE_TRANSFORMATION}return!1},isEmpty:function(e){return Object.keys(e).length===0},exists:function(e,s){var a=!(e==null||e===null);return s=s||!1,s?a&&e!=="":a},def:function(e,s){return this.exists(e)?e:s},str2Bool:function(e){return this.exists(e)?typeof e=="boolean"?e:this.isString(e)?e.toLowerCase()==="true":!1:!0},cssParse:function(e){var s=e;return this.isString(s)?(s=s.replace(/\s*;\s*$/g,""),s=s.replace(/\s*;\s*/g,'","'),s=s.replace(/\s*:\s*/g,'":"'),s=s.trim(),s='{"'+s+'"}',JSON.parse(s)):{}},cssStringify:function(e){var s="",a,o;if(!this.isObject(e))return"";for(a in e)e.hasOwnProperty(a)&&(o=e[a],!(!this.isString(o)&&!this.isNumber(o))&&(s+=a+":"+o+"; "));return s=s.trim(),s},createEvalFunction:function(e,s,a){var o=[],h,c,d,g={};for(c=0;c<a;c++){o[c]=JXG$1.createFunction(s[c],e);for(d in o[c].deps)g[d]=o[c].deps}return h=function(_){return o[_]()},h.deps=g,h},createFunction:function(e,s,a,o){var h=null;return this.isString(e)?h=s.jc.snippet(e,!0,a,!1):this.isFunction(e)?(h=e,h.deps=this.isObject(e.deps)?e.deps:{}):this.isNumber(e)&&(h=function(){return e},h.deps={}),h!==null&&(h.origin=e),h},providePoints:function(e,s,a,o,h){var c,d,g,_=0,b=[],$,j;for(this.isArray(s)||(s=[s]),g=s.length,this.exists(h)&&(_=h.length),_===0&&($=this.copyAttributes(a,e.options,o)),c=0;c<g;++c)if(_>0&&(d=Math.min(c,_-1),$=this.copyAttributes(a,e.options,o,h[d].toLowerCase())),this.isArray(s[c])&&s[c].length>1?(b.push(e.create("point",s[c],$)),b[b.length-1]._is_new=!0):this.isFunction(s[c])?(j=s[c](),this.isArray(j)&&j.length>1&&(b.push(e.create("point",[s[c]],$)),b[b.length-1]._is_new=!0)):b.push(e.select(s[c])),!this.isPoint(b[c]))return!1;return b},providePoints3D:function(e,s,a,o,h){var c,d,g,_=0,b=[],$,j;for(this.isArray(s)||(s=[s]),g=s.length,this.exists(h)&&(_=h.length),_===0&&($=this.copyAttributes(a,e.board.options,o)),c=0;c<g;++c)if(_>0&&(d=Math.min(c,_-1),$=this.copyAttributes(a,e.board.options,o,h[d])),this.isArray(s[c])&&s[c].length>1?(b.push(e.create("point3d",s[c],$)),b[b.length-1]._is_new=!0):this.isFunction(s[c])?(j=s[c](),this.isArray(j)&&j.length>1&&(b.push(e.create("point3d",[s[c]],$)),b[b.length-1]._is_new=!0)):b.push(e.select(s[c])),!this.isPoint3D(b[c]))return!1;return b},bind:function(e,s){return function(){return e.apply(s,arguments)}},evaluate:function(e){return this.isFunction(e)?e():e},indexOf:function(e,s,a){var o,h=this.exists(a);if(Array.indexOf&&!h)return e.indexOf(s);for(o=0;o<e.length;o++)if(h&&e[o][a]===s||!h&&e[o]===s)return o;return-1},eliminateDuplicates:function(e){var s,a=e.length,o=[],h={};for(s=0;s<a;s++)h[e[s]]=0;for(s in h)h.hasOwnProperty(s)&&o.push(s);return o},swap:function(e,s,a){var o;return o=e[s],e[s]=e[a],e[a]=o,e},uniqueArray:function(e){var s,a,o,h=[];if(e.length===0)return[];for(s=0;s<e.length;s++){if(o=this.isArray(e[s]),!this.exists(e[s])){e[s]="";continue}for(a=s+1;a<e.length;a++)o&&JXG$1.cmpArrays(e[s],e[a])?e[s]=[]:!o&&e[s]===e[a]&&(e[s]="")}for(a=0,s=0;s<e.length;s++)o=this.isArray(e[s]),!o&&e[s]!==""?(h[a]=e[s],a++):o&&e[s].length!==0&&(h[a]=e[s].slice(0),a++);return e=h,h},isInArray:function(e,s){return JXG$1.indexOf(e,s)>-1},coordsArrayToMatrix:function(e,s){var a,o=[],h=[];for(a=0;a<e.length;a++)s?(o.push(e[a].usrCoords[1]),h.push(e[a].usrCoords[2])):h.push([e[a].usrCoords[1],e[a].usrCoords[2]]);return s&&(h=[o,h]),h},cmpArrays:function(e,s){var a;if(e===s)return!0;if(e.length!==s.length)return!1;for(a=0;a<e.length;a++)if(this.isArray(e[a])&&this.isArray(s[a])){if(!this.cmpArrays(e[a],s[a]))return!1}else if(e[a]!==s[a])return!1;return!0},removeElementFromArray:function(e,s){var a;for(a=0;a<e.length;a++)if(e[a]===s)return e.splice(a,1),e;return e},trunc:function(e,s){return s=JXG$1.def(s,0),this.toFixed(e,s)},_decimalAdjust:function(e,s,a){return a===void 0||+a==0?Math[e](s):(s=+s,a=+a,isNaN(s)||!(typeof a=="number"&&a%1===0)?NaN:(s=s.toString().split("e"),s=Math[e](+(s[0]+"e"+(s[1]?+s[1]-a:-a))),s=s.toString().split("e"),+(s[0]+"e"+(s[1]?+s[1]+a:a))))},_round10:function(e,s){return this._decimalAdjust("round",e,s)},_floor10:function(e,s){return this._decimalAdjust("floor",e,s)},_ceil10:function(e,s){return this._decimalAdjust("ceil",e,s)},toFixed:function(e,s){return this._round10(e,-s).toFixed(s)},autoDigits:function(e){var s=Math.abs(e),a;return s>=.1?a=this.toFixed(e,2):s>=.01?a=this.toFixed(e,4):s>=1e-4?a=this.toFixed(e,6):a=e,a},parseNumber:function(e,s,a){var o;return this.isString(e)&&e.indexOf("%")>-1?(o=e.replace(/\s+%\s+/,""),parseFloat(o)*s*.01):this.isString(e)&&e.indexOf("fr")>-1?(o=e.replace(/\s+fr\s+/,""),parseFloat(o)*s):this.isString(e)&&e.indexOf("px")>-1?(o=e.replace(/\s+px\s+/,""),o=parseFloat(o),this.isFunction(a)?a(o):this.isNumber(a)?o*a:o):parseFloat(e)},parsePosition:function(e){var s,a,o="",h="";if(e=e.trim(),e!=="")for(s=e.split(/[ ,]+/),a=0;a<s.length;a++)s[a]==="left"||s[a]==="right"?o=s[a]:h=s[a];return{side:o,pos:h}},keys:function(e,s){var a=[],o;for(o in e)s?e.hasOwnProperty(o)&&a.push(o):a.push(o);return a},clone:function(e){var s={};return s.prototype=e,s},cloneAndCopy:function(e,s){var a,o=function(){};o.prototype=e;for(a in s)o[a]=s[a];return o},merge:function(e,s){var a,o,h,c;for(a in s)if(s.hasOwnProperty(a))if(h=s[a],this.isArray(h))for(e[a]||(e[a]=[]),o=0;o<h.length;o++)c=s[a][o],typeof s[a][o]=="object"?e[a][o]=this.merge(e[a][o],c):e[a][o]=s[a][o];else typeof h=="object"?(e[a]||(e[a]={}),e[a]=this.merge(e[a],h)):(typeof e=="boolean"&&(e={}),e[a]=h);return e},deepCopy:function(e,s,a){var o,h,c,d;if(a=a||!1,typeof e!="object"||e===null)return e;if(this.isArray(e))for(o=[],h=0;h<e.length;h++)c=e[h],c!==null&&typeof c=="object"?this.exists(c.board)?o[h]=c.id:o[h]=this.deepCopy(c,{},a):o[h]=c;else{o={};for(h in e)e.hasOwnProperty(h)&&(d=a?h.toLowerCase():h,c=e[h],c!==null&&typeof c=="object"?this.exists(c.board)?o[d]=c.id:o[d]=this.deepCopy(c,{},a):o[d]=c);for(h in s)s.hasOwnProperty(h)&&(d=a?h.toLowerCase():h,c=s[h],c!==null&&typeof c=="object"?this.isArray(c)||!this.exists(o[d])?o[d]=this.deepCopy(c,{},a):o[d]=this.deepCopy(o[d],c,a):o[d]=c)}return o},mergeAttr:function(e,s,a,o){var h,c,d;a=a||!0,o=o||!1;for(h in s)s.hasOwnProperty(h)&&(c=a?h.toLowerCase():h,c!==h&&e.hasOwnProperty(h)&&(e.hasOwnProperty(c)?this.mergeAttr(e[c],e[h],a):e[c]=e[h],delete e[h]),d=s[h],this.isObject(d)&&d!==null&&!this.isDocumentOrFragment(d)&&!this.exists(d.board)&&typeof d.valueOf()!="string"?((e[c]===void 0||e[c]===null||!this.isObject(e[c]))&&(e[c]={}),this.mergeAttr(e[c],d,a)):(!o||this.exists(d))&&(e[c]=d))},keysToLowerCase:function(e){var s,a,o=Object.keys(e),h=o.length,c={};if(typeof e!="object")return e;for(;h--;)s=o[h],e.hasOwnProperty(s)&&(a=e[s],typeof a=="object"&&a!==null&&!this.isArray(a)&&!this.exists(a.nodeType)&&!this.exists(a.board)?c[s.toLowerCase()]=this.keysToLowerCase(a):c[s.toLowerCase()]=a);return c},copyAttributes:function(e,s,a){var o,h,c,d,g,_,b={circle:1,curve:1,foreignobject:1,image:1,line:1,point:1,polygon:1,text:1,ticks:1,integral:1};for(d=arguments.length,d<3||b[a]?o=JXG$1.deepCopy(s.elements,null,!0):o={},d<4&&this.exists(a)&&this.exists(s.layer[a])&&(o.layer=s.layer[a]),g=s,_=!0,c=2;c<d;c++)if(h=arguments[c],this.exists(g[h]))g=g[h];else{_=!1;break}for(_&&(o=JXG$1.deepCopy(o,g,!0)),g=typeof e=="object"?this.keysToLowerCase(e):{},_=!0,c=3;c<d;c++)if(h=arguments[c].toLowerCase(),this.exists(g[h]))g=g[h];else{_=!1;break}if(_&&this.mergeAttr(o,g,!0),arguments[2]==="board")return o;for(g=s,_=!0,c=2;c<d;c++)if(h=arguments[c],this.exists(g[h]))g=g[h];else{_=!1;break}return _&&this.exists(g.label)&&(o.label=JXG$1.deepCopy(g.label,o.label,!0)),o.label=JXG$1.deepCopy(s.label,o.label,!0),o},copyPrototypeMethods:function(e,s,a){var o;e.prototype[a]=s.prototype.constructor;for(o in s.prototype)s.prototype.hasOwnProperty(o)&&(e.prototype[o]=s.prototype[o])},toJSON:function(e,s){var a,o,h,c,d;if(s=JXG$1.def(s,!1),JSON!==void 0&&JSON.stringify&&!s)try{return c=JSON.stringify(e),c}catch{}switch(typeof e){case"object":if(e){if(a=[],this.isArray(e)){for(h=0;h<e.length;h++)a.push(JXG$1.toJSON(e[h],s));return"["+a.join(",")+"]"}for(o in e)if(e.hasOwnProperty(o)){try{d=JXG$1.toJSON(e[o],s)}catch{d=""}s?a.push(o+":"+d):a.push('"'+o+'":'+d)}return"{"+a.join(",")+"} "}return"null";case"string":return"'"+e.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return e.toString()}return"0"},clearVisPropOld:function(e){return e.visPropOld={cssclass:"",cssdefaultstyle:"",cssstyle:"",fillcolor:"",fillopacity:"",firstarrow:!1,fontsize:-1,lastarrow:!1,left:-1e5,linecap:"",shadow:!1,strokecolor:"",strokeopacity:"",strokewidth:"",tabindex:-1e5,transitionduration:0,top:-1e5,visible:null},e},isInObject:function(e,s){var a;for(a in e)if(e.hasOwnProperty(a)&&e[a]===s)return!0;return!1},escapeHTML:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(e){return e.replace(/<\/?[^>]+>/gi,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},trimNumber:function(e){return e=e.replace(/^0+/,""),e=e.replace(/0+$/,""),(e[e.length-1]==="."||e[e.length-1]===",")&&(e=e.slice(0,-1)),(e[0]==="."||e[0]===",")&&(e="0"+e),e},filterElements:function(e,s){var a,o,h,c,d,g,_,b=e.length,$=[];if(typeof s!="function"&&typeof s!="object")return $;for(a=0;a<b;a++){if(_=!0,h=e[a],typeof s=="object"){for(o in s)if(s.hasOwnProperty(o)&&(c=o.toLowerCase(),typeof h[o]=="function"?d=h[o]():d=h[o],h.visProp&&typeof h.visProp[c]=="function"?g=h.visProp[c]():g=h.visProp&&h.visProp[c],typeof s[o]=="function"?_=s[o](d)||s[o](g):_=d===s[o]||g===s[o],!_))break}else typeof s=="function"&&(_=s(h));_&&$.push(h)}return $},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},toFraction:function(e,s,a){var o=Mat.decToFraction(e,a),h="";return o[1]===0&&o[2]===0?h+="0":(o[0]<0&&(h+="-"),o[2]===0?h+=o[1]:o[2]===1&&o[3]===1||(o[1]!==0&&(h+=o[1]+" "),s===!0?h+="\\frac{"+o[2]+"}{"+o[3]+"}":h+=o[2]+"/"+o[3])),h},concat:function(e,s){var a,o=s.length;for(a=0;a<o;a++)e.push(s[a]);return e},sanitizeHTML:function(e,s){return typeof html_sanitize=="function"&&s?html_sanitize(e,function(){},function(a){return a}):(e&&typeof e=="string"&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),e)},evalSlider:function(e){return e&&e.type===Const.OBJECT_TYPE_GLIDER&&typeof e.Value=="function"?e.Value():e},stack2jsxgraph:function(e){var s;return s=e.replace(/%pi/g,"PI").replace(/%e/g,"EULER").replace(/%phi/g,"1.618033988749895").replace(/%gamma/g,"0.5772156649015329").trim(),s[0]==="["&&s[s.length-1]==="]"&&(s=s.slice(1,-1).split(/\s*,\s*/)),s}});JXG$1.extendConstants(JXG$1,{});JXG$1.extend(JXG$1,{isTouchEvent:function(e){return JXG$1.exists(e.touches)},isPointerEvent:function(e){return JXG$1.exists(e.pointerId)},isMouseEvent:function(e){return!JXG$1.isTouchEvent(e)&&!JXG$1.isPointerEvent(e)},getNumberOfTouchPoints:function(e){var s=-1;return JXG$1.isTouchEvent(e)&&(s=e.touches.length),s},isFirstTouch:function(e){var s=JXG$1.getNumberOfTouchPoints(e);return JXG$1.isPointerEvent(e)?e.isPrimary:s===1},isBrowser:typeof window=="object"&&typeof document=="object",supportsES6:function(){try{return new Function("(a = 0) => a"),!0}catch{return!1}},supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){var e;return this.isBrowser?(e=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e):!1},supportsCanvas:function(){var e=!1;return this.isNode()&&(e=!0),e||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&typeof process<"u"&&process.release.name.search(/node|io.js/)!==-1},isWebWorker:function(){return!this.isBrowser&&typeof self=="object"&&typeof self.postMessage=="function"},supportsPointerEvents:function(){return!!(this.isBrowser&&window.navigator&&(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled))},isTouchDevice:function(){return this.isBrowser&&window.ontouchstart!==void 0},isAndroid:function(){return JXG$1.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")>-1},isWebkitAndroid:function(){return this.isAndroid()&&navigator.userAgent.indexOf(" AppleWebKit/")>-1},isApple:function(){return JXG$1.exists(navigator)&&(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)},isWebkitApple:function(){return this.isApple()&&navigator.userAgent.search(/Mobile\/[0-9A-Za-z.]*Safari/)>-1},isMetroApp:function(){return typeof window=="object"&&window.clientInformation&&window.clientInformation.appVersion&&window.clientInformation.appVersion.indexOf("MSAppHost")>-1},isMozilla:function(){return JXG$1.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1&&navigator.userAgent.toLowerCase().indexOf("apple")===-1},isFirefoxOS:function(){return JXG$1.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")===-1&&navigator.userAgent.toLowerCase().indexOf("apple")===-1&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1},isDesktop:function(){return!0},isMobile:function(){return!0},ieVersion:function(){var e,s,a=3;if(typeof document!="object")return 0;e=document.createElement("div"),s=e.getElementsByTagName("i");do e.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->";while(s[0]);return a>4?a:void 0}(),getDimensions:function(e,s){var a,o,h,c,d,g,_,b,$,j=/\d+(\.\d*)?px/;if(!this.isBrowser||e===null)return{width:500,height:500};if(s=s||document,a=JXG$1.isString(e)?s.getElementById(e):e,!JXG$1.exists(a))throw new Error(`
JSXGraph: HTML container element '`+e+"' not found.");return o=a.style.display,o!=="none"&&o!==null?a.clientWidth>0&&a.clientHeight>0?{width:a.clientWidth,height:a.clientHeight}:($=window.getComputedStyle?window.getComputedStyle(a):a.style,{width:j.test($.width)?parseFloat($.width):0,height:j.test($.height)?parseFloat($.height):0}):(h=a.style,c=h.visibility,d=h.position,g=h.display,h.visibility="hidden",h.position="absolute",h.display="block",_=a.clientWidth,b=a.clientHeight,h.display=g,h.position=d,h.visibility=c,{width:_,height:b})},addEvent:function(e,s,a,o,h){var c=function(){return a.apply(o,arguments)};c.origin=a,typeof o=="object"&&JXG$1.exists(o.BOARD_MODE_NONE)&&(o["x_internal"+s]=o["x_internal"+s]||[],o["x_internal"+s].push(c)),JXG$1.exists(e)&&JXG$1.exists(e.addEventListener)&&(h=h||!1,e.addEventListener(s,c,h)),JXG$1.exists(e)&&JXG$1.exists(e.attachEvent)&&e.attachEvent("on"+s,c)},removeEvent:function(e,s,a,o){var h;if(!JXG$1.exists(o)){JXG$1.debug("no such owner");return}if(!JXG$1.exists(o["x_internal"+s])){JXG$1.debug("removeEvent: no such type: "+s);return}if(!JXG$1.isArray(o["x_internal"+s])){JXG$1.debug("owner[x_internal + "+s+"] is not an array");return}if(h=JXG$1.indexOf(o["x_internal"+s],a,"origin"),h===-1){JXG$1.debug("removeEvent: no such event function in internal list: "+a);return}try{JXG$1.exists(e)&&JXG$1.exists(e.removeEventListener)&&e.removeEventListener(s,o["x_internal"+s][h],!1),JXG$1.exists(e)&&JXG$1.exists(e.detachEvent)&&e.detachEvent("on"+s,o["x_internal"+s][h])}catch{JXG$1.debug("removeEvent: event not registered in browser: ("+s+" -- "+a+")")}o["x_internal"+s].splice(h,1)},removeAllEvents:function(e,s,a){var o,h;if(a["x_internal"+s]){for(h=a["x_internal"+s].length,o=h-1;o>=0;o--)JXG$1.removeEvent(e,s,a["x_internal"+s][o].origin,a);a["x_internal"+s].length>0&&JXG$1.debug("removeAllEvents: Not all events could be removed.")}},getPosition:function(e,s,a){var o,h,c,d=0,g=0;if(e||(e=window.event),c=e.touches,JXG$1.exists(c)&&c.length===0&&(c=e.changedTouches),JXG$1.exists(s)&&JXG$1.exists(c))if(s===-1){for(h=c.length,o=0;o<h;o++)if(c[o]){e=c[o];break}}else e=c[s];return e.clientX&&(d=e.clientX,g=e.clientY),[d,g]},getOffset:function(e){var s,a=e,o=e,h=a.offsetLeft-a.scrollLeft,c=a.offsetTop-a.scrollTop;for(s=this.getCSSTransform([h,c],a),h=s[0],c=s[1],a=a.offsetParent;a;){for(h+=a.offsetLeft,c+=a.offsetTop,a.offsetParent&&(h+=a.clientLeft-a.scrollLeft,c+=a.clientTop-a.scrollTop),s=this.getCSSTransform([h,c],a),h=s[0],c=s[1],o=o.parentNode;o!==a;)h+=o.clientLeft-o.scrollLeft,c+=o.clientTop-o.scrollTop,s=this.getCSSTransform([h,c],o),h=s[0],c=s[1],o=o.parentNode;a=a.offsetParent}return[h,c]},getStyle:function(e,s){var a,o=e.ownerDocument;return o.defaultView&&o.defaultView.getComputedStyle?a=o.defaultView.getComputedStyle(e,null).getPropertyValue(s):e.currentStyle&&JXG$1.ieVersion>=9?a=e.currentStyle[s]:e.style&&(s=s.replace(/-([a-z]|[0-9])/gi,function(h,c){return c.toUpperCase()}),a=e.style[s]),a},getProp:function(e,s){var a=parseInt(this.getStyle(e,s),10);return isNaN(a)?0:a},getCSSTransform:function(e,s){var a,o,h,c,d,g,_,b,$=["transform","webkitTransform","MozTransform","msTransform","oTransform"];for(g=$.length,a=0,h="";a<g;a++)if(JXG$1.exists(s.style[$[a]])){h=s.style[$[a]];break}if(h!==""&&(d=h.indexOf("("),d>0)){for(g=h.length,c=h.substring(d+1,g-1),b=c.split(","),o=0,_=b.length;o<_;o++)b[o]=parseFloat(b[o]);h.indexOf("matrix")===0?(e[0]+=b[4],e[1]+=b[5]):h.indexOf("translateX")===0?e[0]+=b[0]:h.indexOf("translateY")===0?e[1]+=b[0]:h.indexOf("translate")===0&&(e[0]+=b[0],e[1]+=b[1])}return JXG$1.exists(s.style.zoom)&&(h=s.style.zoom,h!==""&&(e[0]*=parseFloat(h),e[1]*=parseFloat(h))),e},getCSSTransformMatrix:function(e){var s,a,o,h,c,d,g,_,b,$=e.ownerDocument,j=["transform","webkitTransform","MozTransform","msTransform","oTransform"],_e=[[1,0,0],[0,1,0],[0,0,1]];if($.defaultView&&$.defaultView.getComputedStyle)b=$.defaultView.getComputedStyle(e,null),o=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");else for(g=j.length,s=0,o="";s<g;s++)if(JXG$1.exists(e.style[j[s]])){o=e.style[j[s]];break}if(o!==""&&(d=o.indexOf("("),d>0)){for(g=o.length,h=o.substring(d+1,g-1),c=h.split(","),a=0,_=c.length;a<_;a++)c[a]=parseFloat(c[a]);o.indexOf("matrix")===0?_e=[[1,0,0],[0,c[0],c[1]],[0,c[2],c[3]]]:o.indexOf("scaleX")===0?_e[1][1]=c[0]:o.indexOf("scaleY")===0?_e[2][2]=c[0]:o.indexOf("scale")===0&&(_e[1][1]=c[0],_e[2][2]=c[1])}return JXG$1.exists(e.style.zoom)&&(o=e.style.zoom,o!==""&&(_e[1][1]*=parseFloat(o),_e[2][2]*=parseFloat(o))),_e},timedChunk:function(e,s,a,o){var h=e.slice(),c=function(){var d=+new Date;do s.call(a,h.shift());while(h.length>0&&+new Date-d<300);h.length>0?window.setTimeout(c,1):o(e)};window.setTimeout(c,1)},scaleJSXGraphDiv:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e,et,tt=o,it,at=[":fullscreen",":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"],nt=at.length,st;for(d=a.getElementById(e).getBoundingClientRect(),c=d.height,h=d.width,j=a.getElementById(s),b=j._cssFullscreenStore.w,$=j._cssFullscreenStore.h,it=$/b,b>h*tt&&(b=h*tt,$=b*it),$>c*tt&&($=c*tt,b=$/it),g=b,_=$,it>1,it<c/h?_e=h*tt/b:_e=c*tt/$,et=(c-_)*.5,st=0;st<nt;st++)try{j.style.width=g+"px !important",j.style.height=_+"px !important",j.style.margin="0 auto",j.style.transform=j._cssFullscreenStore.transform+" matrix("+_e+",0,0,"+_e+",0,"+et+")";break}catch(rt){JXG$1.debug(`JXG.scaleJSXGraphDiv:
`+rt)}st===nt&&JXG$1.debug("JXG.scaleJSXGraphDiv: Could not set any CSS property.")}});JXG$1.XML={cleanWhitespace:function(e){for(var s=e.firstChild;JXG$1.exists(s);)s.nodeType===3&&!/\S/.test(s.nodeValue)?e.removeChild(s):s.nodeType===1&&this.cleanWhitespace(s),s=s.nextSibling},parse:function(e){var s,a,o;return typeof DOMParser=="function"||typeof DOMParser=="object"?o=DOMParser:o=function(){this.parseFromString=function(h){var c;return typeof ActiveXObject=="function"&&(c=new ActiveXObject("MSXML.DomDocument"),c.loadXML(h)),c}},s=new o,a=s.parseFromString(e,"text/xml"),this.cleanWhitespace(a),a}};JXG$1.XML;JXG$1.EventEmitter={eventHandlers:{},suspended:{},trigger:function(e,s){var a,o,h,c,d,g;for(d=e.length,o=0;o<d;o++)if(c=this.eventHandlers[e[o]],!this.suspended[e[o]]){if(this.suspended[e[o]]=!0,c)for(g=c.length,a=0;a<g;a++)h=c[a],h.handler.apply(h.context,s);this.suspended[e[o]]=!1}return this},on:function(e,s,a){return JXG$1.isArray(this.eventHandlers[e])||(this.eventHandlers[e]=[]),a=JXG$1.def(a,this),this.eventHandlers[e].push({handler:s,context:a}),this},off:function(e,s){var a;return!e||!JXG$1.isArray(this.eventHandlers[e])?this:(s?(a=JXG$1.indexOf(this.eventHandlers[e],s,"handler"),a>-1&&this.eventHandlers[e].splice(a,1),this.eventHandlers[e].length===0&&delete this.eventHandlers[e]):delete this.eventHandlers[e],this)},eventify:function(e){e.eventHandlers={clicks:0},e.on=this.on,e.off=this.off,e.triggerEventHandlers=this.trigger,e.trigger=this.trigger,e.suspended={}}};const EventEmitter=JXG$1.EventEmitter;JXG$1.Coords=function(e,s,a,o){this.board=a,this.usrCoords=[],this.scrCoords=[],this.emitter=!JXG$1.exists(o)||o,this.emitter&&EventEmitter.eventify(this),this.setCoordinates(e,s,!1,!0)};JXG$1.extend(JXG$1.Coords.prototype,{normalizeUsrCoords:function(){Math.abs(this.usrCoords[0])>Mat.eps&&(this.usrCoords[1]/=this.usrCoords[0],this.usrCoords[2]/=this.usrCoords[0],this.usrCoords[0]=1)},usr2screen:function(e){var s=Math.round,a=this.board,o=this.usrCoords,h=a.origin.scrCoords;e===!0?(this.scrCoords[0]=s(o[0]),this.scrCoords[1]=s(o[0]*h[1]+o[1]*a.unitX),this.scrCoords[2]=s(o[0]*h[2]-o[2]*a.unitY)):(this.scrCoords[0]=o[0],this.scrCoords[1]=o[0]*h[1]+o[1]*a.unitX,this.scrCoords[2]=o[0]*h[2]-o[2]*a.unitY)},screen2usr:function(){var e=this.board.origin.scrCoords,s=this.scrCoords,a=this.board;this.usrCoords[0]=1,this.usrCoords[1]=(s[1]-e[1])/a.unitX,this.usrCoords[2]=(e[2]-s[2])/a.unitY},distance:function(e,s){var a=0,o,h=this.usrCoords,c=this.scrCoords,d;return e===Const.COORDS_BY_USER?(o=s.usrCoords,d=h[0]-o[0],a=d*d,a>Mat.eps*Mat.eps?Number.POSITIVE_INFINITY:Mat.hypot(h[1]-o[1],h[2]-o[2])):(o=s.scrCoords,Mat.hypot(c[1]-o[1],c[2]-o[2]))},setCoordinates:function(e,s,a,o){var h=this.usrCoords,c=this.scrCoords,d=[h[0],h[1],h[2]],g=[c[0],c[1],c[2]];return e===Const.COORDS_BY_USER?(s.length===2?(h[0]=1,h[1]=s[0],h[2]=s[1]):(h[0]=s[0],h[1]=s[1],h[2]=s[2],this.normalizeUsrCoords()),this.usr2screen(a)):(s.length===2?(c[1]=s[0],c[2]=s[1]):(c[1]=s[1],c[2]=s[2]),this.screen2usr()),this.emitter&&!o&&(g[1]!==c[1]||g[2]!==c[2])&&this.triggerEventHandlers(["update"],[d,g]),this},copy:function(e,s){return s===void 0&&(s=0),this[e].slice(s)},isReal:function(){return!isNaN(this.usrCoords[1]+this.usrCoords[2])&&Math.abs(this.usrCoords[0])>Mat.eps},__evt__update:function(e,s){},__evt:function(){}});const Coords=JXG$1.Coords;JXG$1.Expect={each:function(e,s,a){var o,h,c=[];if(JXG$1.exists(e.length))for(h=e.length,o=0;o<h;o++)c.push(s.call(this,e[o],a));return c},coords:function(e,s){var a=e;return e&&e.elementClass===Const.OBJECT_CLASS_POINT?a=e.coords:e.usrCoords&&e.scrCoords&&e.usr2screen&&(a=e),s&&(a=new Coords(Const.COORDS_BY_USER,a.usrCoords,a.board)),a},coordsArray:function(e,s){var a;return JXG$1.isArray(e)?a=e:a=this.coords(e).usrCoords,a.length<3&&a.unshift(1),s&&(a=[a[0],a[1],a[2]]),a}};const Expect=JXG$1.Expect;Mat.ProbFuncs={MAXNUM:17014118346046923e22,SQRTH:.7071067811865476,SQRT2:1.4142135623730951,MAXLOG:708.3964185322641,P:[2461969814735305e-25,.5641895648310689,7.463210564422699,48.63719709856814,196.5208329560771,526.4451949954773,934.5285271719576,1027.5518868951572,557.5353353693994],Q:[13.228195115474499,86.70721408859897,354.9377788878199,975.7085017432055,1823.9091668790973,2246.3376081871097,1656.6630919416134,557.5353408177277],R:[.5641895835477551,1.275366707599781,5.019050422511805,6.160210979930536,7.4097426995044895,2.9788666537210022],S:[2.2605286322011726,9.396035249380015,12.048953980809666,17.08144507475659,9.608968090632859,3.369076451000815],T:[9.604973739870516,90.02601972038427,2232.005345946843,7003.325141128051,55592.30130103949],U:[33.56171416475031,521.3579497801527,4594.323829709801,22629.000061389095,49267.39426086359],M:128,MINV:.0078125,expx2:function(e,s){var a,o,h,c;return e=Math.abs(e),s<0&&(e=-e),h=this.MINV*Math.floor(this.M*e+.5),c=e-h,a=h*h,o=2*h*c+c*c,s<0&&(a=-a,o=-o),a+o>this.MAXLOG?1/0:(a=Math.exp(a)*Math.exp(o),a)},polevl:function(e,s,a){var o,h;if(JXG$1.exists(s.reduce))return s.reduce(function(c,d){return c*e+d},0);for(h=0,o=0;h<=a;h++)o=o*e+s[h];return o},p1evl:function(e,s,a){var o,h;if(JXG$1.exists(s.reduce))return s.reduce(function(c,d){return c*e+d},1);for(h=0,o=1;h<a;h++)o=o*e+s[h];return o},ndtr:function(e){var s,a,o;return s=e*this.SQRTH,o=Math.abs(s),o<1?a=.5+.5*this.erf(s):(a=.5*this.erfce(o),o=this.expx2(e,-1),a=a*Math.sqrt(o),s>0&&(a=1-a)),a},_underflow:function(e){return console.log("erfc","UNDERFLOW"),e<0?2:0},erfc:function(e){var s,a,o,h,c;return e<0?o=-e:o=e,o<1?1-this.erf(e):(c=-e*e,c<-this.MAXLOG?this._underflow(e):(c=this.expx2(e,-1),o<8?(s=this.polevl(o,this.P,8),a=this.p1evl(o,this.Q,8)):(s=this.polevl(o,this.R,5),a=this.p1evl(o,this.S,6)),h=c*s/a,e<0&&(h=2-h),h===0?this._underflow(e):h))},erfce:function(e){var s,a;return e<8?(s=this.polevl(e,this.P,8),a=this.p1evl(e,this.Q,8)):(s=this.polevl(e,this.R,5),a=this.p1evl(e,this.S,6)),s/a},erf:function(e){var s,a;return Math.abs(e)>1?1-this.erfc(e):(a=e*e,s=e*this.polevl(a,this.T,4)/this.p1evl(a,this.U,5),s)},s2pi:2.5066282746310007,P0:[-59.96335010141079,98.00107541859997,-56.67628574690703,13.931260938727968,-1.2391658386738125],Q0:[1.9544885833814176,4.676279128988815,86.36024213908905,-225.46268785411937,200.26021238006066,-82.03722561683334,15.90562251262117,-1.1833162112133],P1:[4.0554489230596245,31.525109459989388,57.16281922464213,44.08050738932008,14.684956192885803,2.1866330685079025,-.1402560791713545,-.03504246268278482,-.0008574567851546854],Q1:[15.779988325646675,45.39076351288792,41.3172038254672,15.04253856929075,2.504649462083094,-.14218292285478779,-.03808064076915783,-.0009332594808954574],P2:[3.2377489177694603,6.915228890689842,3.9388102529247444,1.3330346081580755,.20148538954917908,.012371663481782003,.00030158155350823543,26580697468673755e-22,6239745391849833e-24],Q2:[6.02427039364742,3.6798356385616087,1.3770209948908132,.21623699359449663,.013420400608854318,.00032801446468212774,28924786474538068e-22,6790194080099813e-24],ndtri:function(e){var s,a,o,h,c,d,g;return e<=0?-1/0:e>=1?1/0:(g=1,a=e,a>1-.1353352832366127&&(a=1-a,g=0),a>.1353352832366127?(a=a-.5,h=a*a,s=a+a*(h*this.polevl(h,this.P0,4)/this.p1evl(h,this.Q0,8)),s=s*this.s2pi,s):(s=Math.sqrt(-2*Math.log(a)),c=s-Math.log(s)/s,o=1/s,s<8?d=o*this.polevl(o,this.P1,8)/this.p1evl(o,this.Q1,8):d=o*this.polevl(o,this.P2,8)/this.p1evl(o,this.Q2,8),s=c-d,g!==0&&(s=-s),s))},erfi:function(e){return this.ndtri((e+1)*.5)*this.SQRTH}};Mat.ProbFuncs;JXG$1.Math.DoubleBits=function(){var e=new Float64Array(1),s=new Uint32Array(e.buffer),a,o,h,c,d,g,_,b;Float64Array!==void 0&&(e[0]=1,s[1]===1072693248?(a=function($){return e[0]=$,[s[0],s[1]]},o=function($,j){return s[0]=$,s[1]=j,e[0]},h=function($){return e[0]=$,s[0]},c=function($){return e[0]=$,s[1]},this.doubleBits=a,this.pack=o,this.lo=h,this.hi=c):s[0]===1072693248&&(d=function($){return e[0]=$,[s[1],s[0]]},g=function($,j){return s[1]=$,s[0]=j,e[0]},_=function($){return e[0]=$,s[1]},b=function($){return e[0]=$,s[0]},this.doubleBits=d,this.pack=g,this.lo=_,this.hi=b))};JXG$1.extend(JXG$1.Math.DoubleBits.prototype,{sign:function(e){return this.hi(e)>>>31},exponent:function(e){var s=this.hi(e);return(s<<1>>>21)-1023},fraction:function(e){var s=this.lo(e),a=this.hi(e),o=a&(1<<20)-1;return a&2146435072&&(o+=1<<20),[s,o]},denormalized:function(e){var s=this.hi(e);return!(s&2146435072)}});var doubleBits=new JXG$1.Math.DoubleBits,MatInterval=function(e,s){if(e!==void 0&&s!==void 0){if(Mat.IntervalArithmetic.isInterval(e)){if(!Mat.IntervalArithmetic.isSingleton(e))throw new TypeError("JXG.Math.IntervalArithmetic: interval `lo` must be a singleton");this.lo=e.lo}else this.lo=e;if(Mat.IntervalArithmetic.isInterval(s)){if(!Mat.IntervalArithmetic.isSingleton(s))throw new TypeError("JXG.Math.IntervalArithmetic: interval `hi` must be a singleton");this.hi=s.hi}else this.hi=s}else{if(e!==void 0)return Array.isArray(e)?new MatInterval(e[0],e[1]):new MatInterval(e,e);this.lo=this.hi=0}};JXG$1.extend(MatInterval.prototype,{print:function(){console.log("[",this.lo,this.hi,"]")},set:function(e,s){return this.lo=e,this.hi=s,this},bounded:function(e,s){return this.set(Mat.IntervalArithmetic.prev(e),Mat.IntervalArithmetic.next(s))},boundedSingleton:function(e){return this.bounded(e,e)},assign:function(e,s){if(typeof e!="number"||typeof s!="number")throw new TypeError("JXG.Math.Interval#assign: arguments must be numbers");return isNaN(e)||isNaN(s)||e>s?this.setEmpty():this.set(e,s)},setEmpty:function(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},setWhole:function(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)},open:function(e,s){return this.assign(Mat.IntervalArithmetic.next(e),Mat.IntervalArithmetic.prev(s))},halfOpenLeft:function(e,s){return this.assign(Mat.IntervalArithmetic.next(e),s)},halfOpenRight:function(e,s){return this.assign(e,Mat.IntervalArithmetic.prev(s))},toArray:function(){return[this.lo,this.hi]},clone:function(){return new MatInterval().set(this.lo,this.hi)}});JXG$1.Math.IntervalArithmetic={Interval:function(e,s){return new MatInterval(e,s)},isInterval:function(e){return e!==null&&typeof e=="object"&&typeof e.lo=="number"&&typeof e.hi=="number"},isSingleton:function(e){return e.lo===e.hi},add:function(e,s){return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),new MatInterval(this.addLo(e.lo,s.lo),this.addHi(e.hi,s.hi))},sub:function(e,s){return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),new MatInterval(this.subLo(e.lo,s.hi),this.subHi(e.hi,s.lo))},mul:function(e,s){var a,o,h,c,d;return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),this.isEmpty(e)||this.isEmpty(s)?this.EMPTY.clone():(a=e.lo,o=e.hi,h=s.lo,c=s.hi,d=new MatInterval,a<0?o>0?h<0?c>0?(d.lo=Math.min(this.mulLo(a,c),this.mulLo(o,h)),d.hi=Math.max(this.mulHi(a,h),this.mulHi(o,c))):(d.lo=this.mulLo(o,h),d.hi=this.mulHi(a,h)):c>0?(d.lo=this.mulLo(a,c),d.hi=this.mulHi(o,c)):(d.lo=0,d.hi=0):h<0?c>0?(d.lo=this.mulLo(a,c),d.hi=this.mulHi(a,h)):(d.lo=this.mulLo(o,c),d.hi=this.mulHi(a,h)):c>0?(d.lo=this.mulLo(a,c),d.hi=this.mulHi(o,h)):(d.lo=0,d.hi=0):o>0?h<0?c>0?(d.lo=this.mulLo(o,h),d.hi=this.mulHi(o,c)):(d.lo=this.mulLo(o,h),d.hi=this.mulHi(a,c)):c>0?(d.lo=this.mulLo(a,h),d.hi=this.mulHi(o,c)):(d.lo=0,d.hi=0):(d.lo=0,d.hi=0),d)},div:function(e,s){return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),this.isEmpty(e)||this.isEmpty(s)?this.EMPTY.clone():this.zeroIn(s)?s.lo!==0?s.hi!==0?this.divZero(e):this.divNegative(e,s.lo):s.hi!==0?this.divPositive(e,s.hi):this.EMPTY.clone():this.divNonZero(e,s)},positive:function(e){return new MatInterval(e.lo,e.hi)},negative:function(e){return JXG$1.isNumber(e)?new MatInterval(-e):new MatInterval(-e.hi,-e.lo)},isEmpty:function(e){return e.lo>e.hi},isWhole:function(e){return e.lo===-1/0&&e.hi===1/0},zeroIn:function(e){return this.hasValue(e,0)},hasValue:function(e,s){return this.isEmpty(e)?!1:e.lo<=s&&s<=e.hi},hasInterval:function(e,s){return this.isEmpty(e)?!0:!this.isEmpty(s)&&s.lo<=e.lo&&e.hi<=s.hi},intervalsOverlap:function(e,s){return this.isEmpty(e)||this.isEmpty(s)?!1:e.lo<=s.lo&&s.lo<=e.hi||s.lo<=e.lo&&e.lo<=s.hi},divNonZero:function(e,s){var a=e.lo,o=e.hi,h=s.lo,c=s.hi,d=new MatInterval;return o<0?c<0?(d.lo=this.divLo(o,h),d.hi=this.divHi(a,c)):(d.lo=this.divLo(a,h),d.hi=this.divHi(o,c)):a<0?c<0?(d.lo=this.divLo(o,c),d.hi=this.divHi(a,c)):(d.lo=this.divLo(a,h),d.hi=this.divHi(o,h)):c<0?(d.lo=this.divLo(o,c),d.hi=this.divHi(a,h)):(d.lo=this.divLo(a,c),d.hi=this.divHi(o,h)),d},divPositive:function(e,s){return e.lo===0&&e.hi===0?e:this.zeroIn(e)?this.WHOLE:e.hi<0?new MatInterval(Number.NEGATIVE_INFINITY,this.divHi(e.hi,s)):new MatInterval(this.divLo(e.lo,s),Number.POSITIVE_INFINITY)},divNegative:function(e,s){return e.lo===0&&e.hi===0?e:this.zeroIn(e)?this.WHOLE:e.hi<0?new MatInterval(this.divLo(e.hi,s),Number.POSITIVE_INFINITY):new MatInterval(Number.NEGATIVE_INFINITY,this.divHi(e.lo,s))},divZero:function(e){return e.lo===0&&e.hi===0?e:this.WHOLE},fmod:function(e,s){var a,o;return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),this.isEmpty(e)||this.isEmpty(s)?this.EMPTY.clone():(a=e.lo<0?s.lo:s.hi,o=e.lo/a,o<0?o=Math.ceil(o):o=Math.floor(o),this.sub(e,this.mul(s,new MatInterval(o))))},multiplicativeInverse:function(e){return JXG$1.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():this.zeroIn(e)?e.lo!==0?e.hi!==0?this.WHOLE:new MatInterval(Number.NEGATIVE_INFINITY,this.divHi(1,e.lo)):e.hi!==0?new MatInterval(this.divLo(1,e.hi),Number.POSITIVE_INFINITY):this.EMPTY.clone():new MatInterval(this.divLo(1,e.hi),this.divHi(1,e.lo))},pow:function(e,s){var a,o;if(JXG$1.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e))return this.EMPTY.clone();if(this.isInterval(s)){if(!this.isSingleton(s))return this.EMPTY.clone();s=s.lo}return s===0?e.lo===0&&e.hi===0?this.EMPTY.clone():this.ONE.clone():s<0?this.pow(this.multiplicativeInverse(e),-s):s%1===0?e.hi<0?(a=this.powLo(-e.hi,s),o=this.powHi(-e.lo,s),(s&1)===1?new MatInterval(-o,-a):new MatInterval(a,o)):e.lo<0?(s&1)===1?new MatInterval(-this.powLo(-e.lo,s),this.powHi(e.hi,s)):new MatInterval(0,this.powHi(Math.max(-e.lo,e.hi),s)):new MatInterval(this.powLo(e.lo,s),this.powHi(e.hi,s)):(console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),this.EMPTY.clone())},sqrt:function(e){return JXG$1.isNumber(e)&&(e=this.Interval(e)),this.nthRoot(e,2)},nthRoot:function(e,s){var a,o,h,c,d;if(JXG$1.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)||s<0)return this.EMPTY.clone();if(this.isInterval(s)){if(!this.isSingleton(s))return this.EMPTY.clone();s=s.lo}return a=1/s,e.hi<0?s%1===0&&(s&1)===1?(o=this.powHi(-e.lo,a),h=this.powLo(-e.hi,a),new MatInterval(-o,-h)):this.EMPTY.clone():e.lo<0?(c=this.powHi(e.hi,a),s%1===0&&(s&1)===1?(d=-this.powHi(-e.lo,a),new MatInterval(d,c)):new MatInterval(0,c)):new MatInterval(this.powLo(e.lo,a),this.powHi(e.hi,a))},exp:function(e){return JXG$1.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():new MatInterval(this.expLo(e.lo),this.expHi(e.hi))},log:function(e){var s;return JXG$1.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():(s=e.lo<=0?Number.NEGATIVE_INFINITY:this.logLo(e.lo),new MatInterval(s,this.logHi(e.hi)))},ln:function(e){return this.log(e)},log10:function(e){return this.isEmpty(e)?this.EMPTY.clone():this.div(this.log(e),this.log(new MatInterval(10,10)))},log2:function(e){return this.isEmpty(e)?this.EMPTY.clone():this.div(this.log(e),this.log(new MatInterval(2,2)))},hull:function(e,s){var a=this.isEmpty(e),o=this.isEmpty(s);return a&&o?this.EMPTY.clone():a?s.clone():o?e.clone():new MatInterval(Math.min(e.lo,s.lo),Math.max(e.hi,s.hi))},intersection:function(e,s){var a,o;return this.isEmpty(e)||this.isEmpty(s)?this.EMPTY.clone():(a=Math.max(e.lo,s.lo),o=Math.min(e.hi,s.hi),a<=o?new MatInterval(a,o):this.EMPTY.clone())},union:function(e,s){if(!this.intervalsOverlap(e,s))throw new Error("Interval#unions do not overlap");return new MatInterval(Math.min(e.lo,s.lo),Math.max(e.hi,s.hi))},difference:function(e,s){if(this.isEmpty(e)||this.isWhole(s))return this.EMPTY.clone();if(this.intervalsOverlap(e,s)){if(e.lo<s.lo&&s.hi<e.hi)throw new Error("Interval.difference: difference creates multiple intervals");return s.lo<=e.lo&&s.hi===1/0||s.hi>=e.hi&&s.lo===-1/0?this.EMPTY.clone():s.lo<=e.lo?new MatInterval().halfOpenLeft(s.hi,e.hi):new MatInterval().halfOpenRight(e.lo,s.lo)}return e.clone()},width:function(e){return this.isEmpty(e)?0:this.subHi(e.hi,e.lo)},abs:function(e){return JXG$1.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():e.lo>=0?e.clone():e.hi<=0?this.negative(e):new MatInterval(0,Math.max(-e.lo,e.hi))},max:function(e,s){var a=this.isEmpty(e),o=this.isEmpty(s);return a&&o?this.EMPTY.clone():a?s.clone():o?e.clone():new MatInterval(Math.max(e.lo,s.lo),Math.max(e.hi,s.hi))},min:function(e,s){var a=this.isEmpty(e),o=this.isEmpty(s);return a&&o?this.EMPTY.clone():a?s.clone():o?e.clone():new MatInterval(Math.min(e.lo,s.lo),Math.min(e.hi,s.hi))},onlyInfinity:function(e){return!isFinite(e.lo)&&e.lo===e.hi},_handleNegative:function(e){var s;return e.lo<0&&(e.lo===-1/0?(e.lo=0,e.hi=1/0):(s=Math.ceil(-e.lo/this.piTwiceLow),e.lo+=this.piTwiceLow*s,e.hi+=this.piTwiceLow*s)),e},cos:function(e){var s,a,o,h,c,d,g,_;return this.isEmpty(e)||this.onlyInfinity(e)?this.EMPTY.clone():(s=new MatInterval().set(e.lo,e.hi),this._handleNegative(s),a=this.PI_TWICE,o=this.fmod(s,a),this.width(o)>=a.lo?new MatInterval(-1,1):o.lo>=this.piHigh?(h=this.cos(this.sub(o,this.PI)),this.negative(h)):(c=o.lo,d=o.hi,g=this.cosLo(d),_=this.cosHi(c),d<=this.piLow?new MatInterval(g,_):d<=a.lo?new MatInterval(-1,Math.max(g,_)):new MatInterval(-1,1)))},sin:function(e){return this.isEmpty(e)||this.onlyInfinity(e)?this.EMPTY.clone():this.cos(this.sub(e,this.PI_HALF))},tan:function(e){var s,a,o;return this.isEmpty(e)||this.onlyInfinity(e)?this.EMPTY.clone():(s=new MatInterval().set(e.lo,e.hi),this._handleNegative(s),o=this.PI,a=this.fmod(s,o),a.lo>=this.piHalfLow&&(a=this.sub(a,o)),a.lo<=-this.piHalfLow||a.hi>=this.piHalfLow?this.WHOLE.clone():new MatInterval(this.tanLo(a.lo),this.tanHi(a.hi)))},asin:function(e){var s,a;return this.isEmpty(e)||e.hi<-1||e.lo>1?this.EMPTY.clone():(s=e.lo<=-1?-this.piHalfHigh:this.asinLo(e.lo),a=e.hi>=1?this.piHalfHigh:this.asinHi(e.hi),new MatInterval(s,a))},acos:function(e){var s,a;return this.isEmpty(e)||e.hi<-1||e.lo>1?this.EMPTY.clone():(s=e.hi>=1?0:this.acosLo(e.hi),a=e.lo<=-1?this.piHigh:this.acosHi(e.lo),new MatInterval(s,a))},acot:function(e){return this.isEmpty(e)?this.EMPTY.clone():new MatInterval(this.acotLo(e.lo),this.acotHi(e.hi))},atan:function(e){return this.isEmpty(e)?this.EMPTY.clone():new MatInterval(this.atanLo(e.lo),this.atanHi(e.hi))},sinh:function(e){return this.isEmpty(e)?this.EMPTY.clone():new MatInterval(this.sinhLo(e.lo),this.sinhHi(e.hi))},cosh:function(e){return this.isEmpty(e)?this.EMPTY.clone():e.hi<0?new MatInterval(this.coshLo(e.hi),this.coshHi(e.lo)):e.lo>=0?new MatInterval(this.coshLo(e.lo),this.coshHi(e.hi)):new MatInterval(1,this.coshHi(-e.lo>e.hi?e.lo:e.hi))},tanh:function(e){return this.isEmpty(e)?this.EMPTY.clone():new MatInterval(this.tanhLo(e.lo),this.tanhHi(e.hi))},equal:function(e,s){return this.isEmpty(e)?this.isEmpty(s):!this.isEmpty(s)&&e.lo===s.lo&&e.hi===s.hi},notEqual:function(e,s){return this.isEmpty(e)?!this.isEmpty(s):this.isEmpty(s)||e.hi<s.lo||e.lo>s.hi},lt:function(e,s){return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),this.isEmpty(e)||this.isEmpty(s)?!1:e.hi<s.lo},gt:function(e,s){return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),this.isEmpty(e)||this.isEmpty(s)?!1:e.lo>s.hi},leq:function(e,s){return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),this.isEmpty(e)||this.isEmpty(s)?!1:e.hi<=s.lo},geq:function(e,s){return JXG$1.isNumber(e)&&(e=this.Interval(e)),JXG$1.isNumber(s)&&(s=this.Interval(s)),this.isEmpty(e)||this.isEmpty(s)?!1:e.lo>=s.hi},piLow:(3373259426+273688/(1<<21))/(1<<30),piHigh:(3373259426+273689/(1<<21))/(1<<30),piHalfLow:(3373259426+273688/(1<<21))/(1<<30)*.5,piHalfHigh:(3373259426+273689/(1<<21))/(1<<30)*.5,piTwiceLow:(3373259426+273688/(1<<21))/(1<<30)*2,piTwiceHigh:(3373259426+273689/(1<<21))/(1<<30)*2,identity:function(e){return e},_prev:function(e){return e===1/0?e:this.nextafter(e,-1/0)},_next:function(e){return e===-1/0?e:this.nextafter(e,1/0)},prev:function(e){return this._prev(e)},next:function(e){return this._next(e)},toInteger:function(e){return e<0?Math.ceil(e):Math.floor(e)},addLo:function(e,s){return this.prev(e+s)},addHi:function(e,s){return this.next(e+s)},subLo:function(e,s){return this.prev(e-s)},subHi:function(e,s){return this.next(e-s)},mulLo:function(e,s){return this.prev(e*s)},mulHi:function(e,s){return this.next(e*s)},divLo:function(e,s){return this.prev(e/s)},divHi:function(e,s){return this.next(e/s)},intLo:function(e){return this.toInteger(this.prev(e))},intHi:function(e){return this.toInteger(this.next(e))},logLo:function(e){return this.prev(Math.log(e))},logHi:function(e){return this.next(Math.log(e))},expLo:function(e){return this.prev(Math.exp(e))},expHi:function(e){return this.next(Math.exp(e))},sinLo:function(e){return this.prev(Math.sin(e))},sinHi:function(e){return this.next(Math.sin(e))},cosLo:function(e){return this.prev(Math.cos(e))},cosHi:function(e){return this.next(Math.cos(e))},tanLo:function(e){return this.prev(Math.tan(e))},tanHi:function(e){return this.next(Math.tan(e))},asinLo:function(e){return this.prev(Math.asin(e))},asinHi:function(e){return this.next(Math.asin(e))},acosLo:function(e){return this.prev(Math.acos(e))},acosHi:function(e){return this.next(Math.acos(e))},acotLo:function(e){return this.prev(Mat.acot(e))},acotHi:function(e){return this.next(Mat.acot(e))},atanLo:function(e){return this.prev(Math.atan(e))},atanHi:function(e){return this.next(Math.atan(e))},sinhLo:function(e){return this.prev(Mat.sinh(e))},sinhHi:function(e){return this.next(Mat.sinh(e))},coshLo:function(e){return this.prev(Mat.cosh(e))},coshHi:function(e){return this.next(Mat.cosh(e))},tanhLo:function(e){return this.prev(Mat.tanh(e))},tanhHi:function(e){return this.next(Mat.tanh(e))},sqrtLo:function(e){return this.prev(Math.sqrt(e))},sqrtHi:function(e){return this.next(Math.sqrt(e))},powLo:function(e,s){var a;if(s%1!==0)return this.prev(Math.pow(e,s));for(a=(s&1)===1?e:1,s>>=1;s>0;)e=this.mulLo(e,e),(s&1)===1&&(a=this.mulLo(e,a)),s>>=1;return a},powHi:function(e,s){var a;if(s%1!==0)return this.next(Math.pow(e,s));for(a=(s&1)===1?e:1,s>>=1;s>0;)e=this.mulHi(e,e),(s&1)===1&&(a=this.mulHi(e,a)),s>>=1;return a},disable:function(){this.next=this.prev=this.identity},enable:function(){this.prev=function(e){return this._prev(e)},this.next=function(e){return this._next(e)}},SMALLEST_DENORM:Math.pow(2,-1074),UINT_MAX:-1>>>0,nextafter:function(e,s){var a,o;return isNaN(e)||isNaN(s)?NaN:e===s?e:e===0?s<0?-this.SMALLEST_DENORM:this.SMALLEST_DENORM:(o=doubleBits.hi(e),a=doubleBits.lo(e),s>e==e>0?a===this.UINT_MAX?(o+=1,a=0):a+=1:a===0?(a=this.UINT_MAX,o-=1):a-=1,doubleBits.pack(a,o))}};JXG$1.Math.IntervalArithmetic.PI=new MatInterval(Mat.IntervalArithmetic.piLow,Mat.IntervalArithmetic.piHigh);JXG$1.Math.IntervalArithmetic.PI_HALF=new MatInterval(Mat.IntervalArithmetic.piHalfLow,Mat.IntervalArithmetic.piHalfHigh);JXG$1.Math.IntervalArithmetic.PI_TWICE=new MatInterval(Mat.IntervalArithmetic.piTwiceLow,Mat.IntervalArithmetic.piTwiceHigh);JXG$1.Math.IntervalArithmetic.ZERO=new MatInterval(0);JXG$1.Math.IntervalArithmetic.ONE=new MatInterval(1);JXG$1.Math.IntervalArithmetic.WHOLE=new MatInterval().setWhole();JXG$1.Math.IntervalArithmetic.EMPTY=new MatInterval().setEmpty();const Interval=JXG$1.Math.IntervalArithmetic;Mat.Extrapolate={upper:15,infty:1e4,wynnEps:function(e,s,a){var o=1e20,h=1e-15,c=1,d,g,_,b,$,j;if(a[s]=e,s===0)j=e;else{for(b=0,g=s;g>0;g--)_=b,b=a[g-1],$=a[g]-b,Math.abs($)<=h?a[g-1]=o:(d=(s-g+1)%2===1?c:1,a[g-1]=_*d+1/$);j=a[s%2]}return j},aitken:function(e,s,a){var o,h=1e20,c=1e-15,d,g,_,b,$;if(a[s]=e,s<2)o=e;else{for(_=s/2,b=1;b<=_;b++)$=s-2*b,d=a[$+2]-2*a[$+1]+a[$],Math.abs(d)<c?a[$]=h:(g=a[$]-a[$+1],a[$]-=g*g/d);o=a[s%2]}return o},brezinski:function(e,s,a){var o,h=1e20,c=1e-15,d,g,_,b,$,j,_e;if(a[s]=e,s<3)o=e;else{for($=s/3,_e=s,j=1;j<=$;j++)_e-=3,g=a[_e+1]-a[_e],_=a[_e+2]-a[_e+1],b=a[_e+3]-a[_e+2],d=b*(_-g)-g*(b-_),Math.abs(d)<c?a[_e]=h:a[_e]=a[_e+1]-g*_*(b-_)/d;o=a[s%3]}return o},iteration:function(e,s,a,o,h){var c,d,g,_=NaN,b,$=.5,j=[],_e="finite",et=s;for(h=h||0,c=1;c<=this.upper;c++){if(et=h===0?s/(c+1):et*$,d=a(e+et,!0),g=this[o](d,c-1,j),isNaN(g)){_e="NaN";break}if(d!==0&&g/d>this.infty){_=g,_e="infinite";break}if(b=g-_,Math.abs(b)<1e-7)break;_=g}return[_,_e,1-(c-1)/this.upper]},levin:function(e,s,a,o,h,c){var d=1e20,g=1e-15,_,b,$,j,_e;if(j=1/(o+s),h[s]=e/a,c[s]=1/a,s>0&&(h[s-1]=h[s]-h[s-1],c[s-1]=c[s]-c[s-1],s>1))for($=(o+s-1)*j,_=2;_<=s;_++)b=(o+s-_)*Math.pow($,_-2)*j,h[s-_]=h[s-_+1]-b*h[s-_],c[s-_]=c[s-_+1]-b*c[s-_],j*=$;return Math.abs(c[0])<g?_e=d:_e=h[0]/c[0],_e},iteration_levin:function(e,s,a,o){var h,c,d,g=NaN,_,b,$,j,_e=1,et=.5,tt=[],it=[],at="finite",nt=s,st="u";for(o=o||0,_=a(e+s,!0),h=1;h<=this.upper;h++){if(nt=o===0?s/(h+1):nt*et,c=a(e+nt,!0),b=c-_,Math.abs(b)<1?st="u":st="t",st==="u"?j=(_e+h)*b:j=b,_=c,d=this.levin(c,h-1,j,_e,tt,it),$=d-g,isNaN(d)){at="NaN";break}if(c!==0&&d/c>this.infty){g=d,at="infinite";break}if(Math.abs($)<1e-7)break;g=d}return[g,at,1-(h-1)/this.upper]},limit:function(e,s,a){return this.iteration_levin(e,s,a,0)}};const Extrapolate=Mat.Extrapolate;var predefinedButcher={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};Mat.Numerics={Gauss:function(e,s){var a,o,h,c,d,g=Mat.eps,_=e.length>0?e[0].length:0;if(_!==s.length||_!==e.length)throw new Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");for(c=[],d=s.slice(0,_),a=0;a<_;a++)c[a]=e[a].slice(0,_);for(o=0;o<_;o++){for(a=_-1;a>o;a--)if(Math.abs(c[a][o])>g)if(Math.abs(c[o][o])<g)JXG$1.swap(c,a,o),JXG$1.swap(d,a,o);else for(c[a][o]/=c[o][o],d[a]-=c[a][o]*d[o],h=o+1;h<_;h++)c[a][h]-=c[a][o]*c[o][h];if(Math.abs(c[o][o])<g)throw new Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.")}return this.backwardSolve(c,d,!0),d},backwardSolve:function(e,s,a){var o,h,c,d,g;for(a?o=s:o=s.slice(0,s.length),h=e.length,c=e.length>0?e[0].length:0,d=h-1;d>=0;d--){for(g=c-1;g>d;g--)o[d]-=e[d][g]*o[g];o[d]/=e[d][d]}return o},gaussBareiss:function(e){var s,a,o,h,c,d,g,_,b,$=Mat.eps;if(g=e.length,g<=0)return 0;for(e[0].length<g&&(g=e[0].length),_=[],h=0;h<g;h++)_[h]=e[h].slice(0,g);for(a=1,o=1,s=0;s<g-1;s++){if(d=_[s][s],Math.abs(d)<$){for(h=s+1;h<g&&!(Math.abs(_[h][s])>=$);h++);if(h===g)return 0;for(c=s;c<g;c++)b=_[h][c],_[h][c]=_[s][c],_[s][c]=b;o=-o,d=_[s][s]}for(h=s+1;h<g;h++)for(c=s+1;c<g;c++)b=d*_[h][c]-_[h][s]*_[s][c],_[h][c]=b/a;a=d}return o*_[g-1][g-1]},det:function(e){var s=e.length;return s===2&&e[0].length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:this.gaussBareiss(e)},Jacobi:function(e){var s,a,o,h,c,d,g,_,b=Mat.eps*Mat.eps,$=0,j=e.length,_e=[[0,0,0],[0,0,0],[0,0,0]],et=[[0,0,0],[0,0,0],[0,0,0]],tt=0;for(s=0;s<j;s++){for(a=0;a<j;a++)_e[s][a]=0,et[s][a]=e[s][a],$+=Math.abs(et[s][a]);_e[s][s]=1}if(j===1)return[et,_e];if($<=0)return[et,_e];$/=j*j;do{for(_=0,a=1;a<j;a++)for(s=0;s<a;s++)if(h=Math.abs(et[s][a]),_+=h,h>=b){for(h=Math.atan2(2*et[s][a],et[s][s]-et[a][a])*.5,c=Math.sin(h),d=Math.cos(h),o=0;o<j;o++)g=et[o][s],et[o][s]=d*g+c*et[o][a],et[o][a]=-c*g+d*et[o][a],g=_e[o][s],_e[o][s]=d*g+c*_e[o][a],_e[o][a]=-c*g+d*_e[o][a];for(et[s][s]=d*et[s][s]+c*et[a][s],et[a][a]=-c*et[s][a]+d*et[a][a],et[s][a]=0,o=0;o<j;o++)et[s][o]=et[o][s],et[a][o]=et[o][a]}tt+=1}while(Math.abs(_)/$>b&&tt<2e3);return[et,_e]},NewtonCotes:function(e,s,a){var o,h,c,d=0,g=a&&JXG$1.isNumber(a.number_of_nodes)?a.number_of_nodes:28,_={trapez:!0,simpson:!0,milne:!0},b=a&&a.integration_type&&_.hasOwnProperty(a.integration_type)&&_[a.integration_type]?a.integration_type:"milne",$=(e[1]-e[0])/g;switch(b){case"trapez":for(d=(s(e[0])+s(e[1]))*.5,o=e[0],h=0;h<g-1;h++)o+=$,d+=s(o);d*=$;break;case"simpson":if(g%2>0)throw new Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");for(c=g/2,d=s(e[0])+s(e[1]),o=e[0],h=0;h<c-1;h++)o+=2*$,d+=2*s(o);for(o=e[0]-$,h=0;h<c;h++)o+=2*$,d+=4*s(o);d*=$/3;break;default:if(g%4>0)throw new Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");for(c=g*.25,d=7*(s(e[0])+s(e[1])),o=e[0],h=0;h<c-1;h++)o+=4*$,d+=14*s(o);for(o=e[0]-3*$,h=0;h<c;h++)o+=4*$,d+=32*(s(o)+s(o+2*$));for(o=e[0]-2*$,h=0;h<c;h++)o+=4*$,d+=12*s(o);d*=2*$/45}return d},Romberg:function(e,s,a){var o,h,c,d,g,_,b,$,j=[],_e=0,et=1/0,tt=a&&JXG$1.isNumber(a.max_iterations)?a.max_iterations:20,it=a&&JXG$1.isNumber(a.eps)?a.eps:a.eps||1e-7;for(o=e[0],h=e[1],c=h-o,g=1,j[0]=.5*c*(s(o)+s(h)),_=0;_<tt;++_){for(d=0,c*=.5,g*=2,$=1,b=1;b<g;b+=2)d+=s(o+b*c);for(j[_+1]=.5*j[_]+d*c,_e=j[_+1],b=_-1;b>=0;--b)$*=4,j[b]=j[b+1]+(j[b+1]-j[b])/($-1),_e=j[b];if(Math.abs(_e-et)<it*Math.abs(_e))break;et=_e}return _e},GaussLegendre:function(e,s,a){var o,h,c,d,g,_,b=0,$=[],j=[],_e,et,tt=a&&JXG$1.isNumber(a.n)?a.n:12;if(tt>18&&(tt=18),$[2]=[.5773502691896257],j[2]=[1],$[4]=[.33998104358485626,.8611363115940526],j[4]=[.6521451548625461,.34785484513745385],$[6]=[.2386191860831969,.6612093864662645,.932469514203152],j[6]=[.46791393457269104,.3607615730481386,.17132449237917036],$[8]=[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],j[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],$[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],j[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],$[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],j[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],$[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],j[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],$[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],j[16]=[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],$[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309],j[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331],$[3]=[0,.7745966692414834],j[3]=[.8888888888888888,.5555555555555556],$[5]=[0,.5384693101056831,.906179845938664],j[5]=[.5688888888888889,.47862867049936647,.23692688505618908],$[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585],j[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],$[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],j[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],$[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],j[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],$[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],j[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],$[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],j[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],$[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174],j[17]=[.17944647035620653,.17656270536699264,.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793],o=e[0],h=e[1],d=tt+1>>1,_e=$[tt],et=j[tt],_=.5*(h-o),g=.5*(h+o),tt&!0)for(b=et[0]*s(g),c=1;c<d;++c)b+=et[c]*(s(g+_*_e[c])+s(g-_*_e[c]));else for(b=0,c=0;c<d;++c)b+=et[c]*(s(g+_*_e[c])+s(g-_*_e[c]));return _*b},_rescale_error:function(e,s,a){var o,h,c=22250738585072014e-324,d=2220446049250313e-31;return e=Math.abs(e),a!==0&&e!==0&&(o=Math.pow(200*e/a,1.5),o<1?e=a*o:e=a),s>c/(50*d)&&(h=50*d*s,h>e&&(e=h)),e},_gaussKronrod:function(e,s,a,o,h,c,d){var g=e[0],_=e[1],b,$,j=.5*(g+_),_e=.5*(_-g),et=Math.abs(_e),tt=s(j),it=0,at=tt*c[a-1],nt=Math.abs(at),st=0,rt=0,lt=0,ot,ht,ct,ut,dt,ft,gt,mt=[],vt=[];for(a%2===0&&(it=tt*h[a/2-1]),b=Math.floor((a-1)/2),ot=0;ot<b;ot++)ht=ot*2+1,ct=_e*o[ht],ut=s(j-ct),dt=s(j+ct),ft=ut+dt,mt[ht]=ut,vt[ht]=dt,it+=h[ot]*ft,at+=c[ht]*ft,nt+=c[ht]*(Math.abs(ut)+Math.abs(dt));for(b=Math.floor(a/2),ot=0;ot<b;ot++)gt=ot*2,ct=_e*o[gt],ut=s(j-ct),dt=s(j+ct),mt[gt]=ut,vt[gt]=dt,at+=c[gt]*(ut+dt),nt+=c[gt]*(Math.abs(ut)+Math.abs(dt));for(rt=at*.5,st=c[a-1]*Math.abs(tt-rt),ot=0;ot<a-1;ot++)st+=c[ot]*(Math.abs(mt[ot]-rt)+Math.abs(vt[ot]-rt));return lt=(at-it)*_e,at*=_e,nt*=et,st*=et,$=at,d.abserr=this._rescale_error(lt,nt,st),d.resabs=nt,d.resasc=st,$},GaussKronrod15:function(e,s,a){var o=[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],h=[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],c=[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782];return this._gaussKronrod(e,s,8,o,h,c,a)},GaussKronrod21:function(e,s,a){var o=[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],h=[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],c=[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169];return this._gaussKronrod(e,s,11,o,h,c,a)},GaussKronrod31:function(e,s,a){var o=[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],h=[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],c=[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154];return this._gaussKronrod(e,s,16,o,h,c,a)},_workspace:function(e,s){return{limit:s,size:0,nrmax:0,i:0,alist:[e[0]],blist:[e[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var a=this.size-1,o=this.limit,h,c,d,g,_,b=this.nrmax,$=this.order[b];if(a<2){this.order[0]=0,this.order[1]=1,this.i=$;return}for(h=this.elist[$];b>0&&h>this.elist[this.order[b-1]];)this.order[b]=this.order[b-1],b--;for(a<o/2+2?_=a:_=o-a+1,d=b+1;d<_&&h<this.elist[this.order[d]];)this.order[d-1]=this.order[d],d++;for(this.order[d-1]=$,c=this.elist[a],g=_-1;g>d-2&&c>=this.elist[this.order[g]];)this.order[g+1]=this.order[g],g--;this.order[g+1]=a,$=this.order[b],this.i=$,this.nrmax=b},set_initial_result:function(a,o){this.size=1,this.rlist[0]=a,this.elist[0]=o},update:function(a,o,h,c,d,g,_,b){var $=this.i,j=this.size,_e=this.level[this.i]+1;b>c?(this.alist[$]=d,this.rlist[$]=_,this.elist[$]=b,this.level[$]=_e,this.alist[j]=a,this.blist[j]=o,this.rlist[j]=h,this.elist[j]=c,this.level[j]=_e):(this.blist[$]=o,this.rlist[$]=h,this.elist[$]=c,this.level[$]=_e,this.alist[j]=d,this.blist[j]=g,this.rlist[j]=_,this.elist[j]=b,this.level[j]=_e),this.size++,_e>this.maximum_level&&(this.maximum_level=_e),this.qpsrt()},retrieve:function(){var a=this.i;return{a:this.alist[a],b:this.blist[a],r:this.rlist[a],e:this.elist[a]}},sum_results:function(){var a=this.size,o,h=0;for(o=0;o<a;o++)h+=this.rlist[o];return h},subinterval_too_small:function(a,o,h){var c=2220446049250313e-31,d=22250738585072014e-324,g=(1+100*c)*(Math.abs(o)+1e3*d);return Math.abs(a)<=g&&Math.abs(h)<=g}}},Qag:function(e,s,a){var o=2220446049250313e-31,h=this._workspace(e,1e3),c=a&&JXG$1.isNumber(a.limit)?a.limit:15,d=a&&JXG$1.isNumber(a.epsrel)?a.epsrel:1e-7,g=a&&JXG$1.isNumber(a.epsabs)?a.epsabs:1e-7,_=a&&JXG$1.isFunction(a.q)?a.q:this.GaussKronrod15,b={},$,j,_e,et,tt,it,at,nt,st=0,rt=0,lt=0,ot=0,ht,ct,ut,dt,ft,gt,mt,vt,Jt,Pt=0,$t=0,Et=0,Gt=0,_t=0,bt=0,yt,Ct,pt,Mt;if(c>h.limit&&JXG$1.warn("iteration limit exceeds available workspace"),g<=0&&(d<50*Mat.eps||d<5e-29)&&JXG$1.warn("tolerance cannot be acheived with given epsabs and epsrel"),_e=_.apply(this,[e,s,b]),et=b.abserr,tt=b.resabs,it=b.resasc,h.set_initial_result(_e,et),nt=Math.max(g,d*Math.abs(_e)),ht=50*o*tt,et<=ht&&et>nt)return at=_e,JXG$1.warn("cannot reach tolerance because of roundoff error on first attempt"),-1/0;if(et<=nt&&et!==it||et===0)return at=_e,at;if(c===1)return at=_e,JXG$1.warn("a maximum of one iteration was insufficient"),-1/0;$=_e,j=et,st=1;do Pt=0,$t=0,Et=0,Gt=0,_t=0,bt=0,pt=h.retrieve(),gt=pt.a,mt=pt.b,vt=pt.r,Jt=pt.e,ct=gt,ut=.5*(gt+mt),dt=ut,ft=mt,Pt=_.apply(this,[[ct,ut],s,b]),Gt=b.abserr,yt=b.resasc,$t=_.apply(this,[[dt,ft],s,b]),_t=b.abserr,Ct=b.resasc,Et=Pt+$t,bt=Gt+_t,j+=bt-Jt,$+=Et-vt,yt!==Gt&&Ct!==_t&&(Mt=vt-Et,Math.abs(Mt)<=1e-5*Math.abs(Et)&&bt>=.99*Jt&&rt++,st>=10&&bt>Jt&&lt++),nt=Math.max(g,d*Math.abs($)),j>nt&&((rt>=6||lt>=20)&&(ot=2),h.subinterval_too_small(ct,dt,ft)&&(ot=3)),h.update(ct,ut,Pt,Gt,dt,ft,$t,_t),pt=h.retrieve(),gt=pt.a_i,mt=pt.b_i,vt=pt.r_i,Jt=pt.e_i,st++;while(st<c&&!ot&&j>nt);return at=h.sum_results(),at},I:function(e,s){return this.Qag(e,s,{q:this.GaussKronrod15,limit:15,epsrel:1e-7,epsabs:1e-7})},Newton:function(e,s,a){var o,h=0,c=Mat.eps,d=e.apply(a,[s]);for(JXG$1.isArray(s)&&(s=s[0]);h<50&&Math.abs(d)>c;)o=this.D(e,a)(s),Math.abs(o)>c?s-=d/o:s+=Math.random()*.2-1,d=e.apply(a,[s]),h+=1;return s},root:function(e,s,a){return this.chandrupatla(e,s,a)},generalizedNewton:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st=0;for(this.generalizedNewton.t1memo?(h=this.generalizedNewton.t1memo,c=this.generalizedNewton.t2memo):(h=a,c=o),$=e.X(h)-s.X(c),j=e.Y(h)-s.Y(c),et=$*$+j*j,tt=this.D(e.X,e),it=this.D(s.X,s),at=this.D(e.Y,e),nt=this.D(s.Y,s);et>Mat.eps&&st<10;)d=tt(h),g=-it(c),_=at(h),b=-nt(c),_e=d*b-g*_,h-=(b*$-g*j)/_e,c-=(d*j-_*$)/_e,$=e.X(h)-s.X(c),j=e.Y(h)-s.Y(c),et=$*$+j*j,st+=1;return this.generalizedNewton.t1memo=h,this.generalizedNewton.t2memo=c,Math.abs(h)<Math.abs(c)?[e.X(h),e.Y(h)]:[s.X(c),s.Y(c)]},Neville:function(e){var s=[],a=function(c){return function(d,g){var _,b,$,j=Mat.binomial,_e=e.length,et=_e-1,tt=0,it=0;if(!g)for($=1,_=0;_<_e;_++)s[_]=j(et,_)*$,$*=-1;for(b=d,_=0;_<_e;_++){if(b===0)return e[_][c]();$=s[_]/b,b-=1,tt+=e[_][c]()*$,it+=$}return tt/it}},o=a("X"),h=a("Y");return[o,h,0,function(){return e.length-1}]},splineDef:function(e,s){var a,o,h,c=Math.min(e.length,s.length),d=[],g=[],_=[],b=[],$=[],j=[];if(c===2)return[0,0];for(o=0;o<c;o++)a={X:e[o],Y:s[o]},_.push(a);for(_.sort(function(_e,et){return _e.X-et.X}),o=0;o<c;o++)e[o]=_[o].X,s[o]=_[o].Y;for(o=0;o<c-1;o++)b.push(e[o+1]-e[o]);for(o=0;o<c-2;o++)$.push(6*(s[o+2]-s[o+1])/b[o+1]-6*(s[o+1]-s[o])/b[o]);for(d.push(2*(b[0]+b[1])),g.push($[0]),o=0;o<c-3;o++)h=b[o+1]/d[o],d.push(2*(b[o+1]+b[o+2])-h*b[o+1]),g.push($[o+1]-h*g[o]);for(j[c-3]=g[c-3]/d[c-3],o=c-4;o>=0;o--)j[o]=(g[o]-b[o+1]*j[o+1])/d[o];for(o=c-3;o>=0;o--)j[o+1]=j[o];return j[0]=0,j[c-1]=0,j},splineEval:function(e,s,a,o){var h,c,d,g,_,b,$,j=Math.min(s.length,a.length),_e=1,et=!1,tt=[];for(JXG$1.isArray(e)?(_e=e.length,et=!0):e=[e],h=0;h<_e;h++){if(e[h]<s[0]||s[h]>s[j-1])return NaN;for(c=1;c<j&&!(e[h]<=s[c]);c++);c-=1,d=a[c],g=(a[c+1]-a[c])/(s[c+1]-s[c])-(s[c+1]-s[c])/6*(o[c+1]+2*o[c]),_=o[c]/2,b=(o[c+1]-o[c])/(6*(s[c+1]-s[c])),$=e[h]-s[c],tt.push(d+(g+(_+b*$)*$)*$)}return et?tt:tt[0]},generatePolynomialTerm:function(e,s,a,o){var h,c=[];for(h=s;h>=0;h--)JXG$1.concat(c,["(",e[h].toPrecision(o),")"]),h>1?JXG$1.concat(c,["*",a,"<sup>",h,"<","/sup> + "]):h===1&&JXG$1.concat(c,["*",a," + "]);return c.join("")},lagrangePolynomial:function(e){var s=[],a=this,o=function(h,c){var d,g,_,b,$=e.length,j=0,_e=0;if(!c)for(d=0;d<$;d++){for(s[d]=1,_=e[d].X(),g=0;g<$;g++)g!==d&&(s[d]*=_-e[g].X());s[d]=1/s[d]}for(d=0;d<$;d++){if(_=e[d].X(),h===_)return e[d].Y();b=s[d]/(h-_),_e+=b,j+=b*e[d].Y()}return j/_e};return o.getTerm=function(h,c,d){return a.lagrangePolynomialTerm(e,h,c,d)()},o.getCoefficients=function(){return a.lagrangePolynomialCoefficients(e)()},o},lagrangePolynomialTerm:function(e,s,a,o){var h=this;return function(){var c=e.length,d=[],g=!0,_,b,$,j;for(a=a||"x",o===void 0&&(o=" * "),_=c-1,d=h.lagrangePolynomialCoefficients(e)(),b="",$=0;$<d.length;$++)j=d[$],!(Math.abs(j)<Mat.eps)&&(JXG$1.exists(s)&&(j=JXG$1._round10(j,-s)),g?(b+=j>0?j:"-"+-j,g=!1):b+=j>0?" + "+j:" - "+-j,_-$>1?b+=o+a+"^"+(_-$):_-$===1&&(b+=o+a));return b}},lagrangePolynomialCoefficients:function(e){return function(){var s=e.length,a=[],o=[],h=[],c,d,g,_;for(d=0;d<s;d++)h[d]=0;for(c=0;c<s;c++){for(g=e[c].Y(),_=e[c].X(),a=[],d=0;d<s;d++)d!==c&&(g/=_-e[d].X(),a.push(e[d].X()));for(o=[1].concat(Mat.Vieta(a)),d=0;d<o.length;d++)h[d]+=(d%2===1?-1:1)*o[d]*g}return h}},_initCubicPoly:function(e,s,a,o){return[e,a,-3*e+3*s-2*a-o,2*e-2*s+a+o]},CardinalSpline:function(e,s,a){var o,h=[],c,d,g,_=this;return JXG$1.isFunction(s)?g=s:g=function(){return s},a===void 0&&(a="uniform"),c=function(b){return function($,j){var _e,et,tt,it,at,nt,st,rt,lt,ot;if(e.length<2)return NaN;if(!j)for(d=g(),tt={X:function(){return 2*e[0].X()-e[1].X()},Y:function(){return 2*e[0].Y()-e[1].Y()},Dist:function(ht){var ct=this.X()-ht.X(),ut=this.Y()-ht.Y();return Mat.hypot(ct,ut)}},it={X:function(){return 2*e[e.length-1].X()-e[e.length-2].X()},Y:function(){return 2*e[e.length-1].Y()-e[e.length-2].Y()},Dist:function(ht){var ct=this.X()-ht.X(),ut=this.Y()-ht.Y();return Mat.hypot(ct,ut)}},o=[tt].concat(e,[it]),ot=o.length,h[b]=[],_e=0;_e<ot-3;_e++)a==="centripetal"?(st=o[_e].Dist(o[_e+1]),rt=o[_e+2].Dist(o[_e+1]),lt=o[_e+3].Dist(o[_e+2]),st=Math.sqrt(st),rt=Math.sqrt(rt),lt=Math.sqrt(lt),rt<Mat.eps&&(rt=1),st<Mat.eps&&(st=rt),lt<Mat.eps&&(lt=rt),at=(o[_e+1][b]()-o[_e][b]())/st-(o[_e+2][b]()-o[_e][b]())/(rt+st)+(o[_e+2][b]()-o[_e+1][b]())/rt,nt=(o[_e+2][b]()-o[_e+1][b]())/rt-(o[_e+3][b]()-o[_e+1][b]())/(lt+rt)+(o[_e+3][b]()-o[_e+2][b]())/lt,at*=rt,nt*=rt,h[b][_e]=_._initCubicPoly(o[_e+1][b](),o[_e+2][b](),d*at,d*nt)):h[b][_e]=_._initCubicPoly(o[_e+1][b](),o[_e+2][b](),d*(o[_e+2][b]()-o[_e][b]()),d*(o[_e+3][b]()-o[_e+1][b]()));return isNaN($)?NaN:(ot=e.length,$<=0?e[0][b]():$>=ot?e[ot-1][b]():(_e=Math.floor($),_e===$?e[_e][b]():($-=_e,et=h[b][_e],et===void 0?NaN:((et[3]*$+et[2])*$+et[1])*$+et[0])))}},[c("X"),c("Y"),0,function(){return e.length-1}]},CatmullRomSpline:function(e,s){return this.CardinalSpline(e,.5,s)},regressionPolynomial:function(e,s,a){var o,h,c,d,g,_,b="";if(JXG$1.isPoint(e)&&JXG$1.isFunction(e.Value))h=function(){return e.Value()};else if(JXG$1.isFunction(e))h=e;else if(JXG$1.isNumber(e))h=function(){return e};else throw new Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+typeof e+"'.");if(arguments.length===3&&JXG$1.isArray(s)&&JXG$1.isArray(a))g=0;else if(arguments.length===2&&JXG$1.isArray(s)&&s.length>0&&JXG$1.isPoint(s[0]))g=1;else if(arguments.length===2&&JXG$1.isArray(s)&&s.length>0&&s[0].usrCoords&&s[0].scrCoords)g=2;else throw new Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");return _=function($,j){var _e,et,tt,it,at,nt,st,rt,lt,ot=s.length;if(lt=Math.floor(h()),!j){if(g===1)for(c=[],d=[],_e=0;_e<ot;_e++)c[_e]=s[_e].X(),d[_e]=s[_e].Y();if(g===2)for(c=[],d=[],_e=0;_e<ot;_e++)c[_e]=s[_e].usrCoords[1],d[_e]=s[_e].usrCoords[2];if(g===0)for(c=[],d=[],_e=0;_e<ot;_e++)JXG$1.isFunction(s[_e])?c.push(s[_e]()):c.push(s[_e]),JXG$1.isFunction(a[_e])?d.push(a[_e]()):d.push(a[_e]);for(tt=[],et=0;et<ot;et++)tt.push([1]);for(_e=1;_e<=lt;_e++)for(et=0;et<ot;et++)tt[et][_e]=tt[et][_e-1]*c[et];at=d,it=Mat.transpose(tt),nt=Mat.matMatMult(it,tt),st=Mat.matVecMult(it,at),o=Mat.Numerics.Gauss(nt,st),b=Mat.Numerics.generatePolynomialTerm(o,lt,"x",3)}for(rt=o[lt],_e=lt-1;_e>=0;_e--)rt=rt*$+o[_e];return rt},_.getTerm=function(){return b},_},bezier:function(e){var s,a,o=function(h){return function(c,d){var g=Math.floor(c)*3,_=c%1,b=1-_;return d||(a=3*Math.floor((e.length-1)/3),s=Math.floor(a/3)),c<0?e[0][h]():c>=s?e[a][h]():isNaN(c)?NaN:b*b*(b*e[g][h]()+3*_*e[g+1][h]())+(3*b*e[g+2][h]()+_*e[g+3][h]())*_*_}};return[o("X"),o("Y"),0,function(){return Math.floor(e.length/3)}]},bspline:function(e,s){var a,o=function(d,g){var _,b=[];for(_=0;_<d+g+1;_++)_<g?b[_]=0:_<=d?b[_]=_-g+1:b[_]=d-g+2;return b},h=function(d,g,_,b){var $,j,_e,et,tt,it=[];for(g[b]<=d&&d<g[b+1]?it[b]=1:it[b]=0,$=2;$<=_;$++)for(j=b-$+1;j<=b;j++)j<=b-$+1||j<0?_e=0:_e=it[j],j>=b?et=0:et=it[j+1],tt=g[j+$-1]-g[j],tt===0?it[j]=0:it[j]=(d-g[j])/tt*_e,tt=g[j+$]-g[j+1],tt!==0&&(it[j]+=(g[j+$]-d)/tt*et);return it},c=function(d){return function(g,_){var b,$,j,_e=[],et=e.length,tt=et-1,it=s;if(tt<=0)return NaN;if(tt+2<=it&&(it=tt+1),g<=0)return e[0][d]();if(g>=tt-it+2)return e[tt][d]();for(j=Math.floor(g)+it-1,a=o(tt,it),_e=h(g,a,it,j),b=0,$=j-it+1;$<=j;$++)$<et&&$>=0&&(b+=e[$][d]()*_e[$]);return b}};return[c("X"),c("Y"),0,function(){return e.length-1}]},D:function(e,s){return JXG$1.exists(s)?function(a,o){var h=1e-5,c=h*2;return(e.apply(s,[a+h,o])-e.apply(s,[a-h,o]))/c}:function(a,o){var h=1e-5,c=h*2;return(e(a+h,o)-e(a-h,o))/c}},_riemannValue:function(e,s,a,o){var h,c,d,g;if(o<0&&(a!=="trapezoidal"&&(e=e+o),o*=-1,a==="lower"?a="upper":a==="upper"&&(a="lower")),g=o*.01,a==="right")h=s(e+o);else if(a==="middle")h=s(e+o*.5);else if(a==="left"||a==="trapezoidal")h=s(e);else if(a==="lower"){for(h=s(e),d=e+g;d<=e+o;d+=g)c=s(d),c<h&&(h=c);c=s(e+o),c<h&&(h=c)}else if(a==="upper"){for(h=s(e),d=e+g;d<=e+o;d+=g)c=s(d),c>h&&(h=c);c=s(e+o),c>h&&(h=c)}else a==="random"?h=s(e+o*Math.random()):a==="simpson"?h=(s(e)+4*s(e+o*.5)+s(e+o))/6:h=s(e);return h},riemann:function(e,s,a,o,h){var c,d,g,_,b,$,j,_e,et,tt,it,at=30,nt=[],st=[],rt=o,lt=0,ot,ht,ct;if(JXG$1.isArray(e)?(ct=e[0],ht=e[1]):ht=e,s=Math.floor(s),s<=0)return[nt,st,lt];for(d=(h-o)/s,c=0;c<s;c++){if(a==="simpson"){for(lt+=this._riemannValue(rt,ht,a,d)*d,it=d*.5,j=ht(rt),_e=ht(rt+it),et=ht(rt+2*it),_=(et+j-2*_e)/(it*it)*.5,b=(et-j)/(2*it),$=_e,g=0;g<at;g++)tt=g*d/at-it,nt.push(rt+tt+it),st.push(_*tt*tt+b*tt+$);rt+=d,ot=et}else ot=this._riemannValue(rt,ht,a,d),nt.push(rt),st.push(ot),rt+=d,a==="trapezoidal"?(et=ht(rt),lt+=(ot+et)*.5*d,ot=et):lt+=ot*d,nt.push(rt),st.push(ot);nt.push(rt),st.push(ot)}for(c=0;c<s;c++){if(a==="simpson"&&ct){for(lt-=this._riemannValue(rt,ct,a,-d)*d,it=d*.5,j=ct(rt),_e=ct(rt-it),et=ct(rt-2*it),_=(et+j-2*_e)/(it*it)*.5,b=(et-j)/(2*it),$=_e,g=0;g<at;g++)tt=g*d/at-it,nt.push(rt-tt-it),st.push(_*tt*tt+b*tt+$);rt-=d,ot=et}else ct?ot=this._riemannValue(rt,ct,a,-d):ot=0,nt.push(rt),st.push(ot),rt-=d,ct&&(a==="trapezoidal"?(et=ct(rt),lt-=(ot+et)*.5*d,ot=et):lt-=ot*d);nt.push(rt),st.push(ot),nt.push(rt),st.push(ht(rt))}return[nt,st,lt]},riemannsum:function(e,s,a,o,h){return JXG$1.deprecated("Numerics.riemannsum()","Numerics.riemann()[2]"),this.riemann(e,s,a,o,h)[2]},rungeKutta:function(e,s,a,o,h){var c,d,g,_,b,$,j=[],_e=[],et=(a[1]-a[0])/o,tt=a[0],it=s.length,at=[],nt=0;for(JXG$1.isString(e)&&(e=predefinedButcher[e]||predefinedButcher.euler),$=e.s,j=s.slice(),d=0;d<=o;d++){for(at[nt]=j.slice(),nt++,_=[],g=0;g<$;g++){for(c=0;c<it;c++)_e[c]=0;for(b=0;b<g;b++)for(c=0;c<it;c++)_e[c]+=e.A[g][b]*et*_[b][c];for(c=0;c<it;c++)_e[c]+=j[c];_.push(h(tt+e.c[g]*et,_e))}for(c=0;c<it;c++)_e[c]=0;for(b=0;b<$;b++)for(c=0;c<it;c++)_e[c]+=e.b[b]*_[b][c];for(c=0;c<it;c++)j[c]=j[c]+et*_e[c];tt+=et}return at},maxIterationsRoot:80,maxIterationsMinimize:500,findBracket:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e;if(JXG$1.isArray(s))return s;for(o=s,c=e.call(a,o),h=o===0?1:o,d=[o-.1*h,o+.1*h,o-1,o+1,o-.5*h,o+.5*h,o-.6*h,o+.6*h,o-1*h,o+1*h,o-2*h,o+2*h,o-5*h,o+5*h,o-10*h,o+10*h,o-50*h,o+50*h,o-100*h,o+100*h],_e=d.length,j=0;j<_e&&(g=d[j],_=e.call(a,g),!(c*_<=0));j++);return g<o&&(b=o,o=g,g=b,$=c,c=_,_=$),[o,c,g,_]},fzero:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt=Mat.eps,lt=this.maxIterationsRoot,ot=0;if(JXG$1.isArray(s)){if(s.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");$=this.findDomain(e,s,a),o=$[0],h=$[1],d=e.call(a,o),g=e.call(a,h)}else b=this.findBracket(e,s,a),o=b[0],d=b[1],h=b[2],g=b[3];if(Math.abs(d)<=rt)return o;if(Math.abs(g)<=rt)return h;if(d*g>0)return JXG$1.isArray(s)?this.fminbr(e,[o,h],a):this.Newton(e,o,a);for(c=o,_=d;ot<lt;){if(j=h-o,Math.abs(_)<Math.abs(g)&&(o=h,h=c,c=o,d=g,g=_,_=d),it=2*rt*Math.abs(h)+rt*.5,st=(c-h)*.5,Math.abs(st)<=it||Math.abs(g)<=rt)return h;Math.abs(j)>=it&&Math.abs(d)>Math.abs(g)&&(tt=c-h,o===c?(_e=g/d,at=tt*_e,nt=1-_e):(nt=d/_,_e=g/_,et=g/d,at=et*(tt*nt*(nt-_e)-(h-o)*(_e-1)),nt=(nt-1)*(_e-1)*(et-1)),at>0?nt=-nt:at=-at,at<.75*tt*nt-Math.abs(it*nt)*.5&&at<Math.abs(j*nt*.5)&&(st=at/nt)),Math.abs(st)<it&&(st=st>0?it:-it),o=h,d=g,h+=st,g=e.call(a,h),(g>0&&_>0||g<0&&_<0)&&(c=o,_=d),ot++}return h},chandrupatla:function(e,s,a){var o,h,c,d,g,_=0,b=this.maxIterationsRoot,$=1+Math.random()*.001,j=.5*$,_e=Mat.eps,et=1e-5,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt,Pt,$t,Et,Gt;if(JXG$1.isArray(s)){if(s.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");o=s[0],c=e.call(a,o),h=s[1],d=e.call(a,h)}else g=this.findBracket(e,s,a),o=g[0],c=g[1],h=g[2],d=g[3];if(c*d>0)return JXG$1.isArray(s)?this.fminbr(e,[o,h],a):this.Newton(e,o,a);tt=o,it=h,st=c,rt=d;do{if(nt=tt+j*(it-tt),ot=e.call(a,nt),Math.sign(ot)===Math.sign(st)?(at=tt,tt=nt,lt=st,st=ot):(at=it,it=tt,lt=rt,rt=st),tt=nt,st=ot,ht=tt,ct=st,Math.abs(rt)<Math.abs(st)&&(ht=it,ct=rt),ut=2*_e*Math.abs(ht)+.5*et,dt=ut/Math.abs(it-tt),dt>.5||ct===0)break;ft=(tt-it)/(at-it),gt=(st-rt)/(lt-rt),mt=1-Math.sqrt(1-ft),vt=Math.sqrt(ft),mt<gt&&gt<vt?(Jt=(at-tt)/(it-tt),Pt=st/(rt-st),$t=lt/(rt-lt),Et=st/(lt-st),Gt=rt/(lt-rt),j=Pt*$t+Et*Gt*Jt):j=.5*$,j<dt&&(j=dt),j>1-dt&&(j=1-dt),_++}while(_<=b);return ht},findDomain:function(e,s,a){var o,h,c,d,g,_=.3819660112501453,b=.001,$,j=20;if(!JXG$1.isArray(s)||s.length<2)throw new Error("JXG.Math.Numerics.findDomain: length of array x0 has to be at least two.");if(g=s.slice(),o=g[0],h=g[1],d=e.call(a,o),isNaN(d)){for($=0;h-o>b&&$<j;)c=(h-o)*_+o,d=e.call(a,c),isNaN(d)?o=c:h=c,$++;g[0]=o}if(o=g[0],h=g[1],d=e.call(a,h),isNaN(d)){for($=0;h-o>b&&$<j;)c=h-(h-o)*_,d=e.call(a,c),isNaN(d)?h=c:o=c,$++;g[0]=h}return g},fminbr:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt=(3-Math.sqrt(5))*.5,ot=Mat.eps,ht=Mat.eps,ct=this.maxIterationsMinimize,ut=0;if(!JXG$1.isArray(s)||s.length<2)throw new Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");for(j=this.findDomain(e,s,a),o=j[0],h=j[1],d=o+lt*(h-o),b=e.call(a,d),c=d,g=d,_=b,$=b;ut<ct;){if(_e=h-o,et=(o+h)*.5,tt=ht*Math.abs(c)+ot/3,Math.abs(c-et)+_e*.5<=2*tt)return c;it=lt*(c<et?h-c:o-c),Math.abs(c-g)>=tt&&(st=(c-g)*(_-b),nt=(c-d)*(_-$),at=(c-d)*nt-(c-g)*st,nt=2*(nt-st),nt>0?at=-at:nt=-nt,Math.abs(at)<Math.abs(it*nt)&&at>nt*(o-c+2*tt)&&at<nt*(h-c-2*tt)&&(it=at/nt)),Math.abs(it)<tt&&(it>0?it=tt:it=-tt),st=c+it,rt=e.call(a,st),rt<=_?(st<c?h=c:o=c,d=g,g=c,c=st,b=$,$=_,_=rt):(st<c?o=st:h=st,rt<=$||g===c?(d=g,g=st,b=$,$=rt):(rt<=b||d===c||d===g)&&(d=st,b=rt)),ut+=1}return c},glomin:function(e,s){var a,o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt=1e7,Pt=Mat.eps,$t=Mat.eps*Mat.eps,Et=Mat.eps*Mat.eps*Mat.eps;if(ft=s[0],gt=s[1],mt=e(ft)<e(gt)?ft:gt,a=gt,vt=a,o=ft,st=e(gt),ht=st,lt=e(ft),nt=lt,st<nt?nt=st:vt=ft,gt<=ft)return nt;for($=.5*(1+16*Et)*Jt,mt<=ft||gt<=mt?at=.5*(ft+gt):at=mt,rt=e(at),b=3,c=o-at,_=9/11,rt<nt&&(vt=at,nt=rt);;){if(d=o-a,g=at-a,dt=gt-o,ct=lt-rt,ut=lt-st,tt=d*d*ct-c*c*ut,j=tt,et=2*(c*ut-d*ct),_e=et,b<1e6||lt<=nt)for(;_e*(tt*(ht-lt)+dt*_e*(lt-nt+Pt))<dt*$*tt*(dt*_e-tt)&&(h=o+tt/_e,ot=e(h),ot<nt&&(vt=h,nt=ot)),b=1611*b%1048576,_e=1,tt=(gt-ft)*1e-5*b,!(dt<=tt););else for(b=1611*b%1048576,_e=1,tt=(gt-ft)*1e-5*b;tt<dt;)_e*(tt*(ht-lt)+dt*_e*(lt-nt+Pt))<dt*$*tt*(dt*_e-tt)&&(h=o+tt/_e,ot=e(h),ot<nt&&(vt=h,nt=ot)),b=1611*b%1048576,_e=1,tt=(gt-ft)*1e-5*b;for(tt=$*c*d*g,it=Math.sqrt((lt-nt+Pt)/$),_=.5*(1+_),j=_*(j+2*tt*it),_e=_e+.5*et,tt=-.5*(c+(ct+2.01*$t)/(c*$)),tt<it||c<0?tt=o+it:tt=o+tt,0<j*_e?h=o+j/_e:h=tt;h=Math.max(h,tt),gt<=h?(h=gt,ot=ht):ot=e(h),ot<nt&&(vt=h,nt=ot),c=h-o,!(h<=tt||(j=2*(lt-ot)/(Jt*c),(1+9*Et)*c<=Math.abs(j))||.5*$*(c*c+j*j)<=lt-nt+(ot-nt)+2*Pt);)h=.5*(o+h),_=.9*_;if(gt<=h)break;a=at,at=o,o=h,st=rt,rt=lt,lt=ot}return[vt,nt]},polzeros:function(e,s,a,o,h){var c,d,g,_=[],b=[],$=[],j=function(at,nt,st){var rt,lt,ot=at.length-1;if(st=st||!1,st)for(lt=JXG$1.C.mult(ot,at[ot]),rt=ot-1;rt>0;rt--)lt.mult(nt),lt.add(JXG$1.C.mult(at[rt],rt));else for(lt=JXG$1.C.copy(at[ot]),rt=ot-1;rt>=0;rt--)lt.mult(nt),lt.add(at[rt]);return lt},_e=function(at,nt,st){var rt,lt,ot=at.length-1;if(st=st||!1,st)for(lt=JXG$1.C.mult(ot,at[0]),rt=ot-1;rt>0;rt--)lt.mult(nt),lt.add(JXG$1.C.mult(at[ot-rt],rt));else for(lt=JXG$1.C.copy(at[0]),rt=ot-1;rt>=0;rt--)lt.mult(nt),lt.add(at[ot-rt]);return lt},et=function(at,nt){var st,rt,lt=at.length-1;for(rt=at[lt],st=lt-1;st>=0;st--)rt=rt*nt+at[st];return rt},tt=function(at){var nt,st,rt=at.length-1,lt=Math.PI*2/rt,ot=Math.PI/rt*.5,ht,ct,ut=[];for(ht=JXG$1.C.mult(-1,at[rt-1]),ht.div(JXG$1.C.mult(rt,at[rt])),ct=JXG$1.C.div(j(at,ht),at[rt]),st=Math.pow(JXG$1.C.abs(ct),1/rt),st===0&&(st=1),nt=0;nt<rt;nt++)at=new JXG$1.Complex(st*Math.cos(lt*nt+ot),st*Math.sin(lt*nt+ot)),ut[nt]=JXG$1.C.add(ht,at);return ut},it=function(at,nt,st,rt){var lt,ot,ht,ct=[],ut=[],dt,ft,gt=0,mt,vt,Jt,Pt,$t=rt.length;for(ot=0;ot<$t;ot++)ct.push(!1);for(ot=0;ot<at.length;ot++)ut.push(JXG$1.C.abs(at[ot])*(4*ot+1));for(lt=0;lt<st&&gt<$t;lt++)for(ot=0;ot<$t;ot++)if(!ct[ot]){if(mt=j(at,rt[ot]),ft=JXG$1.C.abs(rt[ot]),JXG$1.C.abs(mt)<nt*et(ut,ft)){if(ct[ot]=!0,gt++,gt===$t)break;continue}for(ft>1?(dt=JXG$1.C.div(1,rt[ot]),Pt=_e(at,dt,!0),Pt.div(_e(at,dt)),Pt.mult(dt),mt=JXG$1.C.sub($t,Pt),mt=JXG$1.C.div(rt[ot],mt)):mt.div(j(at,rt[ot],!0)),vt=new JXG$1.Complex(0),ht=0;ht<$t;ht++)ht!==ot&&(Jt=JXG$1.C.sub(rt[ot],rt[ht]),Jt=JXG$1.C.div(1,Jt),vt.add(Jt));vt.mult(mt),vt=JXG$1.C.sub(1,vt),mt.div(vt),rt[ot].sub(mt)}return lt};for(a=a||Number.EPSILON,o=o||30,d=e.length,JXG$1.isNumber(s)&&s>=0&&s<d-1&&(d=s+1),c=0;c<d;c++)_.push(new JXG$1.Complex(e[c]));for(c=0;c<d;c++)if(_[c].real!==0||_[c].imaginary!==0){g=c;break}for(c=0;c<g;c++)b.push(new JXG$1.Complex(0));for(_=_.slice(g),d=_.length,c=d-1;c>=0&&!(_[c].real!==0||_[c].imaginary!==0);c--)_.pop();if(d=_.length,d===0)return[];if(h)for(c=0;c<d-1;c++)$.push(new JXG$1.Complex(h[c]));else $=tt(_);return it(_,a,o,$),$=b.concat($),$.sort(function(at,nt){return at.real<nt.real?-1:at.real>nt.real?1:0}),$},RamerDouglasPeucker:function(e,s){var a=[],o=[],h,c,d,g=!0,_=function($,j,_e){var et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut=Mat.eps*Mat.eps,dt=1e4,ft=0,gt=j;if(_e-j<2)return[-1,0];if(it=$[j].scrCoords,at=$[_e].scrCoords,isNaN(it[1])||isNaN(it[2]))return[NaN,j];if(isNaN(at[1])||isNaN(at[2]))return[NaN,_e];for(tt=j+1;tt<_e;tt++){if(nt=$[tt].scrCoords,isNaN(nt[1])||isNaN(nt[2]))return[NaN,tt];st=nt[1]-it[1],rt=nt[2]-it[2],lt=at[1]-it[1],ot=at[2]-it[2],st=st===1/0?dt:st,rt=rt===1/0?dt:rt,lt=lt===1/0?dt:lt,ot=ot===1/0?dt:ot,st=st===-1/0?-dt:st,rt=rt===-1/0?-dt:rt,lt=lt===-1/0?-dt:lt,ot=ot===-1/0?-dt:ot,ht=lt*lt+ot*ot,ht>ut?(ct=(st*lt+rt*ot)/ht,ct<0?ct=0:ct>1&&(ct=1),st=st-ct*lt,rt=rt-ct*ot,et=st*st+rt*rt):(ct=0,et=st*st+rt*rt),et>ft&&(ft=et,gt=tt)}return[Math.sqrt(ft),gt]},b=function($,j,_e,et,tt){var it=_($,j,_e),at=it[1];if(isNaN(it[0])){b($,j,at-1,et,tt),tt.push($[at]);do++at;while(at<=_e&&isNaN($[at].scrCoords[1]+$[at].scrCoords[2]));at<=_e&&tt.push($[at]),b($,at+1,_e,et,tt)}else it[0]>et?(b($,j,at,et,tt),b($,at,_e,et,tt)):tt.push($[_e])};for(d=e.length,h=0;g;){for(;h<d&&isNaN(e[h].scrCoords[1]+e[h].scrCoords[2]);)h+=1;for(c=h+1;c<d&&!isNaN(e[c].scrCoords[1]+e[c].scrCoords[2]);)c+=1;if(c--,h<d&&c>h&&(o=[],o[0]=e[h],b(e,h,c,s,o),a=a.concat(o)),h>=d)break;c<d-1&&a.push(e[c+1]),h=c+1}return a},RamerDouglasPeuker:function(e,s){return JXG$1.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()"),this.RamerDouglasPeucker(e,s)},Visvalingam:function(e,s){var a,o,h,c,d=[],g=[],_=[],b,$,j,_e,et;if(o=e.length,o<=2)return e;for(d[0]={used:!0,lft:null,node:null},b=0,a=1;a<o-1;a++)h=Math.abs(JXG$1.Math.Numerics.det([e[a-1].usrCoords,e[a].usrCoords,e[a+1].usrCoords])),isNaN(h)||(et={v:h,idx:a},g.push(et),d[a]={used:!0,lft:b,node:et},d[b].rt=a,b=a);for(d[o-1]={used:!0,rt:null,lft:b,node:null},d[b].rt=o-1,c=-1/0;g.length>s;)g.sort(function(tt,it){return it.v-tt.v}),a=g.pop().idx,d[a].used=!1,c=d[a].node.v,b=d[a].lft,$=d[a].rt,d[b].rt=$,d[$].lft=b,j=d[b].lft,j!==null&&(h=Math.abs(JXG$1.Math.Numerics.det([e[j].usrCoords,e[b].usrCoords,e[$].usrCoords])),d[b].node.v=h>=c?h:c),_e=d[$].rt,_e!==null&&(h=Math.abs(JXG$1.Math.Numerics.det([e[b].usrCoords,e[$].usrCoords,e[_e].usrCoords])),d[$].node.v=h>=c?h:c);a=0,_=[e[a]];do a=d[a].rt,_.push(e[a]);while(d[a].rt!==null);return _}};const Numerics=Mat.Numerics;Mat.Geometry={};JXG$1.extend(Mat.Geometry,{angle:function(e,s,a){var o,h,c,d,g=[],_=[],b=[];return JXG$1.deprecated("Geometry.angle()","Geometry.rad()"),e.coords?(g[0]=e.coords.usrCoords[1],g[1]=e.coords.usrCoords[2]):(g[0]=e[0],g[1]=e[1]),s.coords?(_[0]=s.coords.usrCoords[1],_[1]=s.coords.usrCoords[2]):(_[0]=s[0],_[1]=s[1]),a.coords?(b[0]=a.coords.usrCoords[1],b[1]=a.coords.usrCoords[2]):(b[0]=a[0],b[1]=a[1]),o=g[0]-_[0],h=g[1]-_[1],c=b[0]-_[0],d=b[1]-_[1],Math.atan2(o*d-h*c,o*c+h*d)},trueAngle:function(e,s,a){return this.rad(e,s,a)*57.29577951308232},rad:function(e,s,a){var o,h,c,d,g,_,b;return e.coords?(o=e.coords.usrCoords[1],h=e.coords.usrCoords[2]):(o=e[0],h=e[1]),s.coords?(c=s.coords.usrCoords[1],d=s.coords.usrCoords[2]):(c=s[0],d=s[1]),a.coords?(g=a.coords.usrCoords[1],_=a.coords.usrCoords[2]):(g=a[0],_=a[1]),b=Math.atan2(_-d,g-c)-Math.atan2(h-d,o-c),b<0&&(b+=6.283185307179586),b},angleBisector:function(e,s,a,o){var h,c,d,g=e.coords.usrCoords,_=s.coords.usrCoords,b=a.coords.usrCoords,$,j;return JXG$1.exists(o)||(o=e.board),_[0]===0?new Coords(Const.COORDS_BY_USER,[1,(g[1]+b[1])*.5,(g[2]+b[2])*.5],o):($=g[1]-_[1],j=g[2]-_[2],h=Math.atan2(j,$),$=b[1]-_[1],j=b[2]-_[2],c=Math.atan2(j,$),d=(h+c)*.5,h>c&&(d+=Math.PI),$=Math.cos(d)+_[1],j=Math.sin(d)+_[2],new Coords(Const.COORDS_BY_USER,[1,$,j],o))},reflection:function(e,s,a){var o,h,c,d,g,_,b,$=s.coords.usrCoords,j=e.point1.coords.usrCoords,_e=e.point2.coords.usrCoords;return JXG$1.exists(a)||(a=s.board),g=_e[1]-j[1],_=_e[2]-j[2],o=$[1]-j[1],h=$[2]-j[2],b=(g*h-_*o)/(g*g+_*_),c=$[1]+2*b*_,d=$[2]-2*b*g,new Coords(Const.COORDS_BY_USER,[c,d],a)},rotation:function(e,s,a,o){var h,c,d,g,_,b,$=s.coords.usrCoords,j=e.coords.usrCoords;return JXG$1.exists(o)||(o=s.board),h=$[1]-j[1],c=$[2]-j[2],d=Math.cos(a),g=Math.sin(a),_=h*d-c*g+j[1],b=h*g+c*d+j[2],new Coords(Const.COORDS_BY_USER,[_,b],o)},perpendicular:function(e,s,a){var o,h,c,d,g,_=e.point1.coords.usrCoords,b=e.point2.coords.usrCoords,$=s.coords.usrCoords;return JXG$1.exists(a)||(a=s.board),s===e.point1?(o=_[1]+b[2]-_[2],h=_[2]-b[1]+_[1],g=_[0]*b[0],Math.abs(g)<Mat.eps&&(o=b[2],h=-b[1]),d=[g,o,h],c=!0):s===e.point2?(o=b[1]+_[2]-b[2],h=b[2]-_[1]+b[1],g=_[0]*b[0],Math.abs(g)<Mat.eps&&(o=_[2],h=-_[1]),d=[g,o,h],c=!1):Math.abs(Mat.innerProduct($,e.stdform,3))<Mat.eps?(o=$[1]+b[2]-$[2],h=$[2]-b[1]+$[1],g=b[0],Math.abs(g)<Mat.eps&&(o=b[2],h=-b[1]),c=!0,Math.abs(g)>Mat.eps&&Math.abs(o-$[1])<Mat.eps&&Math.abs(h-$[2])<Mat.eps&&(o=$[1]+_[2]-$[2],h=$[2]-_[1]+$[1],c=!1),d=[g,o,h]):(d=[0,e.stdform[1],e.stdform[2]],d=Mat.crossProduct(d,$),d=Mat.crossProduct(d,e.stdform),c=!0),[new Coords(Const.COORDS_BY_USER,d,a),c]},circumcenterMidpoint:function(){JXG$1.deprecated("Geometry.circumcenterMidpoint()","Geometry.circumcenter()"),this.circumcenter.apply(this,arguments)},circumcenter:function(e,s,a,o){var h,c,d,g,_=e.coords.usrCoords,b=s.coords.usrCoords,$=a.coords.usrCoords;return JXG$1.exists(o)||(o=e.board),h=[b[0]-_[0],-b[2]+_[2],b[1]-_[1]],c=[(_[0]+b[0])*.5,(_[1]+b[1])*.5,(_[2]+b[2])*.5],d=Mat.crossProduct(h,c),h=[$[0]-b[0],-$[2]+b[2],$[1]-b[1]],c=[(b[0]+$[0])*.5,(b[1]+$[1])*.5,(b[2]+$[2])*.5],g=Mat.crossProduct(h,c),new Coords(Const.COORDS_BY_USER,Mat.crossProduct(d,g),o)},distance:function(e,s,a){var o,h=0;for(a||(a=Math.min(e.length,s.length)),o=0;o<a;o++)h+=(e[o]-s[o])*(e[o]-s[o]);return Math.sqrt(h)},affineDistance:function(e,s,a){var o;return o=this.distance(e,s,a),o>Mat.eps&&(Math.abs(e[0])<Mat.eps||Math.abs(s[0])<Mat.eps)?1/0:o},affineRatio:function(e,s,a){var o=0,h;return JXG$1.exists(e.usrCoords)&&(e=e.usrCoords),JXG$1.exists(s.usrCoords)&&(s=s.usrCoords),JXG$1.exists(a.usrCoords)&&(a=a.usrCoords),h=s[1]-e[1],Math.abs(h)>Mat.eps?o=(a[1]-e[1])/h:o=(a[2]-e[2])/(s[2]-e[2]),o},sortVertices:function(e){for(var s,a=Expect.each(e,Expect.coordsArray),o=a.length,h=null;a[0][0]===a[o-1][0]&&a[0][1]===a[o-1][1]&&a[0][2]===a[o-1][2];)h=a.pop(),o--;return s=a[0],a.sort(function(c,d){var g=c[2]===s[2]&&c[1]===s[1]?-1/0:Math.atan2(c[2]-s[2],c[1]-s[1]),_=d[2]===s[2]&&d[1]===s[1]?-1/0:Math.atan2(d[2]-s[2],d[1]-s[1]);return g-_}),h!==null&&a.push(h),a},signedTriangle:function(e,s,a){var o=Expect.coordsArray(e),h=Expect.coordsArray(s),c=Expect.coordsArray(a);return .5*((h[1]-o[1])*(c[2]-o[2])-(h[2]-o[2])*(c[1]-o[1]))},signedPolygon:function(e,s){var a,o,h=0,c=Expect.each(e,Expect.coordsArray);for(s===void 0&&(s=!0),s?c.unshift(c[c.length-1]):c=this.sortVertices(c),o=c.length,a=1;a<o;a++)h+=c[a-1][1]*c[a][2]-c[a][1]*c[a-1][2];return .5*h},GrahamScan:function(e){var s,a=1,o=Expect.each(e,Expect.coordsArray),h=o.length;for(o=this.sortVertices(o),h=o.length,s=2;s<h;s++){for(;this.signedTriangle(o[a-1],o[a],o[s])<=0;){if(a>1)a-=1;else if(s===h-1)break;s+=1}a+=1,o=JXG$1.swap(o,a,s)}return o.slice(0,a)},calcStraight:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e,et;JXG$1.exists(o)||(o=10),b=JXG$1.evaluate(e.visProp.straightfirst),$=JXG$1.evaluate(e.visProp.straightlast),Math.abs(s.scrCoords[0])<Mat.eps&&(b=!0),Math.abs(a.scrCoords[0])<Mat.eps&&($=!0),!(!b&&!$)&&(j=[],j[0]=e.stdform[0]-e.stdform[1]*e.board.origin.scrCoords[1]/e.board.unitX+e.stdform[2]*e.board.origin.scrCoords[2]/e.board.unitY,j[1]=e.stdform[1]/e.board.unitX,j[2]=-e.stdform[2]/e.board.unitY,!isNaN(j[0]+j[1]+j[2])&&(h=!1,c=!1,h=!b&&Math.abs(s.usrCoords[0])>=Mat.eps&&s.scrCoords[1]>=0&&s.scrCoords[1]<=e.board.canvasWidth&&s.scrCoords[2]>=0&&s.scrCoords[2]<=e.board.canvasHeight,c=!$&&Math.abs(a.usrCoords[0])>=Mat.eps&&a.scrCoords[1]>=0&&a.scrCoords[1]<=e.board.canvasWidth&&a.scrCoords[2]>=0&&a.scrCoords[2]<=e.board.canvasHeight,d=this.meetLineBoard(j,e.board,o),g=d[0],_=d[1],!(!h&&!c&&(!b&&$&&!this.isSameDirection(s,a,g)&&!this.isSameDirection(s,a,_)||b&&!$&&!this.isSameDirection(a,s,g)&&!this.isSameDirection(a,s,_)))&&(h?c||(this.isSameDir(s,a,g,_)?et=_:et=g):c?this.isSameDir(s,a,g,_)?_e=g:_e=_:this.isSameDir(s,a,g,_)?(_e=g,et=_):(et=g,_e=_),_e&&s.setCoordinates(Const.COORDS_BY_USER,_e.usrCoords),et&&a.setCoordinates(Const.COORDS_BY_USER,et.usrCoords))))},calcLineDelimitingPoints:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et=!1,tt=!1;_=JXG$1.evaluate(e.visProp.straightfirst),b=JXG$1.evaluate(e.visProp.straightlast),Math.abs(s.scrCoords[0])<Mat.eps&&(_=!0),Math.abs(a.scrCoords[0])<Mat.eps&&(b=!0),$=[],$[0]=e.stdform[0]-e.stdform[1]*e.board.origin.scrCoords[1]/e.board.unitX+e.stdform[2]*e.board.origin.scrCoords[2]/e.board.unitY,$[1]=e.stdform[1]/e.board.unitX,$[2]=-e.stdform[2]/e.board.unitY,!isNaN($[0]+$[1]+$[2])&&(et=!_,tt=!b,h=e.board.getBoundingBox(),c=e.getSlope(),c>=0?(d=this.projectPointToLine({coords:{usrCoords:[1,h[2],h[1]]}},e,e.board),g=this.projectPointToLine({coords:{usrCoords:[1,h[0],h[3]]}},e,e.board)):(d=this.projectPointToLine({coords:{usrCoords:[1,h[0],h[1]]}},e,e.board),g=this.projectPointToLine({coords:{usrCoords:[1,h[2],h[3]]}},e,e.board)),!(!et&&!tt&&(!_&&!b&&(o=s.distance(Const.COORDS_BY_USER,a),Math.abs(s.distance(Const.COORDS_BY_USER,d)+d.distance(Const.COORDS_BY_USER,a)-o)>Mat.eps||Math.abs(s.distance(Const.COORDS_BY_USER,g)+g.distance(Const.COORDS_BY_USER,a)-o)>Mat.eps)||!_&&b&&!this.isSameDirection(s,a,d)&&!this.isSameDirection(s,a,g)||_&&!b&&!this.isSameDirection(a,s,d)&&!this.isSameDirection(a,s,g)))&&(et?tt||(this.isSameDir(s,a,d,g)?_e=g:_e=d):tt?this.isSameDir(s,a,d,g)?j=d:j=g:this.isSameDir(s,a,d,g)?(j=d,_e=g):(_e=d,j=g),j&&s.setCoordinates(Const.COORDS_BY_USER,j.usrCoords),_e&&a.setCoordinates(Const.COORDS_BY_USER,_e.usrCoords)))},calcLabelQuadrant:function(e){var s;return e<0&&(e+=2*Math.PI),s=Math.floor((e+Math.PI/8)/(Math.PI/4))%8,["rt","urt","top","ulft","lft","llft","lrt"][s]},isSameDir:function(e,s,a,o){var h=s.usrCoords[1]-e.usrCoords[1],c=s.usrCoords[2]-e.usrCoords[2],d=o.usrCoords[1]-a.usrCoords[1],g=o.usrCoords[2]-a.usrCoords[2];return Math.abs(s.usrCoords[0])<Mat.eps&&(h=s.usrCoords[1],c=s.usrCoords[2]),Math.abs(e.usrCoords[0])<Mat.eps&&(h=-e.usrCoords[1],c=-e.usrCoords[2]),h*d+c*g>=0},isSameDirection:function(e,s,a){var o,h,c,d,g=!1;return o=s.usrCoords[1]-e.usrCoords[1],h=s.usrCoords[2]-e.usrCoords[2],c=a.usrCoords[1]-e.usrCoords[1],d=a.usrCoords[2]-e.usrCoords[2],Math.abs(o)<Mat.eps&&(o=0),Math.abs(h)<Mat.eps&&(h=0),Math.abs(c)<Mat.eps&&(c=0),Math.abs(d)<Mat.eps&&(d=0),(o>=0&&c>=0||o<=0&&c<=0)&&(g=h>=0&&d>=0||h<=0&&d<=0),g},det3p:function(e,s,a){var o,h,c;return JXG$1.isPoint(e)?o=e.Coords(!0):o=e,JXG$1.isPoint(s)?h=s.Coords(!0):h=s,JXG$1.isPoint(a)?c=a.Coords(!0):c=a,(o[1]-c[1])*(h[2]-c[2])-(h[1]-c[1])*(o[2]-c[2])},windingNumber:function(e,s,a){var o=0,h=s.length,c=e[1],d=e[2],g,_,b,$,j,_e,et=0;if(h===0)return 0;if(a=a||!1,a&&(et=1),isNaN(c)||isNaN(d)||(JXG$1.exists(s[0].coords)?(g=s[0].coords,_=s[h-1].coords):(g=s[0],_=s[h-1]),g.usrCoords[1]===c&&g.usrCoords[2]===d))return 1;for(_e=0;_e<h-et;_e++)if(JXG$1.exists(s[_e].coords)?(_=s[_e].coords.usrCoords,b=s[(_e+1)%h].coords.usrCoords):(_=s[_e].usrCoords,b=s[(_e+1)%h].usrCoords),!(_[0]===0||b[0]===0||isNaN(_[1])||isNaN(b[1])||isNaN(_[2])||isNaN(b[2]))){if(b[2]===d){if(b[1]===c)return 1;if(_[2]===d&&b[1]>c==_[1]<c)return 0}if(_[2]<d!=b[2]<d)if(j=2*(b[2]>_[2]?1:0)-1,_[1]>=c)if(b[1]>c)o+=j;else{if($=this.det3p(_,b,e),$===0)return 0;$>0+Mat.eps==b[2]>_[2]&&(o+=j)}else b[1]>c&&($=this.det3p(_,b,e),$>0+Mat.eps==b[2]>_[2]&&(o+=j))}return o},pnpoly:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e=a,et=!1;for(o===Const.COORDS_BY_USER?(j=new Coords(Const.COORDS_BY_USER,[e,s],this.board),b=j.scrCoords[1],$=j.scrCoords[2]):(b=e,$=s),_=a.length,h=0,c=_-2;h<_-1;c=h++)d=JXG$1.exists(_e[h].coords)?_e[h].coords:_e[h],g=JXG$1.exists(_e[c].coords)?_e[c].coords:_e[c],d.scrCoords[2]>$!=g.scrCoords[2]>$&&b<(g.scrCoords[1]-d.scrCoords[1])*($-d.scrCoords[2])/(g.scrCoords[2]-d.scrCoords[2])+d.scrCoords[1]&&(et=!et);return et},intersectionFunction:function(e,s,a,o,h,c){var d,g=this,_=!1,b=!1;return _=s.elementClass===Const.OBJECT_CLASS_CURVE&&(s.type===Const.OBJECT_TYPE_ARC||s.type===Const.OBJECT_TYPE_SECTOR),b=a.elementClass===Const.OBJECT_CLASS_CURVE&&(a.type===Const.OBJECT_TYPE_ARC||a.type===Const.OBJECT_TYPE_SECTOR),(s.elementClass===Const.OBJECT_CLASS_CURVE||a.elementClass===Const.OBJECT_CLASS_CURVE)&&(s.elementClass===Const.OBJECT_CLASS_CURVE||s.elementClass===Const.OBJECT_CLASS_CIRCLE)&&(a.elementClass===Const.OBJECT_CLASS_CURVE||a.elementClass===Const.OBJECT_CLASS_CIRCLE)?d=function(){return g.meetCurveCurve(s,a,o,h,s.board)}:s.elementClass===Const.OBJECT_CLASS_CURVE&&!_&&a.elementClass===Const.OBJECT_CLASS_LINE||a.elementClass===Const.OBJECT_CLASS_CURVE&&!b&&s.elementClass===Const.OBJECT_CLASS_LINE?d=function(){return g.meetCurveLine(s,a,o,s.board,JXG$1.evaluate(c))}:s.type===Const.OBJECT_TYPE_POLYGON||a.type===Const.OBJECT_TYPE_POLYGON?s.elementClass===Const.OBJECT_CLASS_LINE?d=function(){var $=JXG$1.evaluate(s.visProp.straightfirst),j=JXG$1.evaluate(s.visProp.straightlast),_e=JXG$1.evaluate(a.visProp.straightfirst),et=JXG$1.evaluate(a.visProp.straightlast),tt;return tt=!JXG$1.evaluate(c)&&(!$||!j||!_e||!et),g.meetPolygonLine(a,s,o,s.board,tt)}:a.elementClass===Const.OBJECT_CLASS_LINE?d=function(){var $=JXG$1.evaluate(s.visProp.straightfirst),j=JXG$1.evaluate(s.visProp.straightlast),_e=JXG$1.evaluate(a.visProp.straightfirst),et=JXG$1.evaluate(a.visProp.straightlast),tt;return tt=!JXG$1.evaluate(c)&&(!$||!j||!_e||!et),g.meetPolygonLine(s,a,o,s.board,tt)}:d=function(){return g.meetPathPath(s,a,o,s.board)}:s.elementClass===Const.OBJECT_CLASS_LINE&&a.elementClass===Const.OBJECT_CLASS_LINE?d=function(){var $,j,_e=JXG$1.evaluate(s.visProp.straightfirst),et=JXG$1.evaluate(s.visProp.straightlast),tt=JXG$1.evaluate(a.visProp.straightfirst),it=JXG$1.evaluate(a.visProp.straightlast);return!JXG$1.evaluate(c)&&(!_e||!et||!tt||!it)?($=g.meetSegmentSegment(s.point1.coords.usrCoords,s.point2.coords.usrCoords,a.point1.coords.usrCoords,a.point2.coords.usrCoords),!_e&&$[1]<0||!et&&$[1]>1||!tt&&$[2]<0||!it&&$[2]>1?j=[0,NaN,NaN]:j=$[0],new Coords(Const.COORDS_BY_USER,j,s.board)):g.meet(s.stdform,a.stdform,o,s.board)}:d=function(){var $=g.meet(s.stdform,a.stdform,o,s.board),j=!0,_e,et,tt;return JXG$1.evaluate(c)?$:s.elementClass===Const.OBJECT_CLASS_LINE&&(_e=JXG$1.evaluate(s.visProp.straightfirst),et=JXG$1.evaluate(s.visProp.straightlast),(!_e||!et)&&(tt=g.affineRatio(s.point1.coords,s.point2.coords,$),!et&&tt>1+Mat.eps||!_e&&tt<0-Mat.eps))?new Coords(JXG$1.COORDS_BY_USER,[0,NaN,NaN],s.board):a.elementClass===Const.OBJECT_CLASS_LINE&&(_e=JXG$1.evaluate(a.visProp.straightfirst),et=JXG$1.evaluate(a.visProp.straightlast),(!_e||!et)&&(tt=g.affineRatio(a.point1.coords,a.point2.coords,$),!et&&tt>1+Mat.eps||!_e&&tt<0-Mat.eps))?new Coords(JXG$1.COORDS_BY_USER,[0,NaN,NaN],s.board):_&&(j=g.coordsOnArc(s,$),j&&b&&(j=g.coordsOnArc(a,$)),!j)?new Coords(JXG$1.COORDS_BY_USER,[0,NaN,NaN],s.board):$},d},otherIntersectionFunction:function(e,s,a,o){var h,c,d,g,_=this;return d=e[0],g=e[1],c=d.board,h=function(){var b,$,j,_e,et,tt=s.length,it=JXG$1.evaluate(o);for(b=tt;b>=0;b--){for(d.elementClass===Const.OBJECT_CLASS_CIRCLE&&[Const.OBJECT_CLASS_CIRCLE,Const.OBJECT_CLASS_LINE].indexOf(g.elementClass)>=0?j=_.meet(d.stdform,g.stdform,b,c):d.elementClass===Const.OBJECT_CLASS_CURVE&&[Const.OBJECT_CLASS_CURVE,Const.OBJECT_CLASS_CIRCLE].indexOf(g.elementClass)>=0?j=_.meetCurveCurve(d,g,b,0,c,"segment"):d.elementClass===Const.OBJECT_CLASS_CURVE&&g.elementClass===Const.OBJECT_CLASS_LINE&&(JXG$1.exists(d.dataX)?j=JXG$1.Math.Geometry.meetCurveLine(d,g,b,d.board,JXG$1.evaluate(a)):j=JXG$1.Math.Geometry.meetCurveLineContinuous(d,g,b,d.board)),et=!1,$=0;!et&&$<tt;$++)_e=j.distance(JXG$1.COORDS_BY_USER,s[$].coords),_e<it&&(et=!0);if(!et)return j}return j},h},intersectionFunction3D:function(e,s,a,o){var h,c=this;return s.type===Const.OBJECT_TYPE_PLANE3D?a.type===Const.OBJECT_TYPE_PLANE3D?h=()=>e.intersectionPlanePlane(s,a)[o]:a.type===Const.OBJECT_TYPE_SPHERE3D&&(h=c.meetPlaneSphere(s,a)):s.type===Const.OBJECT_TYPE_SPHERE3D&&(a.type===Const.OBJECT_TYPE_PLANE3D?h=c.meetPlaneSphere(a,s):a.type===Const.OBJECT_TYPE_SPHERE3D&&(h=c.meetSphereSphere(s,a))),h},coordsOnArc:function(e,s){var a=this.rad(e.radiuspoint,e.center,s.usrCoords.slice(1)),o=0,h=this.rad(e.radiuspoint,e.center,e.anglepoint),c=JXG$1.evaluate(e.visProp.selection);return(c==="minor"&&h>Math.PI||c==="major"&&h<Math.PI)&&(o=h,h=2*Math.PI),!(a<o||a>h)},meet:function(e,s,a,o){var h,c=Mat.eps;return Math.abs(e[3])<c&&Math.abs(s[3])<c?h=this.meetLineLine(e,s,a,o):Math.abs(e[3])>=c&&Math.abs(s[3])<c?h=this.meetLineCircle(s,e,a,o):Math.abs(e[3])<c&&Math.abs(s[3])>=c?h=this.meetLineCircle(e,s,a,o):h=this.meetCircleCircle(e,s,a,o),h},meetLineBoard:function(e,s,a){var o=[],h,c,d,g;for(JXG$1.exists(a)||(a=0),o[0]=Mat.crossProduct(e,[a,0,1]),o[1]=Mat.crossProduct(e,[a,1,0]),o[2]=Mat.crossProduct(e,[-a-s.canvasHeight,0,1]),o[3]=Mat.crossProduct(e,[-a-s.canvasWidth,1,0]),d=0;d<4;d++)if(Math.abs(o[d][0])>Mat.eps){for(g=2;g>0;g--)o[d][g]/=o[d][0];o[d][0]=1}return Math.abs(o[1][0])<Mat.eps?(h=o[0],c=o[2]):Math.abs(o[0][0])<Mat.eps?(h=o[1],c=o[3]):o[1][2]<0?(h=o[0],o[3][2]>s.canvasHeight?c=o[2]:c=o[3]):o[1][2]>s.canvasHeight?(h=o[2],o[3][2]<0?c=o[0]:c=o[3]):(h=o[1],o[3][2]<0?c=o[0]:o[3][2]>s.canvasHeight?c=o[2]:c=o[3]),[new Coords(Const.COORDS_BY_SCREEN,h.slice(1),s),new Coords(Const.COORDS_BY_SCREEN,c.slice(1),s)]},meetLineLine:function(e,s,a,o){var h=isNaN(e[5]+s[5])?[0,0,0]:Mat.crossProduct(e,s);return Math.abs(h[0])<1e-14&&(h[0]=0),new Coords(Const.COORDS_BY_USER,h,o)},meetLineCircle:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e,et;return s[4]<Mat.eps?Math.abs(Mat.innerProduct([1,s[6],s[7]],e,3))<Mat.eps?new Coords(Const.COORDS_BY_USER,s.slice(6,8),o):new Coords(Const.COORDS_BY_USER,[NaN,NaN],o):(d=s[0],c=s.slice(1,3),h=s[3],g=e[0],_=e.slice(1,3),b=h,$=c[0]*_[1]-c[1]*_[0],j=h*g*g-(c[0]*_[0]+c[1]*_[1])*g+d,_e=$*$-4*b*j,_e>-Mat.eps*Mat.eps?(_e=Math.sqrt(Math.abs(_e)),et=[(-$+_e)/(2*b),(-$-_e)/(2*b)],JXG$1.evaluate(a)===0?new Coords(Const.COORDS_BY_USER,[-et[0]*-_[1]-g*_[0],-et[0]*_[0]-g*_[1]],o):new Coords(Const.COORDS_BY_USER,[-et[1]*-_[1]-g*_[0],-et[1]*_[0]-g*_[1]],o)):new Coords(Const.COORDS_BY_USER,[0,0,0],o))},meetCircleCircle:function(e,s,a,o){var h;return e[4]<Mat.eps?Math.abs(this.distance(e.slice(6,2),s.slice(6,8))-s[4])<Mat.eps?new Coords(Const.COORDS_BY_USER,e.slice(6,8),o):new Coords(Const.COORDS_BY_USER,[0,0,0],o):s[4]<Mat.eps?Math.abs(this.distance(s.slice(6,2),e.slice(6,8))-e[4])<Mat.eps?new Coords(Const.COORDS_BY_USER,s.slice(6,8),o):new Coords(Const.COORDS_BY_USER,[0,0,0],o):(h=[s[3]*e[0]-e[3]*s[0],s[3]*e[1]-e[3]*s[1],s[3]*e[2]-e[3]*s[2],0,1,1/0,1/0,1/0],h=Mat.normalize(h),this.meetLineCircle(h,e,a,o))},meetCurveCurve:function(e,s,a,o,h,c){var d;return JXG$1.exists(c)&&c==="newton"?d=Numerics.generalizedNewton(e,s,JXG$1.evaluate(a),o):e.bezierDegree===3||s.bezierDegree===3?d=this.meetBezierCurveRedBlueSegments(e,s,a):d=this.meetCurveRedBlueSegments(e,s,a),new Coords(Const.COORDS_BY_USER,d,h)},meetCurveLine:function(e,s,a,o,h){var c=[0,NaN,NaN],d,g;return JXG$1.exists(o)||(o=e.board),e.elementClass===Const.OBJECT_CLASS_CURVE?(d=e,g=s):(d=s,g=e),c=this.meetCurveLineDiscrete(d,g,a,o,!h),c},meetCurveLineContinuous:function(e,s,a,o,h){var c,d,g,_,b,$,j,_e=Mat.eps,et=Mat.eps,tt,it,at,nt,st,rt,lt;for(_=this.meetCurveLineDiscrete(e,s,a,o,h),b=_.usrCoords[1],$=_.usrCoords[2],c=function(ot){var ht,ct;return ot>e.maxX()||ot<e.minX()?1/0:(ht=e.X(ot)-b,ct=e.Y(ot)-$,ht*ht+ct*ct)},d=function(ot){var ht=s.stdform[0]+s.stdform[1]*e.X(ot)+s.stdform[2]*e.Y(ot);return ht*ht},tt=50,it=(e.maxX()-e.minX())/tt,at=e.minX(),st=1e-4,nt=NaN,rt=0;rt<tt&&(g=Numerics.root(c,[Math.max(at,e.minX()),Math.min(at+it,e.maxX())]),lt=Math.abs(c(g)),!(lt<=st&&(st=lt,nt=g,st<_e)));rt++)at+=it;return g=nt,g=Numerics.root(d,[Math.max(g-it,e.minX()),Math.min(g+it,e.maxX())]),lt=d(g),isNaN(lt)||Math.abs(lt)>et?j=0:j=1,new Coords(Const.COORDS_BY_USER,[j,e.X(g),e.Y(g)],o)},meetCurveLineDiscrete:function(e,s,a,o,h){var c,d,g=JXG$1.evaluate(a),_,b,$,j,_e=s.point1.coords.usrCoords,et=s.point2.coords.usrCoords,tt,it,at=0,nt=e.numberPoints,st=JXG$1.evaluate(s.visProp.straightfirst),rt=JXG$1.evaluate(s.visProp.straightlast);for(j=new Coords(Const.COORDS_BY_USER,[0,NaN,NaN],o),_e[0]===0?_e=[1,et[1]+s.stdform[2],et[2]-s.stdform[1]]:et[0]===0&&(et=[1,_e[1]+s.stdform[2],_e[2]-s.stdform[1]]),b=e.points[0].usrCoords,c=1;c<nt;c+=e.bezierDegree)if(_=b.slice(0),b=e.points[c].usrCoords,tt=this.distance(_,b),tt>Mat.eps){for(e.bezierDegree===3?it=this.meetBeziersegmentBeziersegment([e.points[c-1].usrCoords.slice(1),e.points[c].usrCoords.slice(1),e.points[c+1].usrCoords.slice(1),e.points[c+2].usrCoords.slice(1)],[_e.slice(1),et.slice(1)],h):it=[this.meetSegmentSegment(_,b,_e,et)],d=0;d<it.length;d++)if($=it[d],0<=$[1]&&$[1]<=1){if(at===g)return h&&(!st&&$[2]<0||!rt&&$[2]>1)||(j=new Coords(Const.COORDS_BY_USER,$[0],o)),j;at+=1}}return j},meetCurveRedBlueSegments:function(e,s,a){var o,h,c=JXG$1.evaluate(a),d,g,_,b,$,j,_e,et=0,tt=s.numberPoints,it=e.numberPoints;if(tt<=1||it<=1)return[0,NaN,NaN];for(o=1;o<it;o++)for(d=e.points[o-1].usrCoords,g=e.points[o].usrCoords,j=Math.min(d[1],g[1]),_e=Math.max(d[1],g[1]),b=s.points[0].usrCoords,h=1;h<tt;h++)if(_=b,b=s.points[h].usrCoords,Math.min(_[1],b[1])<_e&&Math.max(_[1],b[1])>j&&($=this.meetSegmentSegment(d,g,_,b),$[1]>=0&&$[2]>=0&&($[1]<1&&$[2]<1||o===it-1&&$[1]===1||h===tt-1&&$[2]===1))){if(et===c)return $[0];et++}return[0,NaN,NaN]},meetSegmentSegment:function(e,s,a,o){var h,c,d,g,_=Mat.crossProduct(e,s),b=Mat.crossProduct(a,o),$=Mat.crossProduct(_,b);return Math.abs($[0])<Mat.eps?[$,1/0,1/0]:($[1]/=$[0],$[2]/=$[0],$[0]/=$[0],d=Math.abs(s[1]-s[0]*e[1])<Mat.eps?2:1,g=e[d]/e[0],h=($[d]-g)/(s[0]!==0?s[d]/s[0]-g:s[d]),d=Math.abs(o[1]-o[0]*a[1])<Mat.eps?2:1,g=a[d]/a[0],c=($[d]-g)/(o[0]!==0?o[d]/o[0]-g:o[d]),[$,h,c])},meetPathPath:function(e,s,a,o){var h,c,d,g,_=JXG$1.evaluate(a);return h=JXG$1.Math.Clip._getPath(e,o),d=h.length,d>0&&this.distance(h[0].coords.usrCoords,h[d-1].coords.usrCoords,3)<Mat.eps&&h.pop(),c=JXG$1.Math.Clip._getPath(s,o),d=c.length,d>0&&this.distance(c[0].coords.usrCoords,c[d-1].coords.usrCoords,3)<Mat.eps*Mat.eps&&c.pop(),a<0||JXG$1.Math.Clip.isEmptyCase(h,c,"intersection")?new Coords(Const.COORDS_BY_USER,[0,0,0],o):(JXG$1.Math.Clip.makeDoublyLinkedList(h),JXG$1.Math.Clip.makeDoublyLinkedList(c),g=JXG$1.Math.Clip.findIntersections(h,c,o)[0],_<g.length?g[_].coords:new Coords(Const.COORDS_BY_USER,[0,0,0],o))},meetPolygonLine:function(e,s,a,o,h){var c,d=JXG$1.evaluate(a),g,_,b=[0,0,0],$=e.borders.length,j=[];for(c=0;c<$;c++)_=e.borders[c],g=this.meetSegmentSegment(_.point1.coords.usrCoords,_.point2.coords.usrCoords,s.point1.coords.usrCoords,s.point2.coords.usrCoords),(!h||g[2]>=0&&g[2]<1)&&g[1]>=0&&g[1]<1&&j.push(g[0]);return d>=0&&d<j.length&&(b=j[d]),new Coords(Const.COORDS_BY_USER,b,o)},meetPlaneSphere:function(e,s){var a=function(){return e.normal[0]*s.center.X()+e.normal[1]*s.center.Y()+e.normal[2]*s.center.Z()-e.d};return[[function(){return s.center.X()-a()*e.normal[0]},function(){return s.center.Y()-a()*e.normal[1]},function(){return s.center.Z()-a()*e.normal[2]}],[()=>e.normal[0],()=>e.normal[1],()=>e.normal[2]],function(){var o=s.Radius(),h=a();return Math.sqrt(o*o-h*h)}]},meetSphereSphere:function(e,s){var a=function(){var o=e.center.distance(s.center),h=e.Radius(),c=s.Radius();return(h-c)*(h+c)/(o*o)};return[[function(){var o=a();return .5*((1-o)*e.center.X()+(1+o)*s.center.X())},function(){var o=a();return .5*((1-o)*e.center.Y()+(1+o)*s.center.Y())},function(){var o=a();return .5*((1-o)*e.center.Z()+(1+o)*s.center.Z())}],[()=>s.center.X()-e.center.X(),()=>s.center.Y()-e.center.Y(),()=>s.center.Z()-e.center.Z()],function(){var o=e.center.distance(s.center),h=e.Radius(),c=s.Radius(),d=a(),g=.5*(h*h+c*c-.5*o*o*(1+d*d));return Math.sqrt(g)}]},_bezierSplit:function(e){var s,a,o,h,c,d;return s=[(e[0][0]+e[1][0])*.5,(e[0][1]+e[1][1])*.5],a=[(e[1][0]+e[2][0])*.5,(e[1][1]+e[2][1])*.5],o=[(e[2][0]+e[3][0])*.5,(e[2][1]+e[3][1])*.5],h=[(s[0]+a[0])*.5,(s[1]+a[1])*.5],c=[(a[0]+o[0])*.5,(a[1]+o[1])*.5],d=[(h[0]+c[0])*.5,(h[1]+c[1])*.5],[[e[0],s,h,d],[d,c,o,e[3]]]},_bezierBbox:function(e){var s=[];return e.length===4?(s[0]=Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),s[1]=Math.max(e[0][1],e[1][1],e[2][1],e[3][1]),s[2]=Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),s[3]=Math.min(e[0][1],e[1][1],e[2][1],e[3][1])):(s[0]=Math.min(e[0][0],e[1][0]),s[1]=Math.max(e[0][1],e[1][1]),s[2]=Math.max(e[0][0],e[1][0]),s[3]=Math.min(e[0][1],e[1][1])),s},_bezierOverlap:function(e,s){return e[2]>=s[0]&&e[0]<=s[2]&&e[1]>=s[3]&&e[3]<=s[1]},_bezierListConcat:function(e,s,a,o){var h,c=JXG$1.exists(o),d=0,g=s.length,_=e.length;for(_>0&&g>0&&(e[_-1][1]===1&&s[0][1]===0||c&&e[_-1][2]===1&&s[0][2]===0)&&(d=1),h=d;h<g;h++)c&&(s[h][2]*=.5,s[h][2]+=o),s[h][1]*=.5,s[h][1]+=a,e.push(s[h])},_bezierMeetSubdivision:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it=[],at=5;return h=this._bezierBbox(s),o=this._bezierBbox(e),this._bezierOverlap(h,o)?a<at?(c=this._bezierSplit(e),_=c[0],b=c[1],c=this._bezierSplit(s),d=c[0],g=c[1],this._bezierListConcat(it,this._bezierMeetSubdivision(_,d,a+1),0,0),this._bezierListConcat(it,this._bezierMeetSubdivision(_,g,a+1),0,.5),this._bezierListConcat(it,this._bezierMeetSubdivision(b,d,a+1),.5,0),this._bezierListConcat(it,this._bezierMeetSubdivision(b,g,a+1),.5,.5),it):(et=[1].concat(e[0]),tt=[1].concat(e[3]),j=[1].concat(s[0]),_e=[1].concat(s[3]),$=this.meetSegmentSegment(et,tt,j,_e),$[1]>=0&&$[2]>=0&&$[1]<=1&&$[2]<=1?[$]:[]):[]},_bezierLineMeetSubdivision:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e,et,tt=[],it=5;return h=this._bezierBbox(s),c=this._bezierBbox(e),o&&!this._bezierOverlap(c,h)?[]:a<it?(d=this._bezierSplit(e),g=d[0],_=d[1],this._bezierListConcat(tt,this._bezierLineMeetSubdivision(g,s,a+1),0),this._bezierListConcat(tt,this._bezierLineMeetSubdivision(_,s,a+1),.5),tt):(_e=[1].concat(e[0]),et=[1].concat(e[3]),$=[1].concat(s[0]),j=[1].concat(s[1]),b=this.meetSegmentSegment(_e,et,$,j),b[1]>=0&&b[1]<=1&&(!o||b[2]>=0&&b[2]<=1)?[b]:[])},meetBeziersegmentBeziersegment:function(e,s,a){var o,h,c;for(e.length===4&&s.length===4?o=this._bezierMeetSubdivision(e,s,0):o=this._bezierLineMeetSubdivision(e,s,0,a),o.sort(function(d,g){return(d[1]-g[1])*1e7+(d[2]-g[2])}),h=[],c=0;c<o.length;c++)(c===0||o[c][1]!==o[c-1][1]||o[c][2]!==o[c-1][2])&&h.push(o[c]);return h},meetBezierCurveRedBlueSegments:function(e,s,a){var o,h,c,d,g=JXG$1.evaluate(a),_,b,$,j,_e,et,tt,it=0,at=0,nt,st,rt=[];if(s.numberPoints<s.bezierDegree+1||e.numberPoints<e.bezierDegree+1)return[0,NaN,NaN];for(e.bezierDegree===1&&s.bezierDegree===3&&(b=e,e=s,s=b),nt=s.numberPoints-s.bezierDegree,st=e.numberPoints-e.bezierDegree,e.type===Const.OBJECT_TYPE_SECTOR&&(it=3,st-=3),s.type===Const.OBJECT_TYPE_SECTOR&&(at=3,nt-=3),h=it;h<st;h+=e.bezierDegree)for(o=e.points,$=[o[h].usrCoords.slice(1),o[h+1].usrCoords.slice(1)],e.bezierDegree===3&&($[2]=o[h+2].usrCoords.slice(1),$[3]=o[h+3].usrCoords.slice(1)),_e=this._bezierBbox($),c=at;c<nt;c+=s.bezierDegree)if(o=s.points,j=[o[c].usrCoords.slice(1),o[c+1].usrCoords.slice(1)],s.bezierDegree===3&&(j[2]=o[c+2].usrCoords.slice(1),j[3]=o[c+3].usrCoords.slice(1)),et=this._bezierBbox(j),this._bezierOverlap(_e,et)){if(tt=this.meetBeziersegmentBeziersegment($,j),tt.length===0)continue;for(d=0;d<tt.length;d++)_=tt[d],!(_[1]<-Mat.eps||_[1]>1+Mat.eps||_[2]<-Mat.eps||_[2]>1+Mat.eps)&&rt.push(_);if(rt.length>g)return rt[g][0]}return rt.length>g?rt[g][0]:[0,NaN,NaN]},bezierSegmentEval:function(e,s){var a,o,h,c=1-e;return o=0,h=0,a=c*c*c,o+=a*s[0][0],h+=a*s[0][1],a=3*e*c*c,o+=a*s[1][0],h+=a*s[1][1],a=3*e*e*c,o+=a*s[2][0],h+=a*s[2][1],a=e*e*e,o+=a*s[3][0],h+=a*s[3][1],[1,o,h]},bezierArc:function(e,s,a,o,h){var c,d,g,_,b,$,j,_e,et=s[1],tt=s[2],it=s[0],at=[],nt=[],st,rt,lt,ot,ht,ct,ut,dt,ft,gt;for(b=this.distance(s,e),et/=it,tt/=it,$=this.rad(e.slice(1),s.slice(1),a.slice(1)),h===-1&&($=2*Math.PI-$),_e=$/4,c=e,c[1]/=c[0],c[2]/=c[0],c[0]/=c[0],_=c.slice(0),o?(at=[et,et+.333*(c[1]-et),et+.666*(c[1]-et),c[1]],nt=[tt,tt+.333*(c[2]-tt),tt+.666*(c[2]-tt),c[2]]):(at=[c[1]],nt=[c[2]]);$>Mat.eps;)$>_e?(j=_e,$-=_e):(j=$,$=0),st=Math.cos(h*j),rt=Math.sin(h*j),gt=[[1,0,0],[et*(1-st)+tt*rt,st,-rt],[tt*(1-st)-et*rt,rt,st]],dt=Mat.matVecMult(gt,c),_=[dt[0]/dt[0],dt[1]/dt[0],dt[2]/dt[0]],lt=c[1]-et,ot=c[2]-tt,ht=_[1]-et,ct=_[2]-tt,ft=Mat.hypot(lt+ht,ot+ct),Math.abs(ct-ot)>Mat.eps?ut=(lt+ht)*(b/ft-.5)/(ct-ot)*8/3:ut=(ot+ct)*(b/ft-.5)/(lt-ht)*8/3,d=[1,c[1]-ut*ot,c[2]+ut*lt],g=[1,_[1]+ut*ct,_[2]-ut*ht],JXG$1.concat(at,[d[1],g[1],_[1]]),JXG$1.concat(nt,[d[2],g[2],_[2]]),c=_.slice(0);return o&&(JXG$1.concat(at,[_[1]+.333*(et-_[1]),_[1]+.666*(et-_[1]),et]),JXG$1.concat(nt,[_[2]+.333*(tt-_[2]),_[2]+.666*(tt-_[2]),tt])),[at,nt]},projectPointToCircle:function(e,s,a){var o,h,c,d,g,_=s.center.coords.usrCoords;return JXG$1.exists(a)||(a=e.board),JXG$1.isPoint(e)?(o=e.coords.distance(Const.COORDS_BY_USER,s.center.coords),h=e.coords.usrCoords):(o=e.distance(Const.COORDS_BY_USER,s.center.coords),h=e.usrCoords),Math.abs(o)<Mat.eps&&(o=Mat.eps),g=s.Radius()/o,c=_[1]+g*(h[1]-_[1]),d=_[2]+g*(h[2]-_[2]),new Coords(Const.COORDS_BY_USER,[c,d],a)},projectPointToLine:function(e,s,a){var o=[0,s.stdform[1],s.stdform[2]],h;return JXG$1.exists(a)||(JXG$1.exists(e.coords)?a=e.board:a=s.board),JXG$1.exists(e.coords)?h=e.coords.usrCoords:h=e.usrCoords,o=Mat.crossProduct(o,h),new Coords(Const.COORDS_BY_USER,Mat.crossProduct(o,s.stdform),a)},projectCoordsToSegment:function(e,s,a){var o,h,c=[a[1]-s[1],a[2]-s[2]],d=[e[1]-s[1],e[2]-s[2]];return Math.abs(c[0])<Mat.eps&&Math.abs(c[1])<Mat.eps?[s,0]:(o=Mat.innerProduct(d,c),h=Mat.innerProduct(c,c),o/=h,[[1,o*c[0]+s[1],o*c[1]+s[2]],o])},projectCoordsToBeziersegment:function(e,s,a){var o,h=function(c){var d=[1,s.X(a+c),s.Y(a+c)];return d[1]-=e[1],d[2]-=e[2],d[1]*d[1]+d[2]*d[2]};return o=JXG$1.Math.Numerics.fminbr(h,[0,1]),[[1,s.X(o+a),s.Y(o+a)],o]},projectPointToCurve:function(e,s,a){JXG$1.exists(a)||(a=e.board);var o=e.X(),h=e.Y(),c=e.position,d;return JXG$1.exists(c)||(c=JXG$1.evaluate(s.visProp.curvetype)==="functiongraph"?o:0),d=this.projectCoordsToCurve(o,h,c,s,a),d},projectCoordsToCurve:function(e,s,a,o,h){var c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt,Pt=Number.POSITIVE_INFINITY;if(JXG$1.exists(h)||(h=o.board),JXG$1.evaluate(o.visProp.curvetype)==="plot"){if(a=0,b=Pt,o.numberPoints===0?c=[0,1,1]:c=[o.Z(0),o.X(0),o.Y(0)],o.numberPoints>1)for(_e=[1,e,s],o.bezierDegree===3?_=0:it=[o.Z(0),o.X(0),o.Y(0)],g=0;g<o.numberPoints-1;g++)o.bezierDegree===3?nt=this.projectCoordsToBeziersegment(_e,o,_):(at=[o.Z(g+1),o.X(g+1),o.Y(g+1)],nt=this.projectCoordsToSegment(_e,it,at)),j=nt[1],et=nt[0],0<=j&&j<=1?($=this.distance(et,_e),tt=g+j):j<0?(et=it,$=this.distance(it,_e),tt=g):j>1&&g===o.numberPoints-2&&(et=at,$=this.distance(et,_e),tt=o.numberPoints-1),$<b&&(b=$,a=tt,c=et),o.bezierDegree===3?(_++,g+=2):it=at;d=new Coords(Const.COORDS_BY_USER,c,h)}else{for(vt=o.minX(),Jt=o.maxX(),gt=vt,mt=Jt,JXG$1.evaluate(o.visProp.curvetype)==="functiongraph"&&(ht=Math.abs(s-o.Y(e)),isNaN(ht)||(gt=e-ht,mt=e+ht)),st=function($t){var Et,Gt;return $t<vt||$t>o.maxX_glob?1/0:(Et=e-o.X($t),Gt=s-o.Y($t),Et*Et+Gt*Gt)},ot=st(a),ft=50,ct=(mt-gt)/ft,rt=gt,g=0;g<ft;g++)lt=st(rt),(lt<ot||ot===1/0||isNaN(ot))&&(a=rt,ot=lt),rt+=ct;for(ut=ct,g=0;g<20&&isNaN(st(a-ut));g++,ut*=.5);for(isNaN(st(a-ut))&&(ut=0),dt=ct,g=0;g<20&&isNaN(st(a+dt));g++,dt*=.5);isNaN(st(a+dt))&&(dt=0),a=Numerics.fminbr(st,[Math.max(a-ut,gt),Math.min(a+dt,mt)]),a=a<vt?vt:a,a=a>Jt?Jt:a,d=new Coords(Const.COORDS_BY_USER,[o.X(a),o.Y(a)],h)}return[o.updateTransform(d),a]},projectCoordsToPolygon:function(e,s){var a,o=s.vertices.length,h=1/0,c,d,g,_;for(a=0;a<o-1;a++)d=JXG$1.Math.Geometry.projectCoordsToSegment(e,s.vertices[a].coords.usrCoords,s.vertices[a+1].coords.usrCoords),0<=d[1]&&d[1]<=1?(c=JXG$1.Math.Geometry.distance(d[0],e,3),g=d[0]):d[1]<0?(c=JXG$1.Math.Geometry.distance(s.vertices[a].coords.usrCoords,e,3),g=s.vertices[a].coords.usrCoords):(c=JXG$1.Math.Geometry.distance(s.vertices[a+1].coords.usrCoords,e,3),g=s.vertices[a+1].coords.usrCoords),c<h&&(_=g.slice(0),h=c);return _},projectPointToTurtle:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et=0,tt=0,it=Number.POSITIVE_INFINITY,at=s.objects.length;for(JXG$1.exists(a)||(a=e.board),g=0;g<at;g++)b=s.objects[g],b.elementClass===Const.OBJECT_CLASS_CURVE&&(j=this.projectPointToCurve(e,b),o=j[0],_e=j[1],_=this.distance(o.usrCoords,e.coords.usrCoords),_<it&&(c=o.usrCoords[1],d=o.usrCoords[2],h=_e,it=_,$=b,tt=et),et+=b.numberPoints);return o=new Coords(Const.COORDS_BY_USER,[c,d],a),[$.updateTransform(o),h+tt]},projectPointToPoint:function(e,s){return s.coords},projectPointToBoard:function(e,s){var a,o,h,c=s||e.board,d=[[1,1,0,0,3,0,1],[-1,2,1,0,1,2,1],[-1,1,2,2,1,2,3],[1,2,3,0,3,2,3]],g=e.coords||e,_=c.getBoundingBox();for(a=0;a<4;a++)h=d[a],h[0]*g.usrCoords[h[1]]<h[0]*_[h[2]]&&(o=Mat.crossProduct([1,_[h[3]],_[h[4]]],[1,_[h[5]],_[h[6]]]),o[3]=0,o=Mat.normalize(o),g=this.projectPointToLine({coords:g},{stdform:o},c));return g},projectCoordsToParametric:function(e,s,a){var o,h,c=0,d=200,g=a.length,_;return g===1?o=.1*(s.range[1]-s.range[0]):g===2&&(o=.1*Math.min(s.range_u[1]-s.range_u[0],s.range_v[1]-s.range_v[0])),h=o/5e6,_=function(b,$,j,_e){var et=e[0]-s.X.apply(null,j),tt=e[1]-s.Y.apply(null,j),it=e[2]-s.Z.apply(null,j);return b===1?(_e[0]=j[0]-s.range[0],_e[1]=-j[0]+s.range[1]):b===2&&(_e[0]=j[0]-s.range_u[0],_e[1]=-j[0]+s.range_u[1],_e[2]=j[1]-s.range_v[0],_e[3]=-j[1]+s.range_v[1]),et*et+tt*tt+it*it},Mat.Nlp.FindMinimum(_,g,2*g,a,o,h,c,d),[1,s.X.apply(null,a),s.Y.apply(null,a),s.Z.apply(null,a)]},projectScreenCoordsToParametric:function(e,s,a){var o,h,c=0,d=200,g=a.length,_;return g===1?o=.1*(s.range[1]-s.range[0]):g===2&&(o=.1*Math.min(s.range_u[1]-s.range_u[0],s.range_v[1]-s.range_v[0])),h=o/5e6,_=function(b,$,j,_e){var et=[1,s.X.apply(null,j),s.Y.apply(null,j),s.Z.apply(null,j)],tt=s.view.project3DTo2D(et),it=e[0]-tt[1],at=e[1]-tt[2];return b===1?(_e[0]=j[0]-s.range[0],_e[1]=-j[0]+s.range[1]):b===2&&(_e[0]=j[0]-s.range_u[0],_e[1]=-j[0]+s.range_u[1],_e[2]=j[1]-s.range_v[0],_e[3]=-j[1]+s.range_v[1]),it*it+at*at},Mat.Nlp.FindMinimum(_,g,2*g,a,o,h,c,d),[1,s.X.apply(null,a),s.Y.apply(null,a),s.Z.apply(null,a)]},distPointLine:function(e,s){var a=s[1],o=s[2],h=s[0],c;return Math.abs(a)+Math.abs(o)<Mat.eps?Number.POSITIVE_INFINITY:(c=a*e[1]+o*e[2]+h,a*=a,o*=o,Math.abs(c)/Math.sqrt(a+o))},distPointSegment:function(e,s,a){var o,h,c,d,g,_,b=Mat.eps*Mat.eps,$=1e6;return o=e[1]-s[1],h=e[2]-s[2],o=o===1/0?$:o===-1/0?-$:o,h=h===1/0?$:h===-1/0?-$:h,c=a[1]-s[1],d=a[2]-s[2],c=c===1/0?$:c===-1/0?-$:c,d=d===1/0?$:d===-1/0?-$:d,g=c*c+d*d,g>b&&(_=(o*c+h*d)/g,_<0?_=0:_>1&&(_=1),o-=_*c,h-=_*d),Mat.hypot(o,h)},reuleauxPolygon:function(e,s){var a,o=Math.PI*2,h=o/s,c=(s-1)/2,d=0,g=function(_,b){return function($,j){var _e=($%o+o)%o,et=Math.floor(_e/h)%s;return j||(d=e[0].Dist(e[c]),a=Mat.Geometry.rad([e[0].X()+1,e[0].Y()],e[0],e[c%s])),isNaN(et)?et:(_e=_e*.5+et*h*.5+a,e[et][_]()+d*Math[b](_e))}};return[g("X","cos"),g("Y","sin"),0,o]},meet3Planes:function(e,s,a,o,h,c){var d=[0,0,0],g,_,b,$,j;for(g=Mat.crossProduct(h,e),_=Mat.crossProduct(e,a),b=Mat.crossProduct(a,h),$=Mat.innerProduct(e,b,3),j=0;j<3;j++)d[j]=(s*b[j]+o*g[j]+c*_[j])/$;return d},meetPlanePlane:function(e,s,a,o){var h,c,d,g=[0,0,0],_=[0,0,0];for(h=0;h<3;h++)g[h]=JXG$1.evaluate(e[h]),_[h]=JXG$1.evaluate(s[h]);for(c=Mat.crossProduct(g,_),h=0;h<3;h++)g[h]=JXG$1.evaluate(a[h]),_[h]=JXG$1.evaluate(o[h]);return d=Mat.crossProduct(g,_),Mat.crossProduct(c,d)},project3DTo3DPlane:function(e,s,a){var o=[0,0,0],h,c,d,g;return a=a||[0,0,0],h=Mat.norm(s),c=Mat.innerProduct(e,s,3),d=Mat.innerProduct(a,s,3),g=(c-d)/h,o=Mat.axpy(-g,s,e),o},getPlaneBounds:function(e,s,a,o,h){var c,d,g,_,b,$,j;return e[2]+s[0]!==0?(b=[[e[0],s[0]],[e[1],s[1]]],$=[o-a[0],o-a[1]],j=Numerics.Gauss(b,$),c=j[0],d=j[1],$=[h-a[0],h-a[1]],j=Numerics.Gauss(b,$),g=j[0],_=j[1],[c,g,d,_]):null}});const Geometry=Mat.Geometry;Mat.Quadtree=function(e,s,a){s=s||{capacity:10,pointType:"coords"},this.config={},this.config.capacity=s.capacity||10,this.config.pointType=s.pointType||"coords",this.points=[],this.xlb=e[0],this.xub=e[2],this.ylb=e[3],this.yub=e[1],this.parent=a||null,this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null};JXG$1.extend(Mat.Quadtree.prototype,{contains:function(e,s){return this.xlb<e&&e<=this.xub&&this.ylb<s&&s<=this.yub},insert:function(e){switch(this.config.pointType){case"coords":if(!this.contains(e.usrCoords[1],e.usrCoords[2]))return!1;break;case"object":if(!this.contains(e.x,e.y))return!1;break}return this.points.length<this.config.capacity&&this.northWest===null?(this.points.push(e),!0):(this.northWest===null&&this.subdivide(),this.northWest.insert(e)||this.northEast.insert(e)||this.southEast.insert(e)?!0:!!this.southWest.insert(e))},subdivide:function(){var e=this.xlb+(this.xub-this.xlb)*.5,s=this.ylb+(this.yub-this.ylb)*.5;this.northWest=new Mat.Quadtree([this.xlb,this.yub,e,s],this.config,this),this.northEast=new Mat.Quadtree([e,this.yub,this.xub,s],this.config,this),this.southEast=new Mat.Quadtree([this.xlb,s,e,this.ylb],this.config,this),this.southWest=new Mat.Quadtree([e,s,this.xub,this.ylb],this.config,this)},_query:function(e,s){var a;if(this.contains(e,s)){if(this.northWest===null)return this;if(a=this.northWest._query(e,s),a||(a=this.northEast._query(e,s),a)||(a=this.southEast._query(e,s),a)||(a=this.southWest._query(e,s),a))return a}return!1},query:function(e,s){var a,o;return JXG$1.exists(s)?(a=e,o=s):(a=e.usrCoords[1],o=e.usrCoords[2]),this._query(a,o)},hasPoint:function(e,s,a){var o,h,c;if(this.contains(e,s)){switch(c=this.points.length,this.config.pointType){case"coords":for(h=0;h<c;h++)if(Geometry.distance([e,s],this.points[h].usrCoords.slice(1),2)<a)return!0;break;case"object":for(h=0;h<c;h++)if(Geometry.distance([e,s],[this.points[h].x,this.points[h].y],2)<a)return!0;break}if(this.northWest===null)return!1;if(o=this.northWest.hasPoint(e,s,a),o||(o=this.northEast.hasPoint(e,s,a),o)||(o=this.southEast.hasPoint(e,s,a),o)||(o=this.southWest.hasPoint(e,s,a),o))return o}return!1},getAllPoints:function(){var e=[];return this.getAllPointsRecursive(e),e},getAllPointsRecursive(e){Array.prototype.push.apply(e,this.points.slice()),this.northWest!==null&&(this.northWest.getAllPointsRecursive(e),this.northEast.getAllPointsRecursive(e),this.southEast.getAllPointsRecursive(e),this.southWest.getAllPointsRecursive(e))}});const QDT=Mat.Quadtree;Mat.BoxQuadtree=function(e,s,a){var o,h,c,d;e--,this.depth=e,this.capacity=s,this.items=[],this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null,this.bbox=null,this.cx=null,this.cy=null,a&&(o=a[0],h=a[1],c=a[2],d=a[3],this.cx=(o+c)*.5,this.cy=(h+d)*.5,this.bbox=[o,h,c,d])};JXG$1.extend(Mat.BoxQuadtree.prototype,{insert:function(e){var s,a,o,h,c,d,g,_=[],b=[],$=[],j=[],_e,et,tt,it;if(this.bbox===null){for(a=e.length,o=d=1/0,c=h=-1/0,s=0;s<e.length;s++)g=e[s],o=g.xlb<o?g.xlb:o,h=g.yub>h?g.yub:h,c=g.xub>c?g.xub:c,d=g.ylb<d?g.ylb:d;this.cx=(o+c)*.5,this.cy=(h+d)*.5,this.bbox=[o,h,c,d]}else o=this.bbox[0],h=this.bbox[1],c=this.bbox[2],d=this.bbox[3];if(this.depth===0||this.items.length+e.length<this.capacity)return this.items=this.items.concat(e),this;for(a=e.length,s=0;s<a;s++)g=e[s],_e=g.xlb<=this.cx&&g.yub>this.cy,tt=g.xlb<=this.cx&&g.ylb<=this.cy,et=g.xub>this.cx&&g.yub>this.cy,it=g.xub>this.cx&&g.ylb<=this.cy,_e&&et&&it&&tt?this.items.push(g):(_e&&_.push(g),tt&&$.push(g),et&&b.push(g),it&&j.push(g));return this.subdivide(_,$,b,j,o,h,c,d),this},insertItem:function(e){var s,a,o,h,c=[],d=[],g=[],_=[],b,$,j,_e;return this.bbox===null?(s=h=1/0,o=a=-1/0,s=e.xlb<s?e.xlb:s,a=e.yub>a?e.yub:a,o=e.xub>o?e.xub:o,h=e.ylb<h?e.ylb:h,this.cx=(s+o)*.5,this.cy=(a+h)*.5,this.bbox=[s,a,o,h]):(s=this.bbox[0],a=this.bbox[1],o=this.bbox[2],h=this.bbox[3]),this.depth===0||this.items.length+1<this.capacity?(this.items.push(e),this):(b=e.xlb<=this.cx&&e.yub>this.cy,j=e.xlb<=this.cx&&e.ylb<=this.cy,$=e.xub>this.cx&&e.yub>this.cy,_e=e.xub>this.cx&&e.ylb<=this.cy,b&&$&&_e&&j?this.items.push(e):(b&&c.push(e),j&&g.push(e),$&&d.push(e),_e&&_.push(e)),this.subdivide(c,g,d,_,s,a,o,h),this)},subdivide:function(e,s,a,o,h,c,d,g){return e.length>0&&(this.northWest===null&&(this.northWest=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[h,c,this.cx,this.cy])),this.northWest.insert(e)),s.length>0&&(this.southWest===null&&(this.southWest=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[h,this.cy,this.cx,g])),this.southWest.insert(s)),a.length>0&&(this.northEast===null&&(this.northEast=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[this.cx,c,d,this.cy])),this.northEast.insert(a)),o.length>0&&(this.southEast===null&&(this.southEast=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[this.cx,this.cy,d,g])),this.southEast.insert(o)),this},find:function(e){var s=function(c){return e[2]>=c.xlb&&e[0]<=c.xub&&e[3]<=c.yub&&e[1]>=c.ylb},a=[],o,h;for(h=this.items.length,o=0;o<h;o++)s(this.items[o])&&a.push(this.items[o]);return this.northWest!==null&&e[0]<=this.cx&e[1]>=this.cy&&JXG$1.concat(a,this.northWest.find(e)),this.southWest!==null&&e[0]<=this.cx&e[3]<=this.cy&&JXG$1.concat(a,this.southWest.find(e)),this.northEast!==null&&e[2]>=this.cx&e[1]>=this.cy&&JXG$1.concat(a,this.northEast.find(e)),this.southEast!==null&&e[2]>=this.cx&e[3]<=this.cy&&JXG$1.concat(a,this.southEast.find(e)),a},analyzeTree:function(){var e={number_items:this.items.length,depth:1},s;return this.northWest!==null&&(s=this.northWest.analyzeTree(),e.number_items+=s.number_items,e.depth=Math.max(e.depth,1+s.depth)),this.southWest!==null&&(s=this.southWest.analyzeTree(),e.number_items+=s.number_items,e.depth=Math.max(e.depth,1+s.depth)),this.northEast!==null&&(s=this.northEast.analyzeTree(),e.number_items+=s.number_items,e.depth=Math.max(e.depth,1+s.depth)),this.southEast!==null&&(s=this.southEast.analyzeTree(),e.number_items+=s.number_items,e.depth=Math.max(e.depth,1+s.depth)),e},plot:function(){var e=[],s=[],a;return e.push(this.bbox[0]),s.push(this.bbox[3]),e.push(this.bbox[2]),s.push(this.bbox[3]),e.push(this.bbox[2]),s.push(this.bbox[1]),e.push(this.bbox[0]),s.push(this.bbox[1]),e.push(this.bbox[0]),s.push(this.bbox[3]),e.push(NaN),s.push(NaN),this.northWest!==null&&(a=this.northWest.plot(),JXG$1.concat(e,a[0]),JXG$1.concat(s,a[1])),this.northEast!==null&&(a=this.northEast.plot(),JXG$1.concat(e,a[0]),JXG$1.concat(s,a[1])),this.southEast!==null&&(a=this.southEast.plot(),JXG$1.concat(e,a[0]),JXG$1.concat(s,a[1])),this.southWest!==null&&(a=this.southWest.plot(),JXG$1.concat(e,a[0]),JXG$1.concat(s,a[1])),[e,s]}});const Quadtree=Mat.BoxQuadtree;JXG$1.Math.Nlp={arr:function(e){return new Float64Array(e)},arr2:function(e,s){for(var a=0,o=new Array(e);a<e;)o[a]=this.arr(s),a++;return o},arraycopy:function(e,s,a,o,h){for(var c=0;c<h;)a[c+o]=e[c+s],c++},lastNumberOfEvaluations:0,GetLastNumberOfEvaluations:function(){return this.lastNumberOfEvaluations},Normal:0,MaxIterationsReached:1,DivergingRoundingErrors:2,FindMinimum:function(e,s,a,o,h,c,d,g,_){var b=a+2,$,j=this.arr(s+1),_e=this,et;return this.lastNumberOfEvaluations=0,_&&console.log("Experimental feature 'testForRoundingErrors' is activated."),j[0]=0,this.arraycopy(o,0,j,1,s),et=function(tt,it,at,nt){var st=_e.arr(tt),rt,lt;return _e.lastNumberOfEvaluations=_e.lastNumberOfEvaluations+1,_e.arraycopy(at,1,st,0,tt),rt=_e.arr(it),lt=e(tt,it,st,rt),_e.arraycopy(rt,0,nt,1,it),lt},$=this.cobylb(et,s,a,b,j,h,c,d,g,_),this.arraycopy(j,1,o,0,s),$},cobylb:function(e,s,a,o,h,c,d,g,_,b){var $=-1,j=.25,_e=2.1,et=.5,tt=1.1,it=0,at=0,nt,st=s+1,rt=a+1,lt=c,ot=0,ht=!1,ct=!1,ut=0,dt=0,ft=0,gt=this.arr(1+o),mt=this.arr2(1+s,1+st),vt=this.arr2(1+s,1+s),Jt=this.arr2(1+o,1+st),Pt=this.arr2(1+s,1+rt),$t=this.arr(1+s),Et=this.arr(1+s),Gt=this.arr(1+s),_t=this.arr(1+s),bt=this.arr(1+s),yt,Ct,pt,Mt,xt,It,Nt,St,Bt,Ft,jt,Yt,Wt,Ht,Vt,Qt,_i,Zt,ls,ns,hs,us,fs,ps,ss,kt,Tt,is,es,Ut,Ot=!0;for(g>=2&&console.log("The initial value of RHO is "+lt+" and PARMU is set to zero."),Nt=0,xt=1/lt,yt=1;yt<=s;++yt)mt[yt][st]=h[yt],mt[yt][yt]=lt,vt[yt][yt]=xt;St=st,Bt=!1;e:do{if(Nt>=_&&Nt>0){$=this.MaxIterationsReached;break e}for(++Nt,it=e(s,a,h,gt),at=0,pt=1;pt<=a;++pt)at=Math.max(at,-gt[pt]);if((Nt===g-1||g===3)&&this.PrintIterationResult(Nt,it,at,h,s,g),gt[rt]=it,gt[o]=at,Ft=!0,!Bt){for(Ft=!1,yt=1;yt<=o;++yt)Jt[yt][St]=gt[yt];if(Nt<=st){if(St<=s)if(Jt[rt][st]<=it)h[St]=mt[St][st];else{for(mt[St][st]=h[St],pt=1;pt<=o;++pt)Jt[pt][St]=Jt[pt][st],Jt[pt][st]=gt[pt];for(pt=1;pt<=St;++pt){for(mt[St][pt]=-lt,xt=0,yt=pt;yt<=St;++yt)xt-=vt[yt][pt];vt[St][pt]=xt}}if(Nt<=s){St=Nt,h[St]+=lt;continue e}}Bt=!0}t:do{i:do{if(!Ft){for(jt=Jt[rt][st]+ot*Jt[o][st],Yt=st,Ct=1;Ct<=s;++Ct)xt=Jt[rt][Ct]+ot*Jt[o][Ct],xt<jt?(Yt=Ct,jt=xt):xt===jt&&ot===0&&Jt[o][Ct]<Jt[o][Yt]&&(Yt=Ct);if(Yt<=s){for(yt=1;yt<=o;++yt)xt=Jt[yt][st],Jt[yt][st]=Jt[yt][Yt],Jt[yt][Yt]=xt;for(yt=1;yt<=s;++yt){for(xt=mt[yt][Yt],mt[yt][Yt]=0,mt[yt][st]+=xt,It=0,pt=1;pt<=s;++pt)mt[yt][pt]-=xt,It-=vt[pt][yt];vt[Yt][yt]=It}}if(Wt=0,b)for(yt=1;yt<=s;++yt)for(Ct=1;Ct<=s;++Ct)xt=this.DOT_PRODUCT_ROW_COL(vt,yt,mt,Ct,1,s)-(yt===Ct?1:0),Wt=Math.max(Wt,Math.abs(xt));if(Wt>.1){$=this.DivergingRoundingErrors;break e}for(pt=1;pt<=rt;++pt){for(gt[pt]=-Jt[pt][st],Ct=1;Ct<=s;++Ct)bt[Ct]=Jt[pt][Ct]+gt[pt];for(yt=1;yt<=s;++yt)Pt[yt][pt]=(pt===rt?-1:1)*this.DOT_PRODUCT_ROW_COL(bt,-1,vt,yt,1,s)}for(ht=!0,ut=j*lt,Ht=_e*lt,Ct=1;Ct<=s;++Ct){for(Vt=0,Qt=0,pt=1;pt<=s;++pt)Vt+=vt[Ct][pt]*vt[Ct][pt],Qt+=mt[pt][Ct]*mt[pt][Ct];$t[Ct]=1/Math.sqrt(Vt),Et[Ct]=Math.sqrt(Qt),($t[Ct]<ut||Et[Ct]>Ht)&&(ht=!1)}if(!Bt&&!ht){for(St=0,xt=Ht,Ct=1;Ct<=s;++Ct)Et[Ct]>xt&&(St=Ct,xt=Et[Ct]);if(St===0)for(Ct=1;Ct<=s;++Ct)$t[Ct]<xt&&(St=Ct,xt=$t[Ct]);for(xt=et*lt*$t[St],pt=1;pt<=s;++pt)_t[pt]=xt*vt[St][pt];for(_i=0,Zt=0,nt=0,pt=1;pt<=rt;++pt)nt=this.DOT_PRODUCT_ROW_COL(_t,-1,Pt,pt,1,s),pt<rt&&(xt=Jt[pt][st],_i=Math.max(_i,-nt-xt),Zt=Math.max(Zt,nt-xt));for(ls=ot*(_i-Zt)>2*nt?-1:1,xt=0,yt=1;yt<=s;++yt)_t[yt]=ls*_t[yt],mt[yt][St]=_t[yt],xt+=vt[St][yt]*_t[yt];for(pt=1;pt<=s;++pt)vt[St][pt]/=xt;for(Ct=1;Ct<=s;++Ct){if(Ct!==St)for(xt=this.DOT_PRODUCT_ROW_COL(vt,Ct,_t,-1,1,s),pt=1;pt<=s;++pt)vt[Ct][pt]-=xt*vt[St][pt];h[Ct]=mt[Ct][st]+_t[Ct]}continue e}if(ct=this.trstlp(s,a,Pt,gt,lt,_t),!ct){for(xt=0,pt=1;pt<=s;++pt)xt+=_t[pt]*_t[pt];if(xt<.25*lt*lt){Bt=!0;break i}}for(nt=0,ns=0,gt[rt]=0,pt=1;pt<=rt;++pt)nt=gt[pt]-this.DOT_PRODUCT_ROW_COL(_t,-1,Pt,pt,1,s),pt<rt&&(ns=Math.max(ns,nt));if(dt=Jt[o][st]-ns,hs=dt>0?nt/dt:0,ot<1.5*hs){for(ot=2*hs,g>=2&&console.log("Increase in PARMU to "+ot),us=Jt[rt][st]+ot*Jt[o][st],Ct=1;Ct<=s;++Ct)if(xt=Jt[rt][Ct]+ot*Jt[o][Ct],xt<us||xt===us&&ot===0&&Jt[o][Ct]<Jt[o][st])continue t}for(ft=ot*dt-nt,pt=1;pt<=s;++pt)h[pt]=mt[pt][st]+_t[pt];Bt=!0;continue e}for(Ft=!1,fs=Jt[rt][st]+ot*Jt[o][st],ps=it+ot*at,ss=fs-ps,ot===0&&it===Jt[rt][st]&&(ft=dt,ss=Jt[o][st]-at),kt=ss<=0?1:0,St=0,Ct=1;Ct<=s;++Ct)xt=Math.abs(this.DOT_PRODUCT_ROW_COL(vt,Ct,_t,-1,1,s)),xt>kt&&(St=Ct,kt=xt),Gt[Ct]=xt*$t[Ct];for(Tt=tt*lt,Mt=0,Ct=1;Ct<=s;++Ct)if(Gt[Ct]>=ut||Gt[Ct]>=$t[Ct]){if(xt=Et[Ct],ss>0){for(xt=0,pt=1;pt<=s;++pt)xt+=Math.pow(_t[pt]-mt[pt][Ct],2);xt=Math.sqrt(xt)}xt>Tt&&(Mt=Ct,Tt=xt)}if(Mt>0&&(St=Mt),St!==0){for(xt=0,yt=1;yt<=s;++yt)mt[yt][St]=_t[yt],xt+=vt[St][yt]*_t[yt];for(pt=1;pt<=s;++pt)vt[St][pt]/=xt;for(Ct=1;Ct<=s;++Ct)if(Ct!==St)for(xt=this.DOT_PRODUCT_ROW_COL(vt,Ct,_t,-1,1,s),pt=1;pt<=s;++pt)vt[Ct][pt]-=xt*vt[St][pt];for(pt=1;pt<=o;++pt)Jt[pt][St]=gt[pt];if(ss>0&&ss>=.1*ft)continue t}}while(!Ot);if(!ht){Bt=!1;continue t}if(lt<=d){$=this.Normal;break e}if(is=0,es=0,lt*=.5,lt<=1.5*d&&(lt=d),ot>0){for(Ut=0,pt=1;pt<=rt;++pt){for(is=Jt[pt][st],es=is,yt=1;yt<=s;++yt)is=Math.min(is,Jt[pt][yt]),es=Math.max(es,Jt[pt][yt]);pt<=a&&is<.5*es&&(xt=Math.max(es,0)-is,Ut=Ut<=0?xt:Math.min(Ut,xt))}Ut===0?ot=0:es-is<ot*Ut&&(ot=(es-is)/Ut)}g>=2&&console.log("Reduction in RHO to "+lt+"  and PARMU = "+ot),g===2&&this.PrintIterationResult(Nt,Jt[rt][st],Jt[o][st],this.COL(mt,st),s,g)}while(Ot)}while(Ot);switch($){case this.Normal:if(g>=1&&console.log("%nNormal return from subroutine COBYLA%n"),ct)return g>=1&&this.PrintIterationResult(Nt,it,at,h,s,g),$;break;case this.MaxIterationsReached:g>=1&&console.log("%nReturn from subroutine COBYLA because the MAXFUN limit has been reached.%n");break;case this.DivergingRoundingErrors:g>=1&&console.log("%nReturn from subroutine COBYLA because rounding errors are becoming damaging.%n");break}for(pt=1;pt<=s;++pt)h[pt]=mt[pt][st];return it=Jt[rt][st],at=Jt[o][st],g>=1&&this.PrintIterationResult(Nt,it,at,h,s,g),$},trstlp:function(e,s,a,o,h,c){var d=0,g=0,_=0,b=this.arr2(1+e,1+e),$=this.arr(2+s),j=this.arr(2+s),_e=this.arr(1+e),et=this.arr(1+e),tt=this.arr(2+s),it=this.arr(2+s),at=s,nt=0,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt,Pt,$t,Et,Gt,_t,bt,yt,Ct,pt,Mt,xt,It,Nt,St,Bt,Ft,jt,Yt,Wt,Ht,Vt,Qt=!0;for(lt=1;lt<=e;++lt)b[lt][lt]=1,c[lt]=0;if(st=0,rt=0,s>=1){for(ot=1;ot<=s;++ot)o[ot]>rt&&(rt=o[ot],st=ot);for(ot=1;ot<=s;++ot)it[ot]=ot,j[ot]=rt-o[ot]}ht=!0;do e:do{(!ht||ht&&rt===0)&&(at=s+1,st=at,it[at]=at,j[at]=0),ht=!1,ct=0,ut=0,dt=0,ft=0;t:do{if(gt=at===s?rt:-this.DOT_PRODUCT_ROW_COL(c,-1,a,at,1,e),ut===0||gt<ct?(ct=gt,g=nt,ut=3):nt>g?(g=nt,ut=3):--ut,ut===0)break e;if(mt=0,st<=nt){if(st<nt){vt=it[st],Jt=j[st],ot=st;do{for($t=ot+1,Et=it[$t],Gt=this.DOT_PRODUCT(this.PART(this.COL(b,ot),1,e),this.PART(this.COL(a,Et),1,e)),d=Mat.hypot(Gt,$[$t]),_t=$[$t]/d,bt=Gt/d,$[$t]=_t*$[ot],$[ot]=d,lt=1;lt<=e;++lt)d=_t*b[lt][$t]+bt*b[lt][ot],b[lt][$t]=_t*b[lt][ot]-bt*b[lt][$t],b[lt][ot]=d;it[ot]=Et,j[ot]=j[$t],ot=$t}while(ot<nt);it[ot]=vt,j[ot]=Jt}if(--nt,at>s)for(d=1/$[nt],ot=1;ot<=e;++ot)_e[ot]=d*b[ot][nt];else for(d=this.DOT_PRODUCT_ROW_COL(_e,-1,b,nt+1,1,e),ot=1;ot<=e;++ot)_e[ot]-=d*b[ot][nt+1]}else{for(Et=it[st],ot=1;ot<=e;++ot)et[ot]=a[ot][Et];for(yt=0,ot=e;ot>nt;){for(Gt=0,Ct=0,lt=1;lt<=e;++lt)d=b[lt][ot]*et[lt],Gt+=d,Ct+=Math.abs(d);if(pt=Ct+.1*Math.abs(Gt),Mt=Ct+.2*Math.abs(Gt),(Ct>=pt||pt>=Mt)&&(Gt=0),yt===0)yt=Gt;else for($t=ot+1,d=Mat.hypot(Gt,yt),_t=Gt/d,bt=yt/d,yt=d,lt=1;lt<=e;++lt)d=_t*b[lt][ot]+bt*b[lt][$t],b[lt][$t]=_t*b[lt][$t]-bt*b[lt][ot],b[lt][ot]=d;--ot}if(yt===0){mt=-1,ot=nt;do{for(xt=0,It=0,lt=1;lt<=e;++lt)d=b[lt][ot]*et[lt],xt+=d,It+=Math.abs(d);if(pt=It+.1*Math.abs(xt),Mt=It+.2*Math.abs(xt),It<pt&&pt<Mt){if(d=xt/$[ot],d>0&&it[ot]<=s&&(Vt=j[ot]/d,(mt<0||Vt<mt)&&(mt=Vt)),ot>=2)for(Nt=it[ot],lt=1;lt<=e;++lt)et[lt]-=d*a[lt][Nt];tt[ot]=d}else tt[ot]=0}while(--ot>0);if(mt<0)break e;for(ot=1;ot<=nt;++ot)j[ot]=Math.max(0,j[ot]-mt*tt[ot]);if(st<nt){vt=it[st],Jt=j[st],ot=st;do{for($t=ot+1,Nt=it[$t],Gt=this.DOT_PRODUCT(this.PART(this.COL(b,ot),1,e),this.PART(this.COL(a,Nt),1,e)),d=Mat.hypot(Gt,$[$t]),_t=$[$t]/d,bt=Gt/d,$[$t]=_t*$[ot],$[ot]=d,lt=1;lt<=e;++lt)d=_t*b[lt][$t]+bt*b[lt][ot],b[lt][$t]=_t*b[lt][ot]-bt*b[lt][$t],b[lt][ot]=d;it[ot]=Nt,j[ot]=j[$t],ot=$t}while(ot<nt);it[ot]=vt,j[ot]=Jt}if(d=this.DOT_PRODUCT(this.PART(this.COL(b,nt),1,e),this.PART(this.COL(a,Et),1,e)),d===0)break e;$[nt]=d,j[st]=0,j[nt]=mt}else++nt,$[nt]=yt,j[st]=j[nt],j[nt]=0;if(it[st]=it[nt],it[nt]=Et,at>s&&Et!==at){for(ot=nt-1,Gt=this.DOT_PRODUCT(this.PART(this.COL(b,ot),1,e),this.PART(this.COL(a,Et),1,e)),d=Mat.hypot(Gt,$[nt]),_t=$[nt]/d,bt=Gt/d,$[nt]=_t*$[ot],$[ot]=d,lt=1;lt<=e;++lt)d=_t*b[lt][nt]+bt*b[lt][ot],b[lt][nt]=_t*b[lt][ot]-bt*b[lt][nt],b[lt][ot]=d;it[nt]=it[ot],it[ot]=Et,d=j[ot],j[ot]=j[nt],j[nt]=d}if(at>s)for(d=1/$[nt],ot=1;ot<=e;++ot)_e[ot]=d*b[ot][nt];else for(Et=it[nt],d=(this.DOT_PRODUCT_ROW_COL(_e,-1,a,Et,1,e)-1)/$[nt],ot=1;ot<=e;++ot)_e[ot]-=d*b[ot][nt]}for(St=h*h,Ft=0,Bt=0,lt=1;lt<=e;++lt)Math.abs(c[lt])>=1e-6*h&&(St-=c[lt]*c[lt]),Ft+=c[lt]*_e[lt],Bt+=_e[lt]*_e[lt];if(St<=0)break e;if(d=Math.sqrt(Bt*St),Math.abs(Ft)>=1e-6*d&&(d=Math.sqrt(Bt*St+Ft*Ft)),ft=St/(d+Ft),dt=ft,at===s){if(pt=dt+.1*rt,Mt=dt+.2*rt,dt>=pt||pt>=Mt)break t;dt=Math.min(dt,rt)}for(ot=1;ot<=e;++ot)et[ot]=c[ot]+dt*_e[ot];if(at===s)for(_=rt,rt=0,ot=1;ot<=nt;++ot)Et=it[ot],d=o[Et]-this.DOT_PRODUCT_ROW_COL(et,-1,a,Et,1,e),rt=Math.max(rt,d);ot=nt;do{for(jt=0,Yt=0,lt=1;lt<=e;++lt)d=b[lt][ot]*et[lt],jt+=d,Yt+=Math.abs(d);if(pt=Yt+.1*Math.abs(jt),Mt=Yt+.2*Math.abs(jt),(Yt>=pt||pt>=Mt)&&(jt=0),tt[ot]=jt/$[ot],ot>=2)for(Et=it[ot],lt=1;lt<=e;++lt)et[lt]-=tt[ot]*a[lt][Et]}while(ot-->=2);for(at>s&&(tt[nt]=Math.max(0,tt[nt])),ot=1;ot<=e;++ot)et[ot]=c[ot]+dt*_e[ot];if(at>nt)for(Wt=nt+1,ot=Wt;ot<=at;++ot){for(Et=it[ot],Pt=rt-o[Et],Ht=rt+Math.abs(o[Et]),lt=1;lt<=e;++lt)d=a[lt][Et]*et[lt],Pt+=d,Ht+=Math.abs(d);pt=Ht+.1*Math.abs(Pt),Mt=Ht+.2*Math.abs(Pt),(Ht>=pt||pt>=Mt)&&(Pt=0),tt[ot]=Pt}for(mt=1,st=0,ot=1;ot<=at;++ot)tt[ot]<0&&(d=j[ot]/(j[ot]-tt[ot]),d<mt&&(mt=d,st=ot));for(d=1-mt,ot=1;ot<=e;++ot)c[ot]=d*c[ot]+mt*et[ot];for(ot=1;ot<=at;++ot)j[ot]=Math.max(0,d*j[ot]+mt*tt[ot]);at===s&&(rt=_+mt*(rt-_))}while(st>0);if(dt===ft)return!0}while(Qt);while(at===s);return!1},PrintIterationResult:function(e,s,a,o,h,c){c>1&&console.log("NFVALS = "+e+"  F = "+s+"  MAXCV = "+a),c>1&&console.log("X = "+this.PART(o,1,h))},ROW:function(e,s){return e[s].slice()},COL:function(e,s){var a,o=e.length,h=[];for(a=0;a<o;++a)h[a]=e[a][s];return h},PART:function(e,s,a){return e.slice(s,a+1)},FORMAT:function(e){return e.join(",")},DOT_PRODUCT:function(e,s){var a,o=0,h=e.length;for(a=0;a<h;++a)o+=e[a]*s[a];return o},DOT_PRODUCT_ROW_COL:function(e,s,a,o,h,c){var d,g=0;if(s===-1)for(d=h;d<=c;++d)g+=e[d]*a[d][o];else if(o===-1)for(d=h;d<=c;++d)g+=e[s][d]*a[d];else for(d=h;d<=c;++d)g+=e[s][d]*a[d][o];return g}};JXG$1.Math.Nlp;Mat.Statistics={sum:function(e){var s,a=e.length,o=0;for(s=0;s<a;s++)o+=e[s];return o},prod:function(e){var s,a=e.length,o=1;for(s=0;s<a;s++)o*=e[s];return o},mean:function(e){return e.length>0?this.sum(e)/e.length:0},median:function(e){var s,a;return e.length>0?(ArrayBuffer.isView(e)?(s=new Float64Array(e),s.sort()):(s=e.slice(0),s.sort(function(o,h){return o-h})),a=s.length,a&1?s[parseInt(a*.5,10)]:(s[a*.5-1]+s[a*.5])*.5):0},percentile:function(e,s){var a,o,h,c,d=[],g;if(e.length>0){for(ArrayBuffer.isView(e)?(a=new Float64Array(e),a.sort()):(a=e.slice(0),a.sort(function(_,b){return _-b})),o=a.length,JXG$1.isArray(s)?c=s:c=[s],h=0;h<c.length;h++)g=o*c[h]*.01,parseInt(g,10)===g?d.push((a[g-1]+a[g])*.5):d.push(a[parseInt(g,10)]);return JXG$1.isArray(s)?d:d[0]}return 0},variance:function(e){var s,a,o,h=e.length;if(h>1){for(s=this.mean(e),a=0,o=0;o<h;o++)a+=(e[o]-s)*(e[o]-s);return a/(e.length-1)}return 0},sd:function(e){return Math.sqrt(this.variance(e))},weightedMean:function(e,s){if(e.length!==s.length)throw new Error("JSXGraph error (Math.Statistics.weightedMean): Array dimension mismatch.");return e.length>0?this.mean(this.multiply(e,s)):0},max:function(e){return Math.max.apply(this,e)},min:function(e){return Math.min.apply(this,e)},range:function(e){return[this.min(e),this.max(e)]},abs:function(e){var s,a,o;if(JXG$1.isArray(e))if(e.map)o=e.map(Math.abs);else for(a=e.length,o=[],s=0;s<a;s++)o[s]=Math.abs(e[s]);else ArrayBuffer.isView(e)?o=e.map(Math.abs):o=Math.abs(e);return o},add:function(e,s){var a,o,h=[];if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),JXG$1.isArray(e)&&JXG$1.isNumber(s))for(o=e.length,a=0;a<o;a++)h[a]=e[a]+s;else if(JXG$1.isNumber(e)&&JXG$1.isArray(s))for(o=s.length,a=0;a<o;a++)h[a]=e+s[a];else if(JXG$1.isArray(e)&&JXG$1.isArray(s))for(o=Math.min(e.length,s.length),a=0;a<o;a++)h[a]=e[a]+s[a];else h=e+s;return h},div:function(e,s){var a,o,h=[];if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),JXG$1.isArray(e)&&JXG$1.isNumber(s))for(o=e.length,a=0;a<o;a++)h[a]=e[a]/s;else if(JXG$1.isNumber(e)&&JXG$1.isArray(s))for(o=s.length,a=0;a<o;a++)h[a]=e/s[a];else if(JXG$1.isArray(e)&&JXG$1.isArray(s))for(o=Math.min(e.length,s.length),a=0;a<o;a++)h[a]=e[a]/s[a];else h=e/s;return h},divide:function(){JXG$1.deprecated("Statistics.divide()","Statistics.div()"),Mat.Statistics.div.apply(Mat.Statistics,arguments)},mod:function(e,s,a){var o,h,c=[],d=function(g,_){return g%_};if(a=JXG$1.def(a,!1),a&&(d=Mat.mod),e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),JXG$1.isArray(e)&&JXG$1.isNumber(s))for(h=e.length,o=0;o<h;o++)c[o]=d(e[o],s);else if(JXG$1.isNumber(e)&&JXG$1.isArray(s))for(h=s.length,o=0;o<h;o++)c[o]=d(e,s[o]);else if(JXG$1.isArray(e)&&JXG$1.isArray(s))for(h=Math.min(e.length,s.length),o=0;o<h;o++)c[o]=d(e[o],s[o]);else c=d(e,s);return c},multiply:function(e,s){var a,o,h=[];if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),JXG$1.isArray(e)&&JXG$1.isNumber(s))for(o=e.length,a=0;a<o;a++)h[a]=e[a]*s;else if(JXG$1.isNumber(e)&&JXG$1.isArray(s))for(o=s.length,a=0;a<o;a++)h[a]=e*s[a];else if(JXG$1.isArray(e)&&JXG$1.isArray(s))for(o=Math.min(e.length,s.length),a=0;a<o;a++)h[a]=e[a]*s[a];else h=e*s;return h},subtract:function(e,s){var a,o,h=[];if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),JXG$1.isArray(e)&&JXG$1.isNumber(s))for(o=e.length,a=0;a<o;a++)h[a]=e[a]-s;else if(JXG$1.isNumber(e)&&JXG$1.isArray(s))for(o=s.length,a=0;a<o;a++)h[a]=e-s[a];else if(JXG$1.isArray(e)&&JXG$1.isArray(s))for(o=Math.min(e.length,s.length),a=0;a<o;a++)h[a]=e[a]-s[a];else h=e-s;return h},TheilSenRegression:function(e){var s,a,o=[],h=[],c=[];for(s=0;s<e.length;s++){for(h.length=0,a=0;a<e.length;a++)Math.abs(e[a].usrCoords[1]-e[s].usrCoords[1])>Mat.eps&&(h[a]=(e[a].usrCoords[2]-e[s].usrCoords[2])/(e[a].usrCoords[1]-e[s].usrCoords[1]));o[s]=this.median(h),c.push(e[s].usrCoords[2]-o[s]*e[s].usrCoords[1])}return[this.median(c),this.median(o),-1]},generateGaussian:function(e,s){var a,o,h;if(this.hasSpare)return this.hasSpare=!1,this.spare*s+e;do a=Math.random()*2-1,o=Math.random()*2-1,h=a*a+o*o;while(h>=1||h===0);return h=Math.sqrt(-2*Math.log(h)/h),this.spare=o*h,this.hasSpare=!0,e+s*a*h},randomNormal:function(e,s){return this.generateGaussian(e,s)},randomUniform:function(e,s){return Math.random()*(s-e)+e},randomExponential:function(e){var s;if(e<=0)return NaN;do s=Math.random();while(s===0);return-Math.log(s)/e},randomGamma:function(e,s,a){var o,h,c,d,g,_;if(e<=0)return NaN;if(s=s||1,a=a||0,e===1)return s*this.randomExponential(1)+a;if(e<1){g=Math.E/(e+Math.E);do{o=Math.random();do h=Math.random();while(h===0);o<g?(c=Math.pow(h,1/e),_=Math.exp(-c)):(c=1-Math.log(h),_=Math.pow(c,e-1)),o=Math.random()}while(o>=_);return s*c+a}do if(d=Math.tan(Math.PI*Math.random()),c=Math.sqrt(2*e-1)*d+e-1,c>0)h=Math.random();else continue;while(c<=0||h>(1+d*d)*Math.exp((e-1)*Math.log(c/(e-1))-Math.sqrt(2*e-1)*d));return s*c+a},randomBeta:function(e,s){var a,o,h;return e<=0||s<=0?NaN:(a=this.randomGamma(e),o=this.randomGamma(s),h=a/(a+o),h)},randomChisquare:function(e){return e<=0?NaN:2*this.randomGamma(e*.5)},randomF:function(e,s){var a,o;return e<=0||s<=0?NaN:(a=this.randomChisquare(e),o=this.randomChisquare(s),a*s/(o*e))},randomT:function(e){var s,a;return e<=0?NaN:(s=this.randomNormal(0,1),a=this.randomChisquare(e),s/Math.sqrt(a/e))},randomBinomial:function(e,s){var a,o,h,c,d,g;if(s<0||s>1||e<0)return NaN;if(s===0)return 0;if(s===1)return e;if(e===0)return 0;if(e===1)return Math.random()<s?1:0;if(s>.5)return e-this.randomBinomial(e,1-s);if(e<100){if(a=-1,o=0,h=Math.log(1-s),h===0)return 0;do a+=1,o+=Math.floor(Math.log(Math.random())/h)+1;while(o<e)}else c=1+Math.floor(e*.5),d=e-c+1,a=this.randomBeta(c,d),a>=s?(g=this.randomBinomial(c-1,s/a),a=g):(g=this.randomBinomial(d-1,(s-a)/(1-a)),a=c+g);return a},randomGeometric:function(e){var s;return e<0||e>1?NaN:(s=Math.random(),Math.ceil(Math.log(s)/Math.log(1-e)))},randomPoisson:function(e){var s=Math.exp(-e),a,o=0,h=1,c,d=7/8;if(e<=0)return NaN;if(e<10){do h*=Math.random(),o+=1;while(h>s);a=o-1}else o=Math.floor(d*e),c=this.randomGamma(o),c<e?a=o+this.randomPoisson(e-c):a=this.randomBinomial(o-1,e/c);return a},randomPareto:function(e,s){var a=Math.random();return e<=0||s<=0?NaN:s*Math.pow(1-a,-1/e)},randomHypergeometric:function(e,s,a){var o,h,c=0,d=e+s-a,g=Math.min(e,s),_=g;if(e<1||s<1||a>e+s)return NaN;for(o=a;_*o>0;)h=Math.random(),_-=Math.floor(h+_/(d+o)),o-=1;return c=g-_,e<=s?c:a-c},histogram:function(e,s){var a,o,h,c,d,g,_,b,$,j=[],_e=[],et=0;for(g=s.bins||10,b=s.range||!1,b===!1?(c=Math.min.apply(null,e),d=Math.max.apply(null,e)):(c=b[0],d=b[1]),g>0?_=(d-c)/(g-1):_=0,a=0;a<g;a++)j.push(0),_e.push(c+a*_);for(o=e.length,a=0;a<o;a++)h=Math.floor((e[a]-c)/_),h>=0&&h<g?j[h]+=1:et+=1;if(s.density)for($=JXG$1.Math.Statistics.sum(j)+et,a=0;a<g;a++)j[a]/=$*_;if(s.cumulative){if(s.density)for(a=0;a<g;a++)j[a]*=_;for(a=1;a<g;a++)j[a]+=j[a-1]}return[j,_e]}};const Statistics=Mat.Statistics;Mat.Plot={checkReal:function(e){var s=!1,a,o,h=e.length;for(a=0;a<h;a++)if(o=e[a].usrCoords,!isNaN(o[1])&&!isNaN(o[2])&&Math.abs(o[0])>Mat.eps){s=!0;break}return s},updateParametricCurveNaive:function(e,s,a,o){var h,c,d=!1,g=(a-s)/o;for(h=0;h<o;h++)c=s+h*g,e.points[h].setCoordinates(Const.COORDS_BY_USER,[e.X(c,d),e.Y(c,d)],!1),e.points[h]._t=c,d=!0;return e},isSegmentOutside:function(e,s,a,o,h){return s<0&&o<0||s>h.canvasHeight&&o>h.canvasHeight||e<0&&a<0||e>h.canvasWidth&&a>h.canvasWidth},isDistOK:function(e,s,a,o){return Math.abs(e)<a&&Math.abs(s)<o&&!isNaN(e+s)},isSegmentDefined:function(e,s,a,o){return!(isNaN(e+s)&&isNaN(a+o))},updateParametricCurveOld:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it=!1,at=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),nt=[],st=[],rt=[],lt=[],ot=!1,ht=0,ct=function(ut,dt,ft){var gt,mt=ft[1]-ut[1],vt=ft[2]-ut[2],Jt=dt[0]-ut[1],Pt=dt[1]-ut[2],$t=Jt*Jt+Pt*Pt;return $t>=Mat.eps&&(gt=(mt*Jt+vt*Pt)/$t,gt>0&&(gt<=1?(mt-=gt*Jt,vt-=gt*Pt):(mt-=Jt,vt-=Pt))),Mat.hypot(mt,vt)};for(JXG$1.deprecated("Curve.updateParametricCurveOld()"),e.board.updateQuality===e.board.BOARD_QUALITY_LOW?(_e=15,et=10,tt=10):(_e=21,et=.7,tt=.7),lt[0]=a-s,o=1;o<_e;o++)lt[o]=lt[o-1]*.5;o=1,nt[0]=1,st[0]=0,h=s,at.setCoordinates(Const.COORDS_BY_USER,[e.X(h,it),e.Y(h,it)],!1),it=!0,_=at.scrCoords[1],b=at.scrCoords[2],h=a,at.setCoordinates(Const.COORDS_BY_USER,[e.X(h,it),e.Y(h,it)],!1),d=at.scrCoords[1],g=at.scrCoords[2],rt[0]=[d,g],$=1,j=0,e.points=[],e.points[ht++]=new Coords(Const.COORDS_BY_SCREEN,[_,b],e.board,!1);do{for(ot=this.isDistOK(d-_,g-b,et,tt)||this.isSegmentOutside(_,b,d,g,e.board);j<_e&&(!ot||j<6)&&(j<=7||this.isSegmentDefined(_,b,d,g));)nt[$]=o,st[$]=j,rt[$]=[d,g],$+=1,o=2*o-1,j++,h=s+o*lt[j],at.setCoordinates(Const.COORDS_BY_USER,[e.X(h,it),e.Y(h,it)],!1,!0),d=at.scrCoords[1],g=at.scrCoords[2],ot=this.isDistOK(d-_,g-b,et,tt)||this.isSegmentOutside(_,b,d,g,e.board);ht>1&&(c=ct(e.points[ht-2].scrCoords,[d,g],e.points[ht-1].scrCoords),c<.015&&(ht-=1)),e.points[ht]=new Coords(Const.COORDS_BY_SCREEN,[d,g],e.board,!1),e.points[ht]._t=h,ht+=1,_=d,b=g,$-=1,d=rt[$][0],g=rt[$][1],j=st[$]+1,o=nt[$]*2}while($>0&&ht<5e5);return e.numberPoints=e.points.length,e},_insertPoint_v2:function(e,s,a){var o=!isNaN(this._lastCrds[1]+this._lastCrds[2]),h=!isNaN(s.scrCoords[1]+s.scrCoords[2]),c=e.board.canvasWidth,d=e.board.canvasHeight,g=500;h=h&&s.scrCoords[1]>-g&&s.scrCoords[2]>-g&&s.scrCoords[1]<c+g&&s.scrCoords[2]<d+g,(!h&&o||h&&(!o||Math.abs(s.scrCoords[1]-this._lastCrds[1])>.7||Math.abs(s.scrCoords[2]-this._lastCrds[2])>.7))&&(s._t=a,e.points.push(s),this._lastCrds=s.copy("scrCoords"))},neighborhood_isNaN_v2:function(e,s){var a,o=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),h,c;return h=s+Mat.eps,o.setCoordinates(Const.COORDS_BY_USER,[e.X(h,!0),e.Y(h,!0)],!1),c=o.usrCoords,a=isNaN(c[1]+c[2]),!(!a&&(h=s-Mat.eps,o.setCoordinates(Const.COORDS_BY_USER,[e.X(h,!0),e.Y(h,!0)],!1),c=o.usrCoords,a=isNaN(c[1]+c[2]),!a))},_borderCase:function(e,s,a,o,h,c,d,g){var _,b,$,j=null,_e,et=30,tt=!1,it,at;if(g<=1){if(b=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),isNaN(s[1]+s[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(e,h)||isNaN(a[1]+a[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(e,c)||isNaN(o[1]+o[2])&&(!isNaN(s[1]+s[2])||!isNaN(a[1]+a[2]))&&!this.neighborhood_isNaN_v2(e,d))return!1;_e=0;do{if(isNaN(s[1]+s[2])&&!isNaN(o[1]+o[2]))it=h,at=d;else if(isNaN(a[1]+a[2])&&!isNaN(o[1]+o[2]))it=c,at=d;else if(isNaN(o[1]+o[2])&&!isNaN(a[1]+a[2]))it=d,at=c;else if(isNaN(o[1]+o[2])&&!isNaN(s[1]+s[2]))it=d,at=h;else return!1;_=.5*(it+at),b.setCoordinates(Const.COORDS_BY_USER,[e.X(_,!0),e.Y(_,!0)],!1),$=b.usrCoords,tt=isNaN($[1]+$[2]),tt?it=_:at=_,++_e}while(tt&&_e<et);if(_e<et&&(j=$.slice(),o=$.slice(),at=_),j!==null)return this._insertPoint_v2(e,new Coords(Const.COORDS_BY_USER,j,e.board,!1)),!0}return!1},_plotRecursive_v2:function(e,s,a,o,h,c,d){var g,_,b,$=0,j,_e,et,tt=.5,it=.99,at=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1);if(!(e.numberPoints>65536))return c<this.nanLevel&&this._isUndefined(e,s,a,o,h)?this:c<this.nanLevel&&this._isOutside(s,a,o,h,e.board)?this:(g=(a+h)*.5,at.setCoordinates(Const.COORDS_BY_USER,[e.X(g,!0),e.Y(g,!0)],!1),_=at.scrCoords,this._borderCase(e,s,o,_,a,h,g,c)?this:(b=this._triangleDists(s,o,_),j=c<this.smoothLevel&&b[3]<d,_e=c<=this.jumpLevel&&(isNaN(b[0])||isNaN(b[1])||isNaN(b[2]))||c<this.jumpLevel&&(b[2]>it*b[0]||b[1]>it*b[0]||b[0]===1/0||b[1]===1/0||b[2]===1/0),et=c<this.smoothLevel+2&&b[0]<tt*(b[1]+b[2]),et&&($=0,j=!1),--c,_e?this._insertPoint_v2(e,new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],e.board,!1),g):c<=$||j?this._insertPoint_v2(e,at,g):(this._plotRecursive_v2(e,s,a,_,g,c,d),isNaN(at.scrCoords[1]+at.scrCoords[2])||this._insertPoint_v2(e,at,g),this._plotRecursive_v2(e,_,g,o,h,c,d)),this))},updateParametricCurve_v2:function(e,s,a){var o,h,c,d,g=!1,_=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),b=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),$,j,_e,et,tt;return e.board.updateQuality===e.board.BOARD_QUALITY_LOW?($=JXG$1.evaluate(e.visProp.recursiondepthlow)||13,j=2,this.smoothLevel=$-6,this.jumpLevel=3):($=JXG$1.evaluate(e.visProp.recursiondepthhigh)||17,j=2,this.smoothLevel=$-9,this.jumpLevel=2),this.nanLevel=$-4,e.points=[],this.xterm==="x"?(et=e.board.getBoundingBox(),_e=(et[2]-et[0])*.3,o=Math.max(s,et[0]-_e),h=Math.min(a,et[2]+_e)):(o=s,h=a),_.setCoordinates(Const.COORDS_BY_USER,[e.X(o,g),e.Y(o,g)],!1),g=!0,b.setCoordinates(Const.COORDS_BY_USER,[e.X(h,g),e.Y(h,g)],!1),tt=this._findStartPoint(e,_.scrCoords,o,b.scrCoords,h),_.setCoordinates(Const.COORDS_BY_SCREEN,tt[0],!1),o=tt[1],tt=this._findStartPoint(e,b.scrCoords,h,_.scrCoords,o),b.setCoordinates(Const.COORDS_BY_SCREEN,tt[0],!1),h=tt[1],this._visibleArea=[o,h],c=_.copy("scrCoords"),d=b.copy("scrCoords"),_._t=o,e.points.push(_),this._lastCrds=_.copy("scrCoords"),this._plotRecursive_v2(e,c,o,d,h,$,j),b._t=h,e.points.push(b),e.numberPoints=e.points.length,e},_insertLimesPoint:function(e,s,a,o,h){var c,d,g;Math.abs(this._lastUsrCrds[1])===1/0&&Math.abs(h.left_x)===1/0||Math.abs(this._lastUsrCrds[2])===1/0&&Math.abs(h.left_y)===1/0||(c=new Coords(Const.COORDS_BY_USER,[h.left_x,h.left_y],e.board),c._t=a,e.points.push(c),!isNaN(h.left_x)&&!isNaN(h.left_y)&&!isNaN(h.right_x)&&!isNaN(h.right_y)&&(Math.abs(h.left_x-h.right_x)>Mat.eps||Math.abs(h.left_y-h.right_y)>Mat.eps)&&(d=new Coords(Const.COORDS_BY_SCREEN,s,e.board),d._t=a,e.points.push(d)),g=new Coords(Const.COORDS_BY_USER,[h.right_x,h.right_y],e.board),g._t=a,e.points.push(g),this._lastScrCrds=g.copy("scrCoords"),this._lastUsrCrds=g.copy("usrCoords"))},_insertPoint:function(e,s,a,o,h){var c=!isNaN(this._lastScrCrds[1]+this._lastScrCrds[2]),d=!isNaN(s[1]+s[2]),g=e.board.canvasWidth,_=e.board.canvasHeight,b,$=.8,j=500;if(JXG$1.exists(h)){this._insertLimesPoint(e,s,a,o,h);return}d=d&&s[1]>-j&&s[2]>-j&&s[1]<g+j&&s[2]<_+j,!(!c&&!d)&&(d&&c&&Math.abs(s[1]-this._lastScrCrds[1])<$&&Math.abs(s[2]-this._lastScrCrds[2])<$||Math.abs(s[1])===1/0&&Math.abs(this._lastUsrCrds[1])===1/0||Math.abs(s[2])===1/0&&Math.abs(this._lastUsrCrds[2])===1/0||(b=new Coords(Const.COORDS_BY_SCREEN,s,e.board),b._t=a,e.points.push(b),this._lastScrCrds=b.copy("scrCoords"),this._lastUsrCrds=b.copy("usrCoords")))},_triangleDists:function(e,s,a){var o,h,c,d,g;return o=[e[0]*s[0],(e[1]+s[1])*.5,(e[2]+s[2])*.5],h=Geometry.distance(e,s,3),c=Geometry.distance(e,a,3),d=Geometry.distance(a,s,3),g=Geometry.distance(a,o,3),[h,c,d,g]},_isUndefined:function(e,s,a,o,h){var c,d,g;if(!isNaN(s[1]+s[2])||!isNaN(o[1]+o[2]))return!1;for(g=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),d=0;d<20;++d)if(c=a+Math.random()*(h-a),g.setCoordinates(Const.COORDS_BY_USER,[e.X(c,!0),e.Y(c,!0)],!1),!isNaN(g.scrCoords[0]+g.scrCoords[1]+g.scrCoords[2]))return!1;return!0},_isOutside:function(e,s,a,o,h){var c=500,d=h.canvasWidth,g=h.canvasHeight;return e[1]<-c&&a[1]<-c||e[2]<-c&&a[2]<-c||e[1]>d+c&&a[1]>d+c||e[2]>g+c&&a[2]>g+c},_isOutsidePoint:function(e,s){var a=500,o=s.canvasWidth,h=s.canvasHeight;return e[1]<-a||e[2]<-a||e[1]>o+a||e[2]>h+a},_findStartPoint:function(e,s,a,o,h){return[s,a]},_getBorderPos:function(e,s,a,o,h,c,d){var g,_,b,$,j=30,_e=!1,et,tt;if(_=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),$=0,isNaN(a[1]+a[2])&&!isNaN(h[1]+h[2]))tt=s,et=o;else if(isNaN(d[1]+d[2])&&!isNaN(h[1]+h[2]))tt=c,et=o;else if(isNaN(h[1]+h[2])&&!isNaN(d[1]+d[2]))tt=o,et=c;else if(isNaN(h[1]+h[2])&&!isNaN(a[1]+a[2]))tt=o,et=s;else return!1;do g=.5*(et+tt),_.setCoordinates(Const.COORDS_BY_USER,[e.X(g,!0),e.Y(g,!0)],!1),b=_.usrCoords,_e=isNaN(b[1]+b[2]),_e?tt=g:et=g,++$;while($<j&&Math.abs(et-tt)>Mat.eps);return g},_getCuspPos:function(e,s,a){var o=[e.X(s,!0),e.Y(s,!0)],h=[e.X(a,!0),e.Y(a,!0)],c=function(d){var g=[e.X(d,!0),e.Y(d,!0)];return-(Mat.hypot(o[0]-g[0],o[1]-g[1])+Mat.hypot(h[0]-g[0],h[1]-g[1]))};return Numerics.fminbr(c,[s,a],e)},_getJumpPos:function(e,s,a){var o=function(h){var c=Mat.eps*Mat.eps,d=[e.X(h,!0),e.Y(h,!0)],g=[e.X(h+c,!0),e.Y(h+c,!0)];return-Math.abs((g[1]-d[1])/(g[0]-d[0]))};return Numerics.fminbr(o,[s,a],e)},_getLimits:function(e,s){var a,o=2/(e.maxX()-e.minX()),h,c,d,g;return a=Extrapolate.limit(s,-o,e.X),h=a[0],a[1]==="infinite"&&(h=Math.sign(h)*(1/0)),a=Extrapolate.limit(s,-o,e.Y),d=a[0],a[1]==="infinite"&&(d=Math.sign(d)*(1/0)),a=Extrapolate.limit(s,o,e.X),c=a[0],a[1]==="infinite"&&(c=Math.sign(c)*(1/0)),a=Extrapolate.limit(s,o,e.Y),g=a[0],a[1]==="infinite"&&(g=Math.sign(g)*(1/0)),{left_x:h,left_y:d,right_x:c,right_y:g,t:s}},_getLimes:function(e,s,a,o,h,c,d,g,_){var b;return g==="border"?b=this._getBorderPos(e,s,a,o,h,c,d):g==="cusp"?b=this._getCuspPos(e,s,c):g==="jump"&&(b=this._getJumpPos(e,s,c)),this._getLimits(e,b)},_plotNonRecursive:function(e,s,a,o,h,c){var d,g,_,b=0,$=null,j,_e,et=!1,tt="",it,at,nt,st,rt,lt=[],ot=0,ht;for(nt=e.board.origin.scrCoords,lt[ot++]=[s,a,o,h,c,1/0];ot>0;){if(ht=lt[--ot],s=ht[0],a=ht[1],o=ht[2],h=ht[3],st=ht[4],rt=ht[5],et=!1,tt="",$=null,e.points.length>65536)return;st<this.nanLevel&&(this._isUndefined(e,s,a,o,h)||this._isOutside(s,a,o,h,e.board))||(d=(a+h)*.5,it=e.X(d,!0),at=e.Y(d,!0),g=[1,nt[1]+it*e.board.unitX,nt[2]-at*e.board.unitY],_=this._triangleDists(s,o,g),j=isNaN(s[1]+s[2]),_e=isNaN(o[1]+o[2]),j&&!_e||!j&&_e?tt="border":_[0]>.66*rt||_[0]<this.cusp_threshold*(_[1]+_[2])||_[1]>5*_[2]||_[2]>5*_[1]?tt="cusp":(_[2]>this.jump_threshold*_[0]||_[1]>this.jump_threshold*_[0]||_[0]===1/0||_[1]===1/0||_[2]===1/0)&&(tt="jump"),et=tt===""&&st<this.smoothLevel&&_[3]<this.smooth_threshold,st<this.testLevel&&!et&&(tt===""?et=!0:$=this._getLimes(e,a,s,d,g,h,o,tt,st)),$!==null?(g=[1,NaN,NaN],this._insertPoint(e,g,d,st,$)):st<=b||et?this._insertPoint(e,g,d,st,null):(lt[ot++]=[g,d,o,h,st-1,_[0]],lt[ot++]=[s,a,g,d,st-1,_[0]]))}return this},updateParametricCurve_v3:function(e,s,a){var o,h,c,d,g=!1,_=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),b=new Coords(Const.COORDS_BY_USER,[0,0],e.board,!1),$,j,_e,et;return e.board.updateQuality===e.board.BOARD_QUALITY_LOW?$=JXG$1.evaluate(e.visProp.recursiondepthlow)||14:$=JXG$1.evaluate(e.visProp.recursiondepthhigh)||17,this.smoothLevel=7,this.nanLevel=$-4,this.testLevel=4,this.cusp_threshold=.5,this.jump_threshold=.99,this.smooth_threshold=2,e.points=[],e.xterm==="x"?(_e=e.board.getBoundingBox(),j=(_e[2]-_e[0])*.3,o=Math.max(s,_e[0]-j),h=Math.min(a,_e[2]+j)):(o=s,h=a),_.setCoordinates(Const.COORDS_BY_USER,[e.X(o,g),e.Y(o,g)],!1),g=!0,b.setCoordinates(Const.COORDS_BY_USER,[e.X(h,g),e.Y(h,g)],!1),et=this._findStartPoint(e,_.scrCoords,o,b.scrCoords,h),_.setCoordinates(Const.COORDS_BY_SCREEN,et[0],!1),o=et[1],et=this._findStartPoint(e,b.scrCoords,h,_.scrCoords,o),b.setCoordinates(Const.COORDS_BY_SCREEN,et[0],!1),h=et[1],this._visibleArea=[o,h],c=_.copy("scrCoords"),d=b.copy("scrCoords"),_._t=o,e.points.push(_),this._lastScrCrds=_.copy("scrCoords"),this._lastUsrCrds=_.copy("usrCoords"),this._plotNonRecursive(e,c,o,d,h,$),b._t=h,e.points.push(b),e.numberPoints=e.points.length,e},_criticalInterval:function(e,s,a){var o,h,c,d,g,_,b=!1,$,j=-1/0,_e=!1,et=!1,tt=0,it=[],at=[],nt=[];for($=Statistics.abs(e),d=Statistics.median($),d<1e-7?(d=1e-7,_e=!0):d*=this.criticalThreshold,o=0;o<s;o++)$[o]>d?(nt.push({i:o,v:e[o],group:tt}),j=o,b||(b=!0)):b&&o>j+4&&(nt.length>0&&it.push(nt.slice(0)),nt=[],b=!1,tt++);for(b&&nt.length>1&&it.push(nt.slice(0)),_e&&it.length===0&&(et=!0),h=0;h<it.length;h++)if(at[h]="point",c=it[h].length,!(c<64)){for(_=0,g=Math.sign(it[h][0].v),o=1;o<c;o++)Math.sign(it[h][o].v)!==g&&(_++,g=Math.sign(it[h][o].v));_*6>c&&(at[h]="interval")}return{smooth:et,groups:it,types:at}},Component:function(){this.left_isNaN=!1,this.right_isNaN=!1,this.left_t=null,this.right_t=null,this.t_values=[],this.x_values=[],this.y_values=[],this.len=0},findComponents:function(e,s,a,o){var h,c,d,g,_,b=[],$,j=0,_e=0,et=0,tt=!1,it=!1;for(d=(a-s)/o,b[j]=new this.Component,$=b[j],h=0,c=s;h<=o;h++,c+=d)g=e.X(c,it),_=e.Y(c,it),isNaN(g)||isNaN(_)?(et++,et>1&&tt&&($.right_isNaN=!0,$.right_t=c-d,$.len=_e,tt=!1,j++,b[j]=new this.Component,$=b[j],et=0)):(tt||(tt=!0,_e=0,et>0&&($.left_t=c-d,$.left_isNaN=!0)),et=0,$.t_values[_e]=c,$.x_values[_e]=g,$.y_values[_e]=_,_e++),h===0&&(it=!0);return tt?$.len=_e:b.pop(),b},getPointType:function(e,s,a,o,h,c,d){var g=h[0],_=c[0],b=o.length,$={idx:s,t:a,x:g[s],y:_[s],type:"other"};return s<5?($.type="borderleft",$.idx=0,$.t=o[0],$.x=g[0],$.y=_[0],$):(s>d-6&&($.type="borderright",$.idx=b-1,$.t=o[b-1],$.x=g[b-1],$.y=_[b-1]),$)},newtonApprox:function(e,s,a,o,h){var c,d=0;for(c=o;c>0;c--)d=(d+h[c][e])*(s-(c-1)*a)/c;return d+h[0][e]},thiele:function(e,s,a,o,h){var c,d=0;for(c=h;c>1;c--)d=(e-a[o+c])/(s[c][o+1]-s[c-2][o+1]+d);return s[0][o+1]+(e-a[o+1])/(s[1][o+1]+d)},differenceMethodExperiments:function(e,s){var a,o,h,c,d=e.t_values,g=e.x_values,_=e.y_values,b=[],$=[],j=[],_e=[],et=[],tt=[],it=[],at=[],nt,st,rt=0,lt,ot,ht,ct,ut,dt=[];for(nt=d[1]-d[0],et.push([]),tt.push([]),it.push([]),at.push([]),h=_.length,a=0;a<h;a++)et[0][a]=g[a],tt[0][a]=_[a],it[0][a]=g[a],at[0][a]=_[a];for(et.push([]),tt.push([]),it.push([]),at.push([]),st=nt,h=_.length-1,a=0;a<h;a++)b[a]=g[a+1]-g[a],$[a]=_[a+1]-_[a],j[a]=b[a],_e[a]=$[a],et[1][a]=b[a],tt[1][a]=$[a],it[1][a]=st/b[a],at[1][a]=st/$[a];for(h--,c=Math.min(8,_.length-1),o=1;o<c;o++){for(et.push([]),tt.push([]),it.push([]),at.push([]),st*=nt,a=0;a<h;a++)b[a]=b[a+1]-b[a],$[a]=$[a+1]-$[a],et[o+1][a]=b[a],tt[o+1][a]=$[a],it[o+1][a]=st/(it[o][a+1]-it[o][a])+it[o-1][a+1],at[o+1][a]=st/(at[o][a+1]-at[o][a])+at[o-1][a+1];if(ut=this._criticalPoints($,h,o),ut===!1){console.log("Polynomial of degree",o),ut=[];break}if(ut.length>0&&(rt++,rt>1&&o%2===0))break;h--}for(a=0;a<ut.length;a++){for(ot=-1/0,ht=0;ht<ut[a].length;ht++)ct=Math.abs(ut[a][ht].v),ct>ot&&(ot=ct,lt=ht);lt=Math.floor(ut[a][lt].i+o/2),dt.push(this.getPointType(s,lt,d,g,_,j,_e,h+1))}return[dt,et,tt,it,at]},getCenterOfCriticalInterval:function(e,s,a){var o,h,c,d,g=0,_=0,b=a[1]-a[0],$,j=[];for(o=-1/0,j=[],h=0;h<e.length;h++)d=Math.abs(e[h].v),d>o?(j=[h],o=d,c=h):o===d&&j.push(h);if(j.length>0&&($=j.reduce(function(_e,et){return _e+et},0)/j.length,c=Math.floor($),$+=e[0].i),o<1/0){for(h=0;h<e.length;h++)g+=Math.abs(e[h].v)*e[h].i,_+=Math.abs(e[h].v);$=g/_}return $+=s/2,[e[c].i+s/2,$,a[Math.floor($)]+b*($-Math.floor($))]},differenceMethod:function(e,s){var a,o,h,c,d=e.t_values,g=e.x_values,_=e.y_values,b=[],$=[],j=0,_e=-1,et=-1,tt,it,at,nt,st,rt=[],lt,ot=[];for(h=_.length,b.push(new Float64Array(g)),$.push(new Float64Array(_)),h--,c=Math.min(12,h),o=0;o<c&&(b.push(new Float64Array(h)),$.push(new Float64Array(h)),b[o+1]=b[o].map(function(ht,ct,ut){return ut[ct+1]-ht}),$[o+1]=$[o].map(function(ht,ct,ut){return ut[ct+1]-ht}),nt=this._criticalInterval($[o+1],h,o),nt.smooth===!0&&(et=o,rt=[]),at=this._criticalInterval(b[o+1],h,o),_e===-1&&at.smooth===!0&&(_e=o),!(et>=0));o++){if(nt.groups.length>0&&(j++,j>2&&(o+1)%2===0)){rt=nt.groups,lt=nt.types;break}h--}for(a=0;a<rt.length;a++)lt[a]!=="interval"&&(it=this.getCenterOfCriticalInterval(rt[a],o+1,d),tt=nt[0],tt=Math.floor(it[1]),st=it[2],ot.push(this.getPointType(s,tt,st,d,b,$,h+1)));return[ot,b,$,_e,et]},_insertPoint_v4:function(e,s,a,o){var h,c=null,d,g,_=.8;e.points.length>0&&(c=e.points[e.points.length-1].scrCoords),h=new Coords(Const.COORDS_BY_USER,s,e.board),!(c!==null&&(d=h.scrCoords[1]-c[1],g=h.scrCoords[2]-c[2],d*d+g*g<_*_))&&(h._t=a,e.points.push(h))},getInterval:function(e,s,a){var o,h;return Interval.disable(),o=Interval.Interval(s,a),e.board.mathLib=Interval,e.board.mathLibJXG=Interval,h=e.Y(o,!0),e.board.mathLib=Math,e.board.mathLibJXG=JXG$1.Math,h},sign:function(e){return e<0?-1:e>0?1:0},handleBorder:function(e,s,a,o,h){var c=a.idx,d,g,_,b=32,$,j,_e,et,tt,it,at,nt,st;if(st=s.t_values[1]-s.t_values[0],a.type==="borderleft"?(d=s.left_isNaN?s.left_t:a.t-st,g=d,_=g+st):a.type==="borderright"?(d=s.right_isNaN?s.right_t:a.t+st,_=d,g=_-st):console.log("No bordercase!!!"),at=this.findComponents(e,g,_,b),at.length!==0){for(a.type==="borderleft"&&(g=at[0].left_t,_=at[0].t_values[0],st=at[0].t_values[1]-at[0].t_values[0],g=g===null?_-st:g,d=g,$=this.getInterval(e,g,_),JXG$1.isObject($)&&(et=$.lo,tt=$.hi,j=e.X(d,!0),_e=h[1][c]<0?tt:et,this._insertPoint_v4(e,[1,j,_e],d))),nt=at[0].t_values.length,it=0;it<nt;it++)d=at[0].t_values[it],j=at[0].x_values[it],_e=at[0].y_values[it],this._insertPoint_v4(e,[1,j,_e],d);a.type==="borderright"&&(g=at[0].t_values[nt-1],_=at[0].right_t,st=at[0].t_values[1]-at[0].t_values[0],_=_===null?g+st:_,d=_,$=this.getInterval(e,g,_),JXG$1.isObject($)&&(et=$.lo,tt=$.hi,j=e.X(d,!0),_e=h[1][c]>0?tt:et,this._insertPoint_v4(e,[1,j,_e],d)))}},_seconditeration_v4:function(e,s,a,o,h){var c,d,g,_,b,$,j,_e,et,tt,it,at,nt;for(d=s.t_values[a.idx-2],g=s.t_values[a.idx+2],b=this.findComponents(e,d,g,64),j=0;j<b.length;j++){for($=b[j],_=this.differenceMethod($,e),_e=_[0],tt=_[1],it=_[2],at=0,et=0;et<=_e.length;et++){for(et===_e.length?nt=$.len:nt=_e[et].idx,c=at;c<nt;c++)!isNaN($.x_values[c])&&!isNaN($.y_values[c])&&this._insertPoint_v4(e,[1,$.x_values[c],$.y_values[c]],$.t_values[c]);et<_e.length&&(this.handleSingularity(e,$,_e[et],tt,it),at=_e[et].idx+1)}nt=$.len,j<b.length-1&&this._insertPoint_v4(e,[1,NaN,NaN],$.right_t)}return this},_recurse_v4:function(e,s,a,o,h,c,d,g){var _=2,b=(s+a)*.5,$=e.X(b,!0),j=e.Y(b,!0),_e,et;if(g===0){this._insertPoint_v4(e,[1,NaN,NaN],b);return}_e=($-o)*e.board.unitX,et=(j-h)*e.board.unitY,Mat.hypot(_e,et)>_?this._recurse_v4(e,s,b,o,h,$,j,g-1):this._insertPoint_v4(e,[1,$,j],b),_e=($-c)*e.board.unitX,et=(j-d)*e.board.unitY,Mat.hypot(_e,et)>_?this._recurse_v4(e,b,a,$,j,c,d,g-1):this._insertPoint_v4(e,[1,$,j],b)},handleSingularity:function(e,s,a,o,h){var c=a.idx,d,g,_,b,$,j,_e,et,tt,it,at,nt=100,st=5,rt=3;d=a.t,console.log("HandleSingularity at t =",d),g=s.t_values[c-st],_=s.t_values[c+st],b=this.getInterval(e,g,_),JXG$1.isObject(b)?(et=b.lo,tt=b.hi):h[0][c-1]<h[0][c+1]?(et=h[0][c-1],tt=h[0][c+1]):(et=h[0][c+1],tt=h[0][c-1]),_e=e.X(d,!0),it=(h[0][c-rt]-h[0][c-st])/(s.t_values[c-rt]-s.t_values[c-st]),at=(h[0][c+rt]-h[0][c+st])/(s.t_values[c+rt]-s.t_values[c+st]),console.log(":::",it,at),it<-nt?(this._insertPoint_v4(e,[1,_e,et],d,!0),at<=nt&&this._insertPoint_v4(e,[1,NaN,NaN],d)):it>nt?(this._insertPoint_v4(e,[1,_e,tt],d),at>=-nt&&this._insertPoint_v4(e,[1,NaN,NaN],d)):(et===-1/0&&(this._insertPoint_v4(e,[1,_e,et],d,!0),this._insertPoint_v4(e,[1,NaN,NaN],d)),tt===1/0&&(this._insertPoint_v4(e,[1,NaN,NaN],d),this._insertPoint_v4(e,[1,_e,tt],d,!0)),a.t<s.t_values[c]?($=c-1,j=c):($=c,j=c+1),g=s.t_values[$],_=s.t_values[j],this._recurse_v4(e,g,_,o[0][$],h[0][$],o[0][j],h[0][j],10)),at<-nt?this._insertPoint_v4(e,[1,_e,tt],d):at>nt&&this._insertPoint_v4(e,[1,_e,et],d)},steps:1021,criticalThreshold:1e3,plot_v4:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt=(a-s)/o,lt=function(ct){return e.Y(ct,!0)},ot=function(ct){return-e.Y(ct,!0)},ht=rt*.5;for(d=this.findComponents(e,s,a,o),g=0;g<d.length;g++){for(_=d[g],_e=this.differenceMethod(_,e),b=_e[0],et=_e[1],tt=_e[2],(b.length===0||b[0].type!=="borderleft")&&b.unshift({idx:0,t:_.t_values[0],x:_.x_values[0],y:_.y_values[0],type:"borderleft"}),b[b.length-1].type!=="borderright"&&(c=_.t_values.length,b.push({idx:c-1,t:_.t_values[c-1],x:_.x_values[c-1],y:_.y_values[c-1],type:"borderright"})),j=0,$=0;$<=b.length;$++){for($===b.length?c=_.len:c=b[$].idx-1,h=j;h<c-2;h++)this._insertPoint_v4(e,[1,_.x_values[h],_.y_values[h]],_.t_values[h]),h>=j+3&&h<c-3&&tt.length>3&&Math.abs(tt[2][h])>.2*Math.abs(tt[0][h])&&(it=_.t_values[h],ht=rt*.25,st=this.getInterval(e,it,it+rt),JXG$1.isObject(st)?tt[2][h]>0?this._insertPoint_v4(e,[1,it+ht,st.lo],it+ht):this._insertPoint_v4(e,[1,it+rt-ht,st.hi],it+rt-ht):(at=Numerics.fminbr(lt,[it,it+rt]),nt=Numerics.fminbr(ot,[it,it+rt]),at<nt?(this._insertPoint_v4(e,[1,e.X(at,!0),e.Y(at,!0)],at),this._insertPoint_v4(e,[1,e.X(nt,!0),e.Y(nt,!0)],nt)):(this._insertPoint_v4(e,[1,e.X(nt,!0),e.Y(nt,!0)],nt),this._insertPoint_v4(e,[1,e.X(at,!0),e.Y(at,!0)],at))));$<b.length&&(h=b[$].idx,b[$].type==="borderleft"||b[$].type==="borderright"?this.handleBorder(e,_,b[$],et,tt):this._seconditeration_v4(e,_,b[$],et,tt),j=b[$].idx+1+1)}c=_.len,g<d.length-1&&this._insertPoint_v4(e,[1,NaN,NaN],_.right_t)}},updateParametricCurve_v4:function(e,s,a){var o,h,c,d;e.xterm==="x"?(d=e.board.getBoundingBox(),c=(d[2]-d[0])*.3,o=Math.max(s,d[0]-c),h=Math.min(a,d[2]+c)):(o=s,h=a),e.points=[],this.plot_v4(e,o,h,this.steps),e.numberPoints=e.points.length},updateParametricCurve:function(e,s,a){return this.updateParametricCurve_v2(e,s,a)}};const Plot=Mat.Plot;Mat.ImplicitPlot=function(e,s,a,o,h){var c={resolution_out:5,resolution_in:5,max_steps:1024,alpha_0:.05,tol_u0:Mat.eps,tol_newton:1e-7,tol_cusp:.05,tol_progress:1e-4,qdt_box:.2,kappa_0:.2,delta_0:.05,h_initial:.1,h_critical:.001,h_max:1,loop_dist:.09,loop_dir:.99,loop_detection:!0,unitX:10,unitY:10};this.config=JXG$1.merge(c,s),this.f=a,this.dfx=null,this.dfy=null,JXG$1.isFunction(o)?this.dfx=o:this.dfx=function(d,g){var _=Mat.eps*Mat.eps;return(this.f(d+_,g)-this.f(d-_,g))*.5/_},JXG$1.isFunction(h)?this.dfy=h:this.dfy=function(d,g){var _=Mat.eps*Mat.eps;return(this.f(d,g+_)-this.f(d,g-_))*.5/_},this.bbox=e,this.qdt=new Quadtree(20,5,e),this.components=[]};JXG$1.extend(Mat.ImplicitPlot.prototype,{plot:function(){var e,s,a,o,h,c,d=[],g=[],_=[],b=0,$,j=this,_e=function(at){return j.f(e,at)},et=function(at){return-j.f(e,at)},tt=function(at){return j.f(at,s)},it=function(at){return-j.f(at,s)};for(a=Math.min(this.bbox[0],this.bbox[2])-Mat.eps,o=Math.max(this.bbox[0],this.bbox[2]),h=Math.min(this.bbox[1],this.bbox[3])+Mat.eps,c=Math.max(this.bbox[1],this.bbox[3]),$=this.config.resolution_out/this.config.unitX,$*=1+Mat.eps,e=a;e<o;e+=$)_=this.searchLine(_e,et,e,[h,c],"vertical",b,d,g),_!==!1&&(d=_[0],g=_[1],b=_[2]);for($=this.config.resolution_out/this.config.unitY,$*=1+Mat.eps,s=h;s<c;s+=$)_=this.searchLine(tt,it,s,[a,o],"horizontal",b,d,g),_!==!1&&(d=_[0],g=_[1],b=_[2]);return[d,g,b]},searchLine:function(e,s,a,o,h,c,d,g){var _,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct=this.config.tol_u0,ut=o[0],dt=o[1];if(_=Numerics.fminbr(e,[ut,dt]),_e=e(_),b=Numerics.fminbr(s,[ut,dt]),et=e(b),_e<ct&&et>-ct){if(tt=_,_=Math.min(tt,b),b=Math.max(tt,b),$=Numerics.fzero(e,[_,b]),j=e($),Math.abs(j)>Math.max((et-_e)*Mat.eps,.001))return!1;if(h==="vertical"?(nt=[1,a,$],ht=this.config.resolution_in/this.config.unitY):(nt=[1,$,a],ht=this.config.resolution_in/this.config.unitX),ht*=1+Mat.eps,at=this.curveContainsPoint(nt,d,g,ht*2,this.config.qdt_box),!at){if(lt=this.traceComponent(nt,1),lt.length>0){for(c>0&&(d.push(NaN),g.push(NaN)),ot=d.length,rt=lt[0].length,st=1;st<rt;st++)this.qdt.insertItem({xlb:Math.min(lt[0][st-1],lt[0][st]),xub:Math.max(lt[0][st-1],lt[0][st]),ylb:Math.min(lt[1][st-1],lt[1][st]),yub:Math.max(lt[1][st-1],lt[1][st]),idx1:ot+st-1,idx2:ot+st,comp:c});c++,JXG$1.concat(d,lt[0]),JXG$1.concat(g,lt[1])}}return it=$-ht*.01,it-ut>ht&&(lt=this.searchLine(e,s,a,[ut,it],h,c,d,g),lt!==!1&&(d=lt[0],g=lt[1],c=lt[2])),it=$+ht*.01,dt-it>ht&&(lt=this.searchLine(e,s,a,[it,dt],h,c,d,g),lt!==!1&&(d=lt[0],g=lt[1],c=lt[2])),[d,g,c]}return!1},curveContainsPoint:function(e,s,a,o,h){var c,d,g,_,b=e[1],$=e[2];for(g=this.qdt.find([b-h,$+h,b+h,$-h]),d=g.length,c=0;c<d;c++)if(_=Geometry.distPointSegment(e,[1,s[g[c].idx1],a[g[c].idx1]],[1,s[g[c].idx2],a[g[c].idx2]]),_<o)return!0;return!1},traceComponent:function(e){var s=[],a=[],o=[];return o=this.tracing(e,1),o.length===0||(s=o[0],a=o[1]),o[2]||(o=this.tracing(e,-1),o.length===0||(s=o[0].reverse().concat(s.slice(1)),a=o[1].reverse().concat(a.slice(1)))),s.length<6&&(s.push(s[s.length-1]),a.push(a[a.length-1])),[s,a]},tracing:function(e,s){var a=[],o=[],h=[],c,d,g,_,b,$,j=0,_e=0,et=!1,tt,it,at,nt,st,rt,lt,ot,ht,ct=!1,ut=!1,dt=this.config.kappa_0,ft=this.config.delta_0,gt=this.config.alpha_0,mt=this.config.h_initial,vt=this.config.max_steps,Jt=s,Pt=[],$t=[],Et=[],Gt,_t,bt,yt;if(a=e.slice(1),Pt.push(a[0]),$t.push(a[1]),c=this.tangent(a),c===!1)return[];this.dfx(a[0],a[1]),this.dfy(a[0],a[1]);do{if(c=this.tangent(a),c===!1){a=o.slice(),Pt.push(a[0]),$t.push(a[1]);break}if(Pt.length===1)g=c.slice();else if(Pt.length===2)Et.push(Pt.length-1);else if(ct&&Pt.length>2&&!ut){if(nt=Geometry.distPointSegment([1,a[0],a[1]],[1,Pt[0],$t[0]],[1,Pt[1],$t[1]]),nt<this.config.loop_dist*mt&&Mat.innerProduct(c,g,2)>this.config.loop_dir){a=e.slice(1),Pt.push(a[0]),$t.push(a[1]),et=!0;break}if(this.config.loop_detection){for(Gt=Pt.length-1,_t=Math.floor(Mat.log2(Gt)),bt=0;bt<=_t&&(nt=Geometry.distPointSegment([1,a[0],a[1]],[1,Pt[Et[bt]-1],$t[Et[bt]-1]],[1,Pt[Et[bt]],$t[Et[bt]]]),!(nt<this.config.loop_dist*mt&&(d=this.tangent([Pt[Et[bt]],$t[Et[bt]]]),Mat.innerProduct(c,d,2)>this.config.loop_dir)));bt++);if(bt<=_t){et=!0;break}for(_t=1,yt=0,bt=0;bt<100&&(Gt+1)%_t===0;bt++)_t*=2,yt++;Et[yt]=Gt}}o[0]=a[0]+mt*Jt*c[0],o[1]=a[1]+mt*Jt*c[1],_e=0;do _=[this.dfx(o[0],o[1]),this.dfy(o[0],o[1])],at=_[0]*_[0]+_[1]*_[1],b=this.f(o[0],o[1])/at,h[0]=o[0]-_[0]*b,h[1]=o[1]-_[1]*b,_e===0?tt=Math.abs(b)*Math.sqrt(at):_e===1&&(it=Math.abs(b)*Math.sqrt(at)),o[0]=h[0],o[1]=h[1],_e++;while(_e<20&&Math.abs(this.f(o[0],o[1]))>this.config.tol_newton);if(lt=tt,_e>1?rt=it/tt:rt=0,d=this.tangent(o),$=Mat.innerProduct(c,d,2),$=Math.max(-1,Math.min(1,$)),ot=Math.acos($),ut=!1,st=Geometry.distance(a,o,2),st<this.config.tol_progress){a=o.slice(),Pt.push(a[0]),$t.push(a[1]);break}else if($<0&&!(mt>this.config.h_critical))if(ut=!0,this.isBifurcation(a,this.config.tol_cusp))Jt*=-1,ot=0;else{a=o.slice(),Pt.push(a[0]),$t.push(a[1]);break}if(!ut&&(ht=Math.max(Math.sqrt(rt/dt),Math.sqrt(lt/ft),ot/gt),isNaN(ht)&&(ht=1),ht=Math.max(Math.min(ht,2),.5),mt/=ht,mt=Math.min(this.config.h_max,mt),ht>=2)){if(j++,j>=3*vt)break;ct=!1;continue}a=o.slice(),Pt.push(a[0]),$t.push(a[1]),ct=!0,j++}while(j<vt&&a[0]>=this.bbox[0]&&a[1]<=this.bbox[1]&&a[0]<=this.bbox[2]&&a[1]>=this.bbox[3]);return[Pt,$t,et]},isBifurcation:function(e,s){var a=Mat.eps*Mat.eps*100,o,h,c,d,g,_,b,$,j,_e;return o=e[0],h=e[1],c=.5*(this.dfx(o+a,h)-this.dfx(o-a,h))/a,d=.5*(this.dfx(o,h+a)-this.dfx(o,h-a))/a,g=.5*(this.dfy(o+a,h)-this.dfy(o-a,h))/a,_=.5*(this.dfy(o,h+a)-this.dfy(o,h-a))/a,b=c+_,_e=b*b-4*(c*_-d*g),$=.5*(b+Math.sqrt(_e)),j=.5*(b-Math.sqrt(_e)),Math.abs($)>s&&Math.abs(j)>s},handleCriticalPoint:function(e,s,a,o){var h=Math.atan2(o*s[1],o*s[0]),c=function(b){var $=e[0]+a*Math.cos(b),j=e[1]+a*Math.sin(b);return this.f($,j)},d,g,_;return _=Numerics.root(c,h),d=e[0]+a*Math.cos(_),g=e[1]+a*Math.sin(_),[d,g]},updateA:function(e,s,a){var o=[a[0]-s[0],a[1]-s[1]],h=this.f(a[0],a[1])-this.f(s[0],s[1]),c,d;return d=o[0]*o[0]+o[1]*o[1],c=h-(e[0]*o[0]+e[1]*o[1]),c/=d,e[0]+=c*o[0],e[1]+=c*o[1],e},tangent_A:function(e){var s=[-e[1],e[0]],a=Mat.norm(s,2);return a<Mat.eps,[s[0]/a,s[1]/a]},tangent:function(e){var s=[-this.dfy(e[0],e[1]),this.dfx(e[0],e[1])],a=Mat.norm(s,2);return a<Mat.eps*Mat.eps?!1:[s[0]/a,s[1]/a]}});const ImplicitPlot=Mat.ImplicitPlot;Mat.Metapost={MP_ENDPOINT:0,MP_EXPLICIT:1,MP_GIVEN:2,MP_CURL:3,MP_OPEN:4,MP_END_CYCLE:5,UNITY:1,FRACTION_ONE:1,FRACTION_THREE:3,ONE_EIGHTY_DEG:Math.PI,THREE_SIXTY_DEG:2*Math.PI,EPS_SQ:1e-5*1e-5,make_choices:function(e){var s,a,o,h,c,d,g,_,b,$,j,_e,et,tt,it,at=!0;g=e[0];do{if(!g)break;d=g.next,g.rtype>this.MP_EXPLICIT&&(g.x-d.x)*(g.x-d.x)+(g.y-d.y)*(g.y-d.y)<this.EPS_SQ&&(g.rtype=this.MP_EXPLICIT,g.ltype===this.MP_OPEN&&(g.ltype=this.MP_CURL,g.set_left_curl(this.UNITY)),d.ltype=this.MP_EXPLICIT,d.rtype===this.MP_OPEN&&(d.rtype=this.MP_CURL,d.set_right_curl(this.UNITY)),g.rx=g.x,d.lx=g.x,g.ry=g.y,d.ly=g.y),g=d}while(g!==e[0]);for(a=e[0];at&&!(a.ltype!==this.MP_OPEN||a.rtype!==this.MP_OPEN);)if(a=a.next,a===e[0]){a.ltype=this.MP_END_CYCLE;break}for(g=a;at&&g;){if(d=g.next,g.rtype>=this.MP_GIVEN){for(;d.ltype===this.MP_OPEN&&d.rtype===this.MP_OPEN;)d=d.next;for(o=0,_=g,c=e.length,_e=[],et=[],tt=[],it=[null];at&&($=_.next,_e.push($.x-_.x),et.push($.y-_.y),tt.push(this.mp_pyth_add(_e[o],et[o])),o>0&&(j=et[o-1]/tt[o-1],b=_e[o-1]/tt[o-1],it.push(Math.atan2(et[o]*b-_e[o]*j,_e[o]*b+et[o]*j))),o++,_=$,_===d&&(c=o),!(o>=c&&_.ltype!==this.MP_END_CYCLE)););o===c?it.push(0):it.push(it[1]),d.ltype===this.MP_OPEN&&(h=d.rx-d.x,s=d.ry-d.y,h*h+s*s<this.EPS_SQ?(d.ltype=this.MP_CURL,d.set_left_curl(this.UNITY)):(d.ltype=this.MP_GIVEN,d.set_left_given(Math.atan2(s,h)))),g.rtype===this.MP_OPEN&&g.ltype===this.MP_EXPLICIT&&(h=g.x-g.lx,s=g.y-g.ly,h*h+s*s<this.EPS_SQ?(g.rtype=this.MP_CURL,g.set_right_curl(this.UNITY)):(g.rtype=this.MP_GIVEN,g.set_right_given(Math.atan2(s,h)))),this.mp_solve_choices(g,d,c,_e,et,tt,it)}else g.rtype===this.MP_ENDPOINT&&(g.rx=g.x,g.ry=g.y,d.lx=d.x,d.ly=d.y);if(g=d,g===a)break}},mp_solve_choices:function(e,s,a,o,h,c,d){var g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt,Pt,$t,Et=!0;for(j=c.length+1,at=new Array(j),it=new Array(j),b=new Array(j),ot=new Array(j),Pt=0;Pt<j;Pt++)ot[Pt]=b[Pt]=it[Pt]=at[Pt]=0;for(et=0,tt=e,st=0;Et;){if(rt=tt.next,et===0)if(tt.rtype===this.MP_GIVEN){if(rt.ltype===this.MP_GIVEN){g=Math.atan2(h[0],o[0]),dt=this.mp_n_sin_cos(e.right_given()-g),ft=dt[0],gt=dt[1],mt=this.mp_n_sin_cos(s.left_given()-g),vt=mt[0],Jt=mt[1],this.mp_set_controls(e,s,o[0],h[0],gt,ft,-Jt,vt);return}b[0]=tt.right_given()-Math.atan2(h[0],o[0]),b[0]=this.reduce_angle(b[0]),at[0]=0,it[0]=0}else if(tt.rtype===this.MP_CURL){if(rt.ltype===this.MP_CURL){e.rtype=this.MP_EXPLICIT,s.ltype=this.MP_EXPLICIT,nt=Math.abs(s.left_tension()),ht=Math.abs(e.right_tension()),lt=this.UNITY/(3*ht),e.rx=e.x+o[0]*lt,e.ry=e.y+h[0]*lt,lt=this.UNITY/(3*nt),s.lx=s.x-o[0]*lt,s.ly=s.y-h[0]*lt;return}ut=tt.right_curl(),nt=Math.abs(rt.left_tension()),ht=Math.abs(tt.right_tension()),at[0]=this.mp_curl_ratio(ut,ht,nt),b[0]=-d[1]*at[0],it[0]=0}else tt.rtype===this.MP_OPEN&&(at[0]=0,b[0]=0,it[0]=this.FRACTION_ONE);else if(tt.ltype===this.MP_END_CYCLE||tt.ltype===this.MP_OPEN){if(g=this.UNITY/(3*Math.abs(st.right_tension())-this.UNITY),ct=c[et]*(this.FRACTION_THREE-this.UNITY/Math.abs(st.right_tension())),$=this.UNITY/(3*Math.abs(rt.left_tension())-this.UNITY),_e=c[et-1]*(this.FRACTION_THREE-this.UNITY/Math.abs(rt.left_tension())),ut=this.FRACTION_ONE-at[et-1]*g,ct=ct*ut,nt=Math.abs(tt.left_tension()),ht=Math.abs(tt.right_tension()),nt<ht?ct*=Math.pow(nt/ht,2):nt>ht&&(_e*=Math.pow(ht/nt,2)),lt=_e/(_e+ct),at[et]=lt*$,_=-d[et+1]*at[et],st.rtype===this.MP_CURL?(it[et]=0,b[et]=_-d[1]*(this.FRACTION_ONE-lt)):(lt=(this.FRACTION_ONE-lt)/ut,_=_-d[et]*lt,lt=lt*g,b[et]=_-b[et-1]*lt,it[et]=-it[et-1]*lt),tt.ltype===this.MP_END_CYCLE){for(g=0,$=this.FRACTION_ONE;Et&&(et-=1,et===0&&(et=a),g=b[et]-g*at[et],$=it[et]-$*at[et],et!==a););for(g=g/(this.FRACTION_ONE-$),ot[a]=g,b[0]=g,$t=1;$t<a;$t++)b[$t]=b[$t]+g*it[$t];break}}else{if(tt.ltype===this.MP_CURL){ut=tt.left_curl(),nt=Math.abs(tt.left_tension()),ht=Math.abs(st.right_tension()),lt=this.mp_curl_ratio(ut,nt,ht),ot[a]=-(b[a-1]*lt)/(this.FRACTION_ONE-lt*at[a-1]);break}if(tt.ltype===this.MP_GIVEN){ot[a]=tt.left_given()-Math.atan2(h[a-1],o[a-1]),ot[a]=this.reduce_angle(ot[a]);break}}st=tt,tt=rt,et+=1}for(et=a-1;et>-1;et--)ot[et]=b[et]-ot[et+1]*at[et];for(tt=e,et=0;Et&&(rt=tt.next,dt=this.mp_n_sin_cos(ot[et]),ft=dt[0],gt=dt[1],mt=this.mp_n_sin_cos(-d[et+1]-ot[et+1]),vt=mt[0],Jt=mt[1],this.mp_set_controls(tt,rt,o[et],h[et],gt,ft,Jt,vt),et++,tt=rt,et!==a););},mp_n_sin_cos:function(e){return[Math.cos(e),Math.sin(e)]},mp_set_controls:function(e,s,a,o,h,c,d,g){var _,b,$,j,_e;$=Math.abs(s.left_tension()),_=Math.abs(e.right_tension()),_e=this.mp_velocity(h,c,d,g,_),b=this.mp_velocity(d,g,h,c,$),(e.right_tension()<0||s.left_tension()<0)&&(h>=0&&d>=0||h<=0&&d<=0)&&(j=Math.abs(h)*g+Math.abs(d)*c,j>0&&(j*=1.00024414062,e.right_tension()<0&&this.mp_ab_vs_cd(Math.abs(d),this.FRACTION_ONE,_e,j)<0&&(_e=Math.abs(d)/j),s.left_tension()<0&&this.mp_ab_vs_cd(Math.abs(h),this.FRACTION_ONE,b,j)<0&&(b=Math.abs(h)/j))),e.rx=e.x+(a*c-o*h)*_e,e.ry=e.y+(o*c+a*h)*_e,s.lx=s.x-(a*g+o*d)*b,s.ly=s.y-(o*g-a*d)*b,e.rtype=this.MP_EXPLICIT,s.ltype=this.MP_EXPLICIT},mp_pyth_add:function(e,s){return Mat.hypot(e,s)},mp_curl_ratio:function(e,s,a){var o=1/s,h=1/a;return Math.min(4,((3-o)*o*o*e+h*h*h)/(o*o*o*e+(3-h)*h*h))},mp_ab_vs_cd:function(e,s,a,o){return e*s===a*o?0:e*s>a*o?1:-1},mp_velocity:function(e,s,a,o,h){return Math.min(4,(2+Math.sqrt(2)*(e-a/16)*(a-e/16)*(s-o))/(1.5*h*(2+(Math.sqrt(5)-1)*s+(3-Math.sqrt(5))*o)))},reduce_angle:function(e){return Math.abs(e)>this.ONE_EIGHTY_DEG&&(e>0?e-=this.THREE_SIXTY_DEG:e+=this.THREE_SIXTY_DEG),e},makeknots:function(e,s){var a,o,h=[];for(o=e.length,a=0;a<o;a++)h.push({x:e[a][0],y:e[a][1],ltype:this.MP_OPEN,rtype:this.MP_OPEN,lx:!1,rx:!1,ly:s,ry:s,left_curl:function(){return this.lx||0},right_curl:function(){return this.rx||0},left_tension:function(){return this.ly||1},right_tension:function(){return this.ry||1},set_right_curl:function(c){this.rx=c||0},set_left_curl:function(c){this.lx=c||0}});for(o=h.length,a=0;a<o;a++)h[a].next=h[a+1]||h[a],h[a].set_right_given=h[a].set_right_curl,h[a].set_left_given=h[a].set_left_curl,h[a].right_given=h[a].right_curl,h[a].left_given=h[a].left_curl;return h[o-1].next=h[0],h},curve:function(e,s){var a,o,h,c,d,g,_=!1,b=[],$=[];s=s||{tension:1,direction:{},curl:{},isClosed:!1},d=1,s.hasOwnProperty("tension")&&(d=JXG$1.evaluate(s.tension)),a=this.makeknots(e,d),o=a.length,JXG$1.exists(s.isClosed)&&JXG$1.evaluate(s.isClosed)&&(_=!0),_||(a[0].ltype=this.MP_ENDPOINT,a[0].rtype=this.MP_CURL,a[o-1].rtype=this.MP_ENDPOINT,a[o-1].ltype=this.MP_CURL);for(c in s)if(s.hasOwnProperty(c)){if(h=parseInt(c,10),isNaN(h)||h<0||h>=o)continue;if(g=s[h],JXG$1.exists(g.type))switch(g.type){case"curl":d=JXG$1.evaluate(g.curl),h===0?(a[h].rtype=this.MP_CURL,a[h].set_right_curl(d)):h===o-1?(a[h].ltype=this.MP_CURL,a[h].set_left_curl(d)):(a[h].ltype=this.MP_CURL,a[h].rtype=this.MP_CURL,a[h].lx=d,a[h].rx=d);break}JXG$1.exists(g.direction)&&(d=JXG$1.evaluate(g.direction),JXG$1.isArray(d)?(d[0]!==!1&&(a[h].lx=d[0]*Math.PI/180,a[h].ltype=this.MP_GIVEN),d[1]!==!1&&(a[h].rx=d[1]*Math.PI/180,a[h].rtype=this.MP_GIVEN)):(a[h].lx=d*Math.PI/180,a[h].rx=d*Math.PI/180,a[h].ltype=a[h].rtype=this.MP_GIVEN)),JXG$1.exists(g.tension)&&(d=JXG$1.evaluate(g.tension),JXG$1.isArray(d)?(d[0]!==!1&&(a[h].ly=JXG$1.evaluate(d[0])),d[1]!==!1&&(a[h].ry=JXG$1.evaluate(d[1]))):(a[h].ly=d,a[h].ry=d))}for(this.make_choices(a),h=0;h<o-1;h++)b.push(a[h].x),b.push(a[h].rx),b.push(a[h+1].lx),$.push(a[h].y),$.push(a[h].ry),$.push(a[h+1].ly);return b.push(a[o-1].x),$.push(a[o-1].y),_&&(b.push(a[o-1].rx),$.push(a[o-1].ry),b.push(a[0].lx),$.push(a[0].ly),b.push(a[0].x),$.push(a[0].y)),[b,$]}};const Metapost=Mat.Metapost;Mat.Clip={_isSeparator:function(e){return isNaN(e.coords.usrCoords[1])&&isNaN(e.coords.usrCoords[2])},makeDoublyLinkedList:function(e){var s,a=null,o=[],h=e.length;if(h>0)for(s=0;s<h;s++){if(this._isSeparator(e[s])){e[s]._next=e[(s+1)%h],e[s]._prev=e[(h+s-1)%h];continue}a===null&&(a=s,o.push(a)),this._isSeparator(e[(s+1)%h])||s===h-1?(e[s]._next=e[a],e[a]._prev=e[s],e[s]._end=!0,a=null):(e[s]._next=e[(s+1)%h],e[a]._prev=e[s]),this._isSeparator(e[(h+s-1)%h])||(e[s]._prev=e[(h+s-1)%h])}return o},Vertex:function(e,s,a,o,h,c){this.pos=s,this.intersection=!0,this.coords=e,this.elementClass=Const.OBJECT_CLASS_POINT,this.data={alpha:a,path:o,pathname:h,done:!1,type:c,idx:0},this.neighbour=null,this.entry_exit=!1},_addToList:function(e,s,a){var o=e.length,h=Mat.eps*Mat.eps;o>0&&Math.abs(e[o-1].coords.usrCoords[0]-s.usrCoords[0])<h&&Math.abs(e[o-1].coords.usrCoords[1]-s.usrCoords[1])<h&&Math.abs(e[o-1].coords.usrCoords[2]-s.usrCoords[2])<h||e.push({pos:a,intersection:!1,coords:s,elementClass:Const.OBJECT_CLASS_POINT})},sortIntersections:function(e){var s,a,o,h,c,d,g=[],_=e.length;for(s=0;s<_;s++)if(e[s].sort(function(b,$){return b.data.alpha>$.data.alpha?1:-1}),e[s].length>0){for(c=e[s].length-1,o=e[s][0],h=o.data.path[o.pos],d=h._next,s===_-1&&(h._end=!1),o.data.alpha===0&&o.data.type==="T"?(h.intersection=!0,h.data=o.data,h.neighbour=o.neighbour,h.neighbour.neighbour=h,h.entry_exit=!1,e[s][0]=h):(o._prev=h,o._prev._next=o),a=1;a<=c;a++)o=e[s][a],o._prev=e[s][a-1],o._prev._next=o;o=e[s][c],o._next=d,o._next._prev=o,s===_-1&&(o._end=!0),g=g.concat(e[s])}return g},_inbetween:function(e,s,a){var o,h=Mat.eps*Mat.eps,c=a[1]-s[1],d=a[2]-s[2],g=e[1]-s[1],_=e[2]-s[2];return c===0&&d===0&&g===0&&_===0?!0:(Math.abs(g)<h&&Math.abs(c)<h?o=_/d:o=g/c,Math.abs(o)<h&&(o=0),o)},_print_array:function(e){var s,a;for(s=0;s<e.length;s++)try{a="",e[s]._end&&(a=" end"),console.log(s,e[s].coords.usrCoords,e[s].data.type,"	","prev",e[s]._prev.coords.usrCoords,"next",e[s]._next.coords.usrCoords+a)}catch{console.log(s,e[s].coords.usrCoords)}},_print_list:function(e){for(var s=0,a;s<100&&(e.data?a=e.data.alpha:a="-",console.log("	",e.coords.usrCoords,`
		is:`,e.intersection,"end:",e._end,a,`
		-:`,e._prev.coords.usrCoords,`
		+:`,e._next.coords.usrCoords,`
		n:`,e.intersection?e.neighbour.coords.usrCoords:"-"),!e._end);)e=e._next,s++},_noOverlap:function(e,s,a,o){var h,c=Math.sqrt(Mat.eps),d,g,_,b,$=!1;for(h=0;h<3;h++)if(d=Math.min(e[h],s[h]),g=Math.max(e[h],s[h]),_=Math.min(a[h],o[h]),b=Math.max(a[h],o[h]),g<_-c||d>b+c){$=!0;break}return $},findIntersections:function(e,s,a){var o=[],h=Mat.eps*100,c,d,g,_=e.length,b=s.length,$,j,_e,et,tt,it,at,nt,st,rt,lt=[],ot=[],ht=[],ct=[],ut=!1,dt=!1;for(d=0;d<b;d++)ct.push([]);for(c=0;c<_;c++){if(ht.push([]),this._isSeparator(e[c])||this._isSeparator(e[(c+1)%_])){ut=!0;continue}if(ut&&c===_-1)break;for($=e[c].coords.usrCoords,j=e[(c+1)%_].coords.usrCoords,d=0;d<b;d++){if(this._isSeparator(s[d])||this._isSeparator(s[(d+1)%b])){dt=!0;continue}if(dt&&d===b-1)break;if(_e=s[d].coords.usrCoords,et=s[(d+1)%b].coords.usrCoords,!this._noOverlap($,j,_e,et)&&(o=Geometry.meetSegmentSegment($,j,_e,et),tt=Geometry.distance($,j,3),it=Geometry.distance(_e,et,3),o[1]*tt>-h&&o[1]<1-h/tt&&o[2]*it>-h&&o[2]<1-h/it||o[1]===1/0&&o[2]===1/0&&Mat.norm(o[0],3)<h)){if(g=new Coords(Const.COORDS_BY_USER,o[0],a),nt="X",Math.abs(o[1])*tt<h||Math.abs(o[2])*it<h)nt="T",Math.abs(o[1])*tt<h&&(o[1]=0),Math.abs(o[2])*it<h&&(o[2]=0),o[1]===0?g=new Coords(Const.COORDS_BY_USER,$,a):g=new Coords(Const.COORDS_BY_USER,_e,a);else if(o[1]===1/0&&o[2]===1/0&&Mat.norm(o[0],3)<h){at=this._inbetween($,_e,et),at>=0&&at<1&&(nt="T",g=new Coords(Const.COORDS_BY_USER,$,a),o[1]=0,o[2]=at,st=new this.Vertex(g,c,o[1],e,"S",nt),rt=new this.Vertex(g,d,o[2],s,"C",nt),st.neighbour=rt,rt.neighbour=st,ht[c].push(st),ct[d].push(rt)),at=this._inbetween(_e,$,j),Geometry.distance($,_e,3)>h&&at>=0&&at<1&&(nt="T",g=new Coords(Const.COORDS_BY_USER,_e,a),o[1]=at,o[2]=0,st=new this.Vertex(g,c,o[1],e,"S",nt),rt=new this.Vertex(g,d,o[2],s,"C",nt),st.neighbour=rt,rt.neighbour=st,ht[c].push(st),ct[d].push(rt));continue}st=new this.Vertex(g,c,o[1],e,"S",nt),rt=new this.Vertex(g,d,o[2],s,"C",nt),st.neighbour=rt,rt.neighbour=st,ht[c].push(st),ct[d].push(rt)}}}for(lt=this.sortIntersections(ht),c=0;c<lt.length;c++)lt[c].data.idx=c,lt[c].neighbour.data.idx=c;return ot=this.sortIntersections(ct),[lt,ot]},_getPosition:function(e,s,a,o){var h=Geometry.det3p(e,s,a),c=Geometry.det3p(e,a,o),d=Geometry.det3p(s,a,o);return d>=0?h>=0&&c>=0?"left":"right":h>=0||c>=0?"left":"right"},_classifyDegenerateIntersections:function(e){var s,a,o,h,c,d,g,_,b,$,j,_e,et,tt,it=!0;for(b=Geometry.det3p,g=0,e._tours=0;it;){if(e.intersection&&e.data.type==="T"&&(s=e._next.coords.usrCoords,a=e._prev.coords.usrCoords,Geometry.distance(e.coords.usrCoords,s,3)<Mat.eps&&(s=e._next._next.coords.usrCoords),Geometry.distance(e.coords.usrCoords,a,3)<Mat.eps&&(a=e._prev._prev.coords.usrCoords),c=e.neighbour,h=c._prev.coords.usrCoords,o=c._next.coords.usrCoords,Geometry.distance(c.coords.usrCoords,o,3)<Mat.eps&&(o=c._next._next.coords.usrCoords),Geometry.distance(c.coords.usrCoords,h,3)<Mat.eps&&(h=c._prev._prev.coords.usrCoords),j=b(e.coords.usrCoords,a,h),_e=b(e.coords.usrCoords,s,o),et=b(e.coords.usrCoords,a,o),tt=b(e.coords.usrCoords,s,h),j===0&&_e===0&&et===0&&tt===0&&(e.coords.usrCoords[1]*=1+Math.random()*Mat.eps,e.coords.usrCoords[2]*=1+Math.random()*Mat.eps,c.coords.usrCoords[1]=e.coords.usrCoords[1],c.coords.usrCoords[2]=e.coords.usrCoords[2],j=b(e.coords.usrCoords,a,h),_e=b(e.coords.usrCoords,s,o),et=b(e.coords.usrCoords,a,o),tt=b(e.coords.usrCoords,s,h)),$=!1,j===0?Geometry.affineRatio(e.coords.usrCoords,a,h)<0&&($=!0):_e===0?Geometry.affineRatio(e.coords.usrCoords,s,o)<0&&($=!0):et===0?Geometry.affineRatio(e.coords.usrCoords,a,o)>0&&($=!0):tt===0&&Geometry.affineRatio(e.coords.usrCoords,s,h)>0&&($=!0),$&&(_=h,h=o,o=_,_=j,j=et,et=_,_=_e,_e=tt,tt=_),JXG$1.exists(e.delayedStatus)||(e.delayedStatus=[]),j===0&&_e===0?e.delayedStatus=["on","on"]:j===0?(d=this._getPosition(s,h,c.coords.usrCoords,o),e.delayedStatus=["on",d]):_e===0?(d=this._getPosition(a,h,c.coords.usrCoords,o),e.delayedStatus=[d,"on"]):e.delayedStatus.length===0&&(this._getPosition(a,h,c.coords.usrCoords,o)!==this._getPosition(s,h,c.coords.usrCoords,o)?e.data.type="X":e.data.type="B")),JXG$1.exists(e._tours)&&e._tours++,e._tours>3||e._end||g>1e3){g>1e3&&console.log("Clipping: _classifyDegenerateIntersections exit"),JXG$1.exists(e._tours)&&delete e._tours;break}e.intersection&&g++,e=e._next}},_handleIntersectionChains:function(e){for(var s=0,a="Null",o,h=!0,c=!1,d=!1;h&&(e.intersection===!0&&(e.data.type==="T"&&(e.delayedStatus[0]!=="on"&&e.delayedStatus[1]==="on"?(c=!0,o=e,a=e.delayedStatus[0]):c&&e.delayedStatus[0]==="on"&&e.delayedStatus[1]==="on"?e.data.type="B":c&&e.delayedStatus[0]==="on"&&e.delayedStatus[1]!=="on"&&(c=!1,a===e.delayedStatus[1]?(o.data.type="DB",e.data.type="DB"):(o.data.type="DX",e.data.type="DX"))),s++),e._end&&(d=!0),!(d&&!c));){if(s>1e3){console.log("Warning: _handleIntersectionChains: intersection chain reached maximum numbers of iterations");break}e=e._next}},_handleFullyDegenerateCase:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st=[e,s];for(c=0;c<2;c++){for(o=st[c],et=o.length,j=0,nt=!0;j<et;j++)if(!o[j].intersection){nt=!1;break}if(nt)for(h=st[(c+1)%2],tt=h.length,j=0;j<et;j++){for(_=o[j].coords.usrCoords,b=o[j]._next.coords.usrCoords,d=[(_[0]+b[0])*.5,(_[1]+b[1])*.5,(_[2]+b[2])*.5],_e=0,it=!1;_e<tt;_e++)if(Math.abs(Geometry.det3p(h[_e].coords.usrCoords,h[(_e+1)%tt].coords.usrCoords,d))<Mat.eps){it=!0;break}if(!it){g=new Coords(Const.COORDS_BY_USER,d,a),$={pos:j,intersection:!1,coords:g,elementClass:Const.OBJECT_CLASS_POINT},at=o[j]._next,o[j]._next=$,$._prev=o[j],$._next=at,at._prev=$,o[j]._end&&(o[j]._end=!1,$._end=!0);break}}}},_getStatus:function(e,s){for(var a;e.intersection&&!e._end;)e=e._next;return Geometry.windingNumber(e.coords.usrCoords,s)===0?a="entry":a="exit",[e,a]},markEntryExit:function(e,s,a){var o,h,c,d,g,_,b,$=!0,j=null,_e=0;for(_=a.length,g=0;g<_;g++)for(b=a[g],this._classifyDegenerateIntersections(e[b]),this._handleIntersectionChains(e[b]),d=this._getStatus(e[b],s),h=d[0],o=d[1],h._starter=!0,c=0,j=null,_e=0;$&&(h.intersection===!0&&(h.data.type==="X"&&_e===1&&(j.entry_exit=o,o==="exit"&&(j.data.type="X"),_e=2),(h.data.type==="X"||h.data.type==="DB")&&(h.entry_exit=o,o=o==="entry"?"exit":"entry"),h.data.type==="DX"&&(_e===0?(j=h,_e=1):_e===1?(h.entry_exit=o,j.entry_exit=o,o==="exit"?j.data.type="X":h.data.type="X",o=o==="entry"?"exit":"entry",j=null,_e=0):_e===2&&(h.entry_exit=o,h.data.type="X",o=o==="entry"?"exit":"entry",j=null,_e=0))),h=h._next,!(JXG$1.exists(h._starter)||c>1e4));)c++},_stayOnPath:function(e,s){var a=!0;return e.intersection&&e.data.type!=="B"&&(a=s===e.entry_exit),a},_addVertex:function(e,s,a){return!isNaN(s.coords.usrCoords[1])&&!isNaN(s.coords.usrCoords[2])&&e.push(s),s.intersection&&s.data.done?(a&&console.log("Add last intersection point",s.coords.usrCoords,"on",s.data.pathname,s.entry_exit,s.data.type),!0):(s.intersection&&(s.data.done=!0,a&&console.log("Add intersection point",s.coords.usrCoords,"on",s.data.pathname,s.entry_exit,s.data.type)),!1)},tracing:function(e,s,a){for(var o,h,c,d,g=0,_=1e4,b=0,$=[],j=!1,_e=!1;b<s.length&&g<_;){if(c=s[b],c.data.done||c.data.type!=="X"){b++;continue}$.length>0&&$.push([NaN,NaN]),d=c.data.idx,o=e,j=this._addVertex($,c,_e),h=c.entry_exit;do{if(j)break;if(a==="intersection"&&c.entry_exit==="entry"||a==="union"&&c.entry_exit==="exit"||a==="difference"&&o===e==(c.entry_exit==="exit")){do if(c=c._next,j=this._addVertex($,c,_e),j)break;while(this._stayOnPath(c,h));g++}else{do if(c=c._prev,j=this._addVertex($,c,_e),j)break;while(this._stayOnPath(c,h));g++}if(j)break;if(!c.neighbour)return console.log("Tracing: emergency break - no neighbour!!!!!!!!!!!!!!!!!",g),[[0],[0]];if(c=c.neighbour,c.data.done)break;c.data.done=!0,h=c.entry_exit,o=c.data.path}while(c.data.idx!==d&&g<_);g>=_&&console.log("Tracing: stopping an infinite loop!",g),b++}return this._getCoordsArrays($,!1)},isEmptyCase:function(e,s,a){return a==="intersection"&&(e.length===0||s.length===0)||a==="union"&&e.length===0&&s.length===0||a==="difference"&&e.length===0},_getCoordsArrays:function(e,s){var a=[],o=[],h,c=e.length;for(h=0;h<c;h++)e[h].coords?(a.push(e[h].coords.usrCoords[1]),o.push(e[h].coords.usrCoords[2])):(a.push(e[h][0]),o.push(e[h][1]));return s&&c>0&&(e[0].coords?(a.push(e[0].coords.usrCoords[1]),o.push(e[0].coords.usrCoords[2])):(a.push(e[0][0]),o.push(e[0][1]))),[a,o]},handleEmptyIntersection:function(e,s,a){var o,h,c=!1,d=[];if(e.length===0)return a==="union"?d=s:d=[],this._getCoordsArrays(d,!0);if(s.length===0)return a==="intersection"?d=[]:d=e,this._getCoordsArrays(d,!0);if(e.length>0)for(o=e[0];o.intersection&&(o=o._next,!o._end););if(s.length>0)for(h=s[0];h.intersection&&(h=h._next,!h._end););return Geometry.windingNumber(o.coords.usrCoords,s)===0?Geometry.windingNumber(h.coords.usrCoords,e)!==0?(a==="union"?(JXG$1.concat(d,e),d.push(e[0])):a==="difference"&&(JXG$1.concat(d,e),d.push(e[0]),Geometry.signedPolygon(e)*Geometry.signedPolygon(s)>0&&d.reverse(),d.push([NaN,NaN])),(a==="difference"||a==="intersection")&&(JXG$1.concat(d,s),d.push(s[0]),c=!1)):a==="difference"?(JXG$1.concat(d,e),c=!0):a==="union"&&(JXG$1.concat(d,e),d.push(e[0]),d.push([NaN,NaN]),JXG$1.concat(d,s),d.push(s[0])):a==="intersection"?(JXG$1.concat(d,e),c=!0):a==="union"&&(JXG$1.concat(d,s),d.push(s[0])),this._getCoordsArrays(d,c)},_countCrossingIntersections:function(e){var s,a=e.length,o=0;for(s=0;s<a;s++)e[s].data.type==="X"&&o++;return o},_getPath:function(e,s){var a,o,h,c,d,g,_,b=[];if(e.elementClass===Const.OBJECT_CLASS_CURVE&&(e.type===Const.OBJECT_TYPE_ARC||e.type===Const.OBJECT_TYPE_SECTOR)){for(d=Geometry.rad(e.radiuspoint,e.center,e.anglepoint),_=Math.floor(d*180/Math.PI),h=e.Radius(),c=d/_,g=Math.atan2(e.radiuspoint.coords.usrCoords[2]-e.center.coords.usrCoords[2],e.radiuspoint.coords.usrCoords[1]-e.center.coords.usrCoords[1]),e.type===Const.OBJECT_TYPE_SECTOR&&this._addToList(b,e.center.coords,0),a=0;a<=_;a++)this._addToList(b,new Coords(Const.COORDS_BY_USER,[e.center.coords.usrCoords[0],e.center.coords.usrCoords[1]+Math.cos(a*c+g)*h,e.center.coords.usrCoords[2]+Math.sin(a*c+g)*h],s),a+1);e.type===Const.OBJECT_TYPE_SECTOR&&this._addToList(b,e.center.coords,_+2)}else if(e.elementClass===Const.OBJECT_CLASS_CURVE&&JXG$1.exists(e.points))for(o=e.numberPoints,a=0;a<o;a++)this._addToList(b,e.points[a],a);else if(e.type===Const.OBJECT_TYPE_POLYGON)for(a=0;a<e.vertices.length;a++)this._addToList(b,e.vertices[a].coords,a);else if(e.elementClass===Const.OBJECT_CLASS_CIRCLE)for(_=359,h=e.Radius(),c=2*Math.PI/_,a=0;a<=_;a++)this._addToList(b,new Coords(Const.COORDS_BY_USER,[e.center.coords.usrCoords[0],e.center.coords.usrCoords[1]+Math.cos(a*c)*h,e.center.coords.usrCoords[2]+Math.sin(a*c)*h],s),a);else if(JXG$1.isArray(e))for(o=e.length,a=0;a<o;a++)JXG$1.exists(e[a].coords)?this._addToList(b,e[a].coords,a):JXG$1.isArray(e[a])?this._addToList(b,new Coords(Const.COORDS_BY_USER,e[a],s),a):JXG$1.exists(e[a].usrCoords)&&this._addToList(b,e[a],a);return b},greinerHormann:function(e,s,a,o){var h,c=[],d=[],g=[],_,b,$=[];return c=this._getPath(e,o),h=c.length,h>0&&Geometry.distance(c[0].coords.usrCoords,c[h-1].coords.usrCoords,3)<Mat.eps&&c.pop(),d=this._getPath(s,o),h=d.length,h>0&&Geometry.distance(d[0].coords.usrCoords,d[h-1].coords.usrCoords,3)<Mat.eps*Mat.eps&&d.pop(),this.isEmptyCase(c,d,a)?[[],[]]:(_=this.makeDoublyLinkedList(c),b=this.makeDoublyLinkedList(d),$=this.findIntersections(c,d,o),g=$[0],this._handleFullyDegenerateCase(c,d,o),this.markEntryExit(c,d,_),this.markEntryExit(d,c,b),this._countCrossingIntersections(g)===0?this.handleEmptyIntersection(c,d,a):this.tracing(c,g,a))},union:function(e,s,a){return this.greinerHormann(e,s,"union",a)},intersection:function(e,s,a){return this.greinerHormann(e,s,"intersection",a)},difference:function(e,s,a){return this.greinerHormann(e,s,"difference",a)}};const Clip=Mat.Clip;Mat.Poly={};Mat.Poly.Ring=function(e){this.vars=e};JXG$1.extend(Mat.Poly.Ring.prototype,{});Mat.Poly.Monomial=function(e,s,a){var o;if(!JXG$1.exists(e))throw new Error("JSXGraph error: In JXG.Math.Poly.monomial missing parameter 'ring'.");for(JXG$1.isArray(a)||(a=[]),a=a.slice(0,e.vars.length),o=a.length;o<e.vars.length;o++)a.push(0);this.ring=e,this.coefficient=s||0,this.exponents=JXG$1.deepCopy(a)};JXG$1.extend(Mat.Poly.Monomial.prototype,{copy:function(){return new Mat.Poly.Monomial(this.ring,this.coefficient,this.exponents)},print:function(){var e=[],s;for(s=0;s<this.ring.vars.length;s++)e.push(this.ring.vars[s]+"^"+this.exponents[s]);return this.coefficient+"*"+e.join("*")}});Mat.Poly.Polynomial=function(e,s){var a=function(){},o;if(!JXG$1.exists(e))throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial missing parameter 'ring'.");JXG$1.exists(s)&&JXG$1.isString(s)?o=a():o=[],this.ring=e,this.monomials=o};JXG$1.extend(Mat.Poly.Polynomial.prototype,{findSignature:function(e){var s;for(s=0;s<this.monomials.length;s++)if(JXG$1.cmpArrays(this.monomials[s].exponents,e))return s;return-1},addSubMonomial:function(e,s){var a;a=this.findSignature(e.exponents),a>-1?this.monomials[a].coefficient+=s*e.coefficient:(e.coefficient*=s,this.monomials.push(e))},add:function(e){var s;if(JXG$1.exists(e)&&e.ring===this.ring)if(JXG$1.isArray(e.exponents))this.addSubMonomial(e,1);else for(s=0;s<e.monomials.length;s++)this.addSubMonomial(e.monomials[s],1);else throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.add either summand is undefined or rings don't match.")},sub:function(e){var s;if(JXG$1.exists(e)&&e.ring===this.ring)if(JXG$1.isArray(e.exponents))this.addSubMonomial(e,-1);else for(s=0;s<e.monomials.length;s++)this.addSubMonomial(e.monomials[s],-1);else throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.sub either summand is undefined or rings don't match.")},copy:function(){var e,s;for(s=new Mat.Poly.Polynomial(this.ring),e=0;e<this.monomials.length;e++)s.monomials.push(this.monomials[e].copy());return s},print:function(){var e=[],s;for(s=0;s<this.monomials.length;s++)e.push("("+this.monomials[s].print()+")");return e.join("+")}});Mat.Poly;JXG$1.Complex=function(e,s){this.isComplex=!0,e&&e.isComplex&&(s=e.imaginary,e=e.real),this.real=e||0,this.imaginary=s||0,this.absval=0,this.angle=0};JXG$1.extend(JXG$1.Complex.prototype,{toString:function(){return this.real+" + "+this.imaginary+"i"},add:function(e){return JXG$1.isNumber(e)?this.real+=e:(this.real+=e.real,this.imaginary+=e.imaginary),this},sub:function(e){return JXG$1.isNumber(e)?this.real-=e:(this.real-=e.real,this.imaginary-=e.imaginary),this},mult:function(e){var s,a;return JXG$1.isNumber(e)?(this.real*=e,this.imaginary*=e):(s=this.real,a=this.imaginary,this.real=s*e.real-a*e.imaginary,this.imaginary=s*e.imaginary+a*e.real),this},div:function(e){var s,a,o;if(JXG$1.isNumber(e)){if(Math.abs(e)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;this.real/=e,this.imaginary/=e}else{if(Math.abs(e.real)<Math.eps&&Math.abs(e.imaginary)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;s=e.real*e.real+e.imaginary*e.imaginary,o=this.real,a=this.imaginary,this.real=(o*e.real+a*e.imaginary)/s,this.imaginary=(a*e.real-o*e.imaginary)/s}return this},conj:function(){return this.imaginary*=-1,this}});JXG$1.C={};JXG$1.C.add=function(e,s){var a=new JXG$1.Complex(e);return a.add(s),a};JXG$1.C.sub=function(e,s){var a=new JXG$1.Complex(e);return a.sub(s),a};JXG$1.C.mult=function(e,s){var a=new JXG$1.Complex(e);return a.mult(s),a};JXG$1.C.div=function(e,s){var a=new JXG$1.Complex(e);return a.div(s),a};JXG$1.C.conj=function(e){var s=new JXG$1.Complex(e);return s.conj(),s};JXG$1.C.abs=function(e){var s=new JXG$1.Complex(e);return s.conj(),s.mult(e),Math.sqrt(s.real)};JXG$1.C.copy=function(e){return new JXG$1.Complex(e)};JXG$1.Complex.C=JXG$1.C;const Complex=JXG$1.Complex;var simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},colorDefs=[{re:/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d.]{1,3})\s*\)\s*$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}];JXG$1.rgbParser=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e=e,et;if(!JXG$1.exists(e))return[];if(JXG$1.exists(s)&&JXG$1.exists(a)&&(_e=[e,s,a]),o=_e,et=!1,JXG$1.isArray(o)){for(_=0;_<3;_++)et=et||/\./.test(_e[_].toString());for(_=0;_<3;_++)et=et&&_e[_]>=0&&_e[_]<=1;return et?[Math.ceil(_e[0]*255),Math.ceil(_e[1]*255),Math.ceil(_e[2]*255)]:_e}for(typeof _e=="string"&&(o=_e),o.charAt(0)==="#"&&(o=o.slice(1,7)),o=o.replace(/ /g,"").toLowerCase(),o=simpleColors[o]||o,_=0;_<colorDefs.length;_++)c=colorDefs[_].re,d=colorDefs[_].process,g=c.exec(o),g&&(h=d(g),b=h[0],$=h[1],j=h[2]);return isNaN(b)||isNaN($)||isNaN(j)?[]:(b=b<0||isNaN(b)?0:b>255?255:b,$=$<0||isNaN($)?0:$>255?255:$,j=j<0||isNaN(j)?0:j>255?255:j,[b,$,j])};JXG$1.isColor=function(e){var s=new Option().style;return s.color=e,s.color!==""};JXG$1.rgb2css=function(e,s,a){var o;return o=JXG$1.rgbParser(e,s,a),"rgb("+o[0]+", "+o[1]+", "+o[2]+")"};JXG$1.rgb2hex=function(e,s,a){var o,h,c;return o=JXG$1.rgbParser(e,s,a),h=o[1],c=o[2],o=o[0],o=o.toString(16),h=h.toString(16),c=c.toString(16),o.length===1&&(o="0"+o),h.length===1&&(h="0"+h),c.length===1&&(c="0"+c),"#"+o+h+c};JXG$1.hex2rgb=function(e){return JXG$1.deprecated("JXG.hex2rgb()","JXG.rgb2css()"),JXG$1.rgb2css(e)};JXG$1.hsv2rgb=function(e,s,a){var o,h,c,d,g,_,b,$,j;if(e=(e%360+360)%360,s===0)if(isNaN(e)||e<Mat.eps)o=a,h=a,c=a;else return"#ffffff";else switch(e>=360?_=0:_=e,_=_/60,g=Math.floor(_),d=_-g,b=a*(1-s),$=a*(1-s*d),j=a*(1-s*(1-d)),g){case 0:o=a,h=j,c=b;break;case 1:o=$,h=a,c=b;break;case 2:o=b,h=a,c=j;break;case 3:o=b,h=$,c=a;break;case 4:o=j,h=b,c=a;break;case 5:o=a,h=b,c=$;break}return o=Math.round(o*255).toString(16),o=o.length===2?o:o.length===1?"0"+o:"00",h=Math.round(h*255).toString(16),h=h.length===2?h:h.length===1?"0"+h:"00",c=Math.round(c*255).toString(16),c=c.length===2?c:c.length===1?"0"+c:"00",["#",o,h,c].join("")};JXG$1.rgb2hsv=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it;return o=JXG$1.rgbParser(e,s,a),h=o[1],c=o[2],o=o[0],d=o/255,g=h/255,_=c/255,tt=Math.max(o,h,c),it=Math.min(o,h,c),b=tt/255,$=it/255,et=b,_e=0,et>0&&(_e=(et-$)/et),j=1/(b-$),_e>0&&(tt===o?j=(g-_)*j:tt===h?j=2+(_-d)*j:j=4+(d-g)*j),j*=60,j<0&&(j+=360),tt===it&&(j=0),[j,_e,et]};JXG$1.rgb2LMS=function(e,s,a){var o,h,c,d,g,_,b,$=[[.05059983,.08585369,.0095242],[.01893033,.08925308,.01370054],[.00292202,.00975732,.07145979]];return o=JXG$1.rgbParser(e,s,a),h=o[1],c=o[2],o=o[0],o=Math.pow(o,.476190476),h=Math.pow(h,.476190476),c=Math.pow(c,.476190476),d=o*$[0][0]+h*$[0][1]+c*$[0][2],g=o*$[1][0]+h*$[1][1]+c*$[1][2],_=o*$[2][0]+h*$[2][1]+c*$[2][2],b=[d,g,_],b.l=d,b.m=g,b.s=_,b};JXG$1.LMS2rgb=function(e,s,a){var o,h,c,d,g=[[30.830854,-29.832659,1.610474],[-6.481468,17.715578,-2.532642],[-.37569,-1.199062,14.273846]],_=function(b){for(var $=127,j=64;j>0;){if(Math.pow($,.476190476)>b)$-=j;else{if(Math.pow($+1,.476190476)>b)return $;$+=j}j/=2}return $===254&&13.994955247<b?255:$};return o=e*g[0][0]+s*g[0][1]+a*g[0][2],h=e*g[1][0]+s*g[1][1]+a*g[1][2],c=e*g[2][0]+s*g[2][1]+a*g[2][2],o=_(o),h=_(h),c=_(c),d=[o,h,c],d.r=o,d.g=h,d.b=c,d};JXG$1.rgba2rgbo=function(e){var s;return e.length===9&&e.charAt(0)==="#"?(s=parseInt(e.slice(7,9).toUpperCase(),16)/255,e=e.slice(0,7)):s=1,[e,s]};JXG$1.rgbo2rgba=function(e,s){var a;return e==="none"||e==="transparent"?e:(a=Math.round(s*255).toString(16),a.length===1&&(a="0"+a),JXG$1.rgb2hex(e)+a)};JXG$1.rgb2bw=function(e){var s,a,o,h="0123456789ABCDEF";return e==="none"||(o=JXG$1.rgbParser(e),s=Math.floor(.3*o[0]+.59*o[1]+.11*o[2]),a=h.charAt(s>>4&15)+h.charAt(s&15),e="#"+a+a+a),e};JXG$1.rgb2cb=function(e,s){var a,o,h,c,d,g,_,b,$,j,_e,et,tt,it="0123456789ABCDEF";if(e==="none")return e;switch(d=JXG$1.rgb2LMS(e),o=d[0],h=d[1],c=d[2],s=s.toLowerCase(),s){case"protanopia":_=-.06150039994295001,b=.08277001656812001,$=-.013200141220000003,j=.05858939668799999,_e=-.07934519995360001,et=.013289415272000003,tt=.6903216543277437,g=c/h,g<tt?o=-(b*h+$*c)/_:o=-(_e*h+et*c)/j;break;case"tritanopia":_=-.00058973116217,b=.007690316482,$=-.01011703519052,j=.025495080838999994,_e=-.0422740347,et=.017005316784,tt=.8349489908460004,g=h/o,g<tt?c=-(_*o+b*h)/$:c=-(j*o+_e*h)/et;break;default:_=-.06150039994295001,b=.08277001656812001,$=-.013200141220000003,j=.05858939668799999,_e=-.07934519995360001,et=.013289415272000003,tt=.5763833686400911,g=c/o,g<tt?h=-(_*o+$*c)/b:h=-(j*o+et*c)/_e;break}return a=JXG$1.LMS2rgb(o,h,c),g=it.charAt(a[0]>>4&15)+it.charAt(a[0]&15),e="#"+g,g=it.charAt(a[1]>>4&15)+it.charAt(a[1]&15),e+=g,g=it.charAt(a[2]>>4&15)+it.charAt(a[2]&15),e+=g,e};JXG$1.shadeColor=function(e,s){var a=JXG$1.rgbParser(e),o=a[0],h=a[1],c=a[2];return o=parseInt(o+255*s),h=parseInt(h+255*s),c=parseInt(c+255*s),o=o>0?o:0,h=h>0?h:0,c=c>0?c:0,o=o<255?o:255,h=h<255?h:255,c=c<255?c:255,o=Math.round(o),h=Math.round(h),c=Math.round(c),JXG$1.rgb2hex([o,h,c])};JXG$1.lightenColor=function(e,s){return JXG$1.shadeColor(e,s)};JXG$1.darkenColor=function(e,s){return JXG$1.shadeColor(e,-1*s)};JXG$1.autoHighlight=function(e){var s=JXG$1.rgba2rgbo(e),a=s[0],o=s[1];return e.charAt(0)==="#"?(o<.3?o*=1.8:o*=.4,JXG$1.rgbo2rgba(a,o)):e};JXG$1.contrast=function(e,s,a,o){var h,c="#000000",d,g,_,b;return s=s||"#000000",a=a||"#ffffff",o=o||7,h=JXG$1.rgbParser(e),d=JXG$1.rgbParser(c),g=.2126*Math.pow(h[0]/255,2.2)+.7152*Math.pow(h[1]/255,2.2)+.0722*Math.pow(h[2]/255,2.2),_=.2126*Math.pow(d[0]/255,2.2)+.7152*Math.pow(d[1]/255,2.2)+.0722*Math.pow(d[2]/255,2.2),g>_?b=Math.floor((g+.05)/(_+.05)):b=Math.floor((_+.05)/(g+.05)),b=b-1,b>o?s:a};JXG$1.setClassicColors=function(){JXG$1.Options.elements.strokeColor="blue",JXG$1.Options.elements.fillColor="red",JXG$1.Options.hatch.strokeColor="blue",JXG$1.Options.angle.fillColor="#ff7f00",JXG$1.Options.angle.highlightFillColor="#ff7f00",JXG$1.Options.angle.strokeColor="#ff7f00",JXG$1.Options.angle.label.strokeColor="blue",JXG$1.Options.arc.strokeColor="blue",JXG$1.Options.circle.center.fillColor="red",JXG$1.Options.circle.center.strokeColor="blue",JXG$1.Options.circumcircle.strokeColor="blue",JXG$1.Options.circumcircle.center.fillColor="red",JXG$1.Options.circumcircle.center.strokeColor="blue",JXG$1.Options.circumcirclearc.strokeColor="blue",JXG$1.Options.circumcirclesector.strokeColor="blue",JXG$1.Options.circumcirclesector.fillColor="green",JXG$1.Options.circumcirclesector.highlightFillColor="green",JXG$1.Options.conic.strokeColor="blue",JXG$1.Options.curve.strokeColor="blue",JXG$1.Options.incircle.strokeColor="blue",JXG$1.Options.incircle.center.fillColor="red",JXG$1.Options.incircle.center.strokeColor="blue",JXG$1.Options.inequality.fillColor="red",JXG$1.Options.integral.fillColor="red",JXG$1.Options.integral.curveLeft.color="red",JXG$1.Options.integral.curveRight.color="red",JXG$1.Options.line.strokeColor="blue",JXG$1.Options.point.fillColor="red",JXG$1.Options.point.strokeColor="red",JXG$1.Options.polygon.fillColor="green",JXG$1.Options.polygon.highlightFillColor="green",JXG$1.Options.polygon.vertices.strokeColor="red",JXG$1.Options.polygon.vertices.fillColor="red",JXG$1.Options.regularpolygon.fillColor="green",JXG$1.Options.regularpolygon.highlightFillColor="green",JXG$1.Options.regularpolygon.vertices.strokeColor="red",JXG$1.Options.regularpolygon.vertices.fillColor="red",JXG$1.Options.riemannsum.fillColor="yellow",JXG$1.Options.sector.fillColor="green",JXG$1.Options.sector.highlightFillColor="green",JXG$1.Options.semicircle.center.fillColor="red",JXG$1.Options.semicircle.center.strokeColor="blue",JXG$1.Options.slopetriangle.fillColor="red",JXG$1.Options.slopetriangle.highlightFillColor="red",JXG$1.Options.turtle.arrow.strokeColor="blue"};JXG$1.extend(JXG$1,{paletteWong:{black:"#000000",orange:"#E69F00",skyblue:"#56B4E9",bluishgreen:"#009E73",yellow:"#F0E442",darkblue:"#0072B2",vermillion:"#D55E00",reddishpurple:"#CC79A7",blue:"#0072B2",red:"#D55E00",green:"#009E73",purple:"#CC79A7",white:"#ffffff"}});JXG$1.palette=JXG$1.paletteWong;JXG$1.Options={jc:{enabled:!0,compile:!0},board:{animationDelay:35,axis:!1,boundingBox:[-5,5,5,-5],browserPan:!1,clickDelay:600,dblClickSuppressClick:!1,defaultAxes:{x:{name:"x",fixed:!0,ticks:{label:{visible:"inherit",anchorX:"middle",anchorY:"top",fontSize:12,offset:[0,-3]},tickEndings:[0,1],majorTickEndings:[1,1],drawZero:!1,needsRegularUpdate:!1,visible:"inherit"}},y:{name:"y",fixed:!0,ticks:{label:{visible:"inherit",anchorX:"right",anchorY:"middle",fontSize:12,offset:[-6,0]},tickEndings:[1,0],majorTickEndings:[1,1],drawZero:!1,needsRegularUpdate:!1,visible:"inherit"}}},description:"",document:!1,drag:{enabled:!0},fullscreen:{symbol:'<svg height="1em" width="1em" version="1.1" viewBox="10 10 18 18"><path fill="#666" d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path><path fill="#666" d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path><path fill="#666" d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path><path fill="#666" d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path></svg>',scale:.85,id:null},ignoreLabels:!0,intl:{enabled:!1},keepAspectRatio:!1,keyboard:{enabled:!0,dx:10,dy:10,panShift:!0,panCtrl:!1},logging:{enabled:!1},minimizeReflow:"none",maxBoundingBox:[-1/0,1/0,1/0,-1/0],maxFrameRate:40,maxNameLength:1,moveTarget:null,offsetX:0,offsetY:0,pan:{enabled:!0,needShift:!0,needTwoFingers:!1},registerEvents:!0,renderer:"auto",resize:{enabled:!0,throttle:10},screenshot:{scale:1,type:"png",symbol:"⌘",css:"background-color:#eeeeee; opacity:1.0; border:2px solid black; border-radius:10px; text-align:center",cssButton:"padding: 4px 10px; border: solid #356AA0 1px; border-radius: 5px; position: absolute; right: 2ex; top: 2ex; background-color: rgba(255, 255, 255, 0.3);"},selection:{enabled:!1,name:"selectionPolygon",needShift:!1,needCtrl:!0,fillColor:"#ffff00",visible:!1,withLines:!1,vertices:{visible:!1}},showClearTraces:!1,showCopyright:!0,showFullscreen:!1,showInfobox:!0,showNavigation:!0,showReload:!1,showScreenshot:!1,showZoom:!0,takeFirst:!1,takeSizeFromFile:!1,theme:"default",title:"",viewport:[0,0,0,0],zoom:{enabled:!0,factorX:1.25,factorY:1.25,wheel:!0,needShift:!0,center:"auto",min:1e-4,max:1e4,pinch:!0,pinchHorizontal:!0,pinchVertical:!0,pinchSensitivity:7},zoomX:1,zoomY:1},navbar:{strokeColor:"#333333",fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},elements:{dash:0,dashScale:!1,draft:{draft:!1,strokeColor:"#565656",fillColor:"#565656",strokeOpacity:.8,fillOpacity:.8,strokeWidth:1},dragToTopOfLayer:!1,fillColor:JXG$1.palette.red,fillOpacity:1,fixed:!1,frozen:!1,gradient:null,gradientAngle:0,gradientCX:.5,gradientCY:.5,gradientEndOffset:1,gradientFX:.5,gradientFY:.5,gradientFR:0,gradientR:.5,gradientSecondColor:"#ffffff",gradientSecondOpacity:1,gradientStartOffset:0,highlight:!0,highlightFillColor:"none",highlightFillOpacity:1,highlightStrokeColor:"#c3d9ff",highlightStrokeOpacity:1,highlightStrokeWidth:2,isLabel:!1,layer:0,lineCap:"butt",needsRegularUpdate:!0,nonnegativeOnly:!1,precision:"inherit",priv:!1,rotatable:!0,scalable:!0,shadow:{enabled:!1,color:[0,0,0],opacity:1,blur:3,blend:.1,offset:[5,5]},snapToGrid:!1,strokeColor:JXG$1.palette.blue,strokeOpacity:1,strokeWidth:2,tabindex:0,trace:!1,traceAttributes:{},transitionDuration:100,transitionProperties:["fill","fill-opacity","stroke","stroke-opacity","stroke-width"],visible:!0,viewport:"inherit",withLabel:!1},ticks:{generateLabelText:null,generateLabelValue:null,drawLabels:!1,label:{},beautifulScientificTickLabels:!1,useUnicodeMinus:!0,anchor:"left",drawZero:!1,insertTicks:!1,minTicksDistance:10,minorHeight:4,majorHeight:10,tickEndings:[1,1],majorTickEndings:[1,1],ignoreInfiniteTickEndings:!0,minorTicks:4,ticksPerLabel:!1,scale:1,scaleSymbol:"",labels:[],maxLabelLength:5,precision:3,digits:3,ticksDistance:1,face:"|",strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"none",highlightFillColor:"none",visible:"inherit",includeBoundaries:!1,type:"linear",intl:{enabled:"inherit",options:{}},minorTicksInArrow:!1,majorTicksInArrow:!0,labelInArrow:!0,minorTicksInMargin:!1,majorTicksInMargin:!0,labelInMargin:!0},hatch:{drawLabels:!1,drawZero:!0,majorHeight:20,anchor:"middle",face:"|",strokeWidth:2,strokeColor:JXG$1.palette.blue,ticksDistance:.2},precision:{touch:30,touchMax:100,mouse:4,pen:4,epsilon:1e-4,hasPoint:4},layer:{numlayers:20,unused9:19,unused8:18,unused7:17,unused6:16,unused5:15,unused4:14,unused3:13,unused2:12,unused1:11,unused0:10,text:9,point:9,glider:9,arc:8,line:7,circle:6,curve:5,turtle:5,polygon:3,sector:3,angle:3,integral:3,axis:2,ticks:2,grid:1,image:0,trace:0},angle:{withLabel:!0,radius:"auto",type:"sector",orthoType:"square",orthoSensitivity:1,fillColor:JXG$1.palette.orange,highlightFillColor:JXG$1.palette.orange,strokeColor:JXG$1.palette.orange,fillOpacity:.3,highlightFillOpacity:.3,radiuspoint:{withLabel:!1,visible:!1,name:""},pointsquare:{withLabel:!1,visible:!1,name:""},dot:{visible:!1,strokeColor:"none",fillColor:"#000000",size:2,face:"o",withLabel:!1,name:""},label:{position:"top",offset:[0,0],strokeColor:JXG$1.palette.blue},arc:{visible:!1,fillColor:"none"}},arc:{selection:"auto",hasInnerPoints:!1,label:{anchorX:"auto",anchorY:"auto"},firstArrow:!1,lastArrow:!1,fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",useDirection:!1,center:{},radiusPoint:{},anglePoint:{}},arrow:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},arrowparallel:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},axis:{name:"",needsRegularUpdate:!1,strokeWidth:1,lastArrow:{type:1,highlightSize:8,size:8},strokeColor:"#666666",highlightStrokeWidth:1,highlightStrokeColor:"#888888",position:"static",anchor:"",anchorDist:"10%",ticksAutoPos:!1,ticksAutoPosThreshold:"5%",withTicks:!0,straightFirst:!0,straightLast:!0,margin:-4,withLabel:!1,scalable:!1,ticks:{label:{offset:[4,-9],parse:!1,needsRegularUpdate:!1,display:"internal",visible:"inherit",layer:9},visible:"inherit",needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeColor:"#888888",drawLabels:!0,drawZero:!1,insertTicks:!0,minTicksDistance:5,minorHeight:10,majorHeight:-1,tickEndings:[0,1],majorTickEndings:[1,1],minorTicks:4,ticksDistance:1,strokeOpacity:.25},point1:{needsRegularUpdate:!1,visible:!1},point2:{needsRegularUpdate:!1,visible:!1},tabindex:-1,label:{position:"lft",offset:[10,10]}},bisector:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},bisectorlines:{line1:{strokeColor:"#000000"},line2:{strokeColor:"#000000"}},boxplot:{dir:"vertical",smallWidth:.5,strokeWidth:2,strokeColor:JXG$1.palette.blue,fillColor:JXG$1.palette.blue,fillOpacity:.2,highlightStrokeWidth:2,highlightStrokeColor:JXG$1.palette.blue,highlightFillColor:JXG$1.palette.blue,highlightFillOpacity:.1},button:{disabled:!1,display:"html"},cardinalspline:{createPoints:!0,isArrayOfCoordinates:!0,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},chart:{chartStyle:"line",colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],highlightcolors:null,fillcolor:null,highlightonsector:!1,highlightbysize:!1,fillOpacity:.6,withLines:!1,label:{}},checkbox:{disabled:!1,checked:!1,display:"html"},circle:{hasInnerPoints:!1,fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,name:""},point2:{fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},label:{position:"urt"}},circumcircle:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},circumcirclearc:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,name:""}},circumcirclesector:{useDirection:!0,fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},comb:{frequency:.2,width:.4,angle:Math.PI/3,reverse:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},strokeWidth:1,strokeColor:"#0000ff",fillColor:"none"},conic:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",foci:{fixed:!1,visible:!1,withLabel:!1,name:""},center:{visible:!1,withLabel:!1,name:""},point:{withLabel:!1,name:""},line:{visible:!1}},curve:{strokeWidth:1,strokeColor:JXG$1.palette.blue,fillColor:"none",fixed:!0,curveType:null,doAdvancedPlot:!0,doAdvancedPlotOld:!1,firstArrow:!1,handDrawing:!1,label:{position:"lft"},lastArrow:!1,lineCap:"round",numberPointsHigh:1600,numberPointsLow:400,plotVersion:2,recursionDepthHigh:17,recursionDepthLow:15},foreignobject:{fixed:!0,visible:!0,needsRegularUpdate:!1,attractors:[]},functiongraph:{},glider:{label:{}},grid:{needsRegularUpdate:!1,hasGrid:!1,highlight:!1,gridX:null,gridY:null,majorStep:"auto",minorElements:0,forceSquare:!1,includeBoundaries:!1,size:void 0,face:void 0,margin:void 0,drawZero:void 0,polygonVertices:void 0,major:{size:5,face:"line",margin:0,drawZero:!0,polygonVertices:6},minor:{visible:"inherit",size:3,face:"point",margin:0,drawZero:!0,polygonVertices:6},snapToGrid:!1,strokeColor:"#c0c0c0",strokeWidth:1,strokeOpacity:.5,dash:0,theme:0,themes:[{},{forceSquare:"min",major:{face:"line"}},{major:{face:"line"},minor:{size:3,face:"point"},minorElements:"auto"},{major:{face:"line"},minor:{face:"line",strokeOpacity:.25},minorElements:"auto"},{major:{face:"line"},minor:{face:"+",size:"95%"},minorElements:"auto"},{major:{face:"+",size:10,strokeOpacity:1},minor:{face:"point",size:3},minorElements:"auto"},{major:{face:"circle",size:8,fillColor:"#c0c0c0"},minor:{face:"point",size:3},minorElements:"auto"}]},group:{needsRegularUpdate:!0},htmlslider:{widthRange:100,widthOut:34,step:.01,frozen:!0,isLabel:!1,strokeColor:"#000000",display:"html",anchorX:"left",anchorY:"middle",withLabel:!1},image:{imageString:null,fillOpacity:1,highlightFillOpacity:.6,cssClass:"JXGimage",highlightCssClass:"JXGimageHighlight",rotate:0,snapSizeX:1,snapSizeY:1,attractors:[]},implicitcurve:{margin:1,resolution_outer:5,resolution_inner:5,max_steps:1024,alpha_0:.05,tol_u0:Mat.eps,tol_newton:1e-7,tol_cusp:.05,tol_progress:1e-4,qdt_box:.2,kappa_0:.2,delta_0:.05,h_initial:.1,h_critical:.001,h_max:1,loop_dist:.09,loop_dir:.99,loop_detection:!0},incircle:{fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},inequality:{fillColor:JXG$1.palette.red,fillOpacity:.2,strokeColor:"none",inverse:!1},infobox:{distanceX:-20,distanceY:25,intl:{enabled:"inherit",options:{}},fontSize:12,isLabel:!1,strokeColor:"#bbbbbb",display:"html",anchorX:"left",anchorY:"middle",cssClass:"JXGinfobox",rotate:0,visible:!0,parse:!1,transitionDuration:0,needsRegularUpdate:!1,tabindex:null,viewport:[0,0,0,0]},integral:{axis:"x",withLabel:!0,fixed:!0,strokeWidth:0,strokeOpacity:0,fillColor:JXG$1.palette.red,fillOpacity:.3,highlightFillColor:JXG$1.palette.red,highlightFillOpacity:.2,curveLeft:{visible:!0,withLabel:!1,color:JXG$1.palette.red,fillOpacity:.8,layer:9},baseLeft:{visible:!1,fixed:!1,withLabel:!1,name:""},curveRight:{visible:!0,withLabel:!1,color:JXG$1.palette.red,fillOpacity:.8,layer:9},baseRight:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{fontSize:20,digits:4,intl:{enabled:!1,options:{}}}},input:{disabled:!1,maxlength:524288,display:"html"},intersection:{alwaysIntersect:!0},label:{visible:"inherit",strokeColor:"#000000",strokeOpacity:1,highlightStrokeOpacity:.666666,highlightStrokeColor:"#000000",fixed:!0,position:"urt",distance:1.5,offset:[10,10],autoPosition:!1,autoPositionMinDistance:12,autoPositionMaxDistance:28,autoPositionWhitelist:[]},legend:{style:"vertical",labels:["1","2","3","4","5","6","7","8"],colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],rowHeight:20,strokeWidth:5},line:{firstArrow:!1,lastArrow:!1,margin:0,straightFirst:!0,straightLast:!0,fillColor:"none",highlightFillColor:"none",strokeColor:JXG$1.palette.blue,highlightStrokeColor:"#c3d9ff",withTicks:!1,point1:{fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},point2:{fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},ticks:{drawLabels:!0,label:{offset:[4,-9]},drawZero:!1,insertTicks:!1,ticksDistance:1,minTicksDistance:50,minorHeight:4,majorHeight:-1,minorTicks:4,strokeOpacity:.3,visible:"inherit"},label:{position:"llft"},snapToGrid:!1,snapSizeX:1,snapSizeY:1,touchFirstPoint:!1,touchLastPoint:!1},locus:{translateToOrigin:!1,translateTo10:!1,stretch:!1,toOrigin:null,to10:null},measurement:{baseUnit:"",units:{},dim:null,showPrefix:!0,showSuffix:!0,prefix:"",suffix:"",formatPrefix:function(e){return e},formatSuffix:function(e){return e},formatCoords:function(e,s,a){return parseFloat(a)!==1?"(NaN | NaN)":"("+e+", "+s+")"},formatDirection:function(e,s){return"("+e+", "+s+")"}},metapostspline:{createPoints:!0,isArrayOfCoordinates:!0,points:{strokeOpacity:.5,fillOpacity:.5,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},mirrorelement:{fixed:!0,point:{},center:{},type:"Euclidean"},nonreflexangle:{},normal:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},orthogonalprojection:{},otherintersection:{alwaysIntersect:!0,precision:.001},parallel:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{position:"llft"}},parallelogram:{parallelpoint:{withLabel:!1,name:""}},parallelpoint:{},perpendicular:{strokeColor:"#000000",straightFirst:!0,straightLast:!0},perpendicularsegment:{strokeColor:"#000000",straightFirst:!1,straightLast:!1,point:{visible:!1,fixed:!0,withLabel:!1,name:""}},point:{withLabel:!0,label:{},style:5,face:"o",size:3,sizeUnit:"screen",strokeWidth:2,transitionProperties:["fill","fill-opacity","stroke","stroke-opacity","stroke-width","width","height","rx","ry"],fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",zoom:!1,showInfobox:"inherit",infoboxDigits:"auto",draft:!1,attractors:[],attractorUnit:"user",attractorDistance:0,snatchDistance:0,snapToGrid:!1,attractToGrid:!1,snapSizeX:1,snapSizeY:1,snapToPoints:!1,ignoredSnapToPoints:[]},polygon:{hasInnerPoints:!1,fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"},visible:"inherit"},highlightByStrokeWidth:!1,vertices:{layer:9,withLabel:!1,name:"",strokeColor:JXG$1.palette.red,fillColor:JXG$1.palette.red,fixed:!1,visible:"inherit"},label:{offset:[0,0]}},polygonalchain:{fillColor:"none",highlightFillColor:"none"},prescribedangle:{anglePoint:{size:2,visible:!1,withLabel:!1}},reflection:{fixed:!0,center:{},type:"Euclidean"},reflexangle:{},regularpolygon:{hasInnerPoints:!1,fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!0,strokeColor:JXG$1.palette.red,fillColor:JXG$1.palette.red,fixed:!1},label:{offset:[0,0]}},riemannsum:{withLabel:!1,fillOpacity:.3,fillColor:JXG$1.palette.yellow},sector:{fillColor:JXG$1.palette.yellow,highlightFillColor:JXG$1.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,highlightOnSector:!1,highlightStrokeWidth:0,selection:"auto",arc:{visible:!1,fillColor:"none",withLabel:!1,name:"",center:{visible:!1,withLabel:!1,name:""},radiusPoint:{visible:!1,withLabel:!1,name:""},anglePoint:{visible:!1,withLabel:!1,name:""}},radiusPoint:{visible:!1,withLabel:!1},center:{visible:!1,withLabel:!1},anglePoint:{visible:!1,withLabel:!1},label:{offset:[0,0],anchorX:"auto",anchorY:"auto"}},segment:{label:{position:"top"}},semicircle:{center:{visible:!1,withLabel:!1,fixed:!1,fillColor:JXG$1.palette.red,strokeColor:JXG$1.palette.red,highlightFillColor:"#eeeeee",highlightStrokeColor:JXG$1.palette.red,name:""}},slider:{snapWidth:-1,snapValues:[],snapValueDistance:0,precision:2,digits:2,intl:{enabled:"inherit",options:{}},firstArrow:!1,lastArrow:!1,withTicks:!0,withLabel:!0,suffixLabel:null,unitLabel:null,postLabel:null,layer:9,showInfobox:!1,name:"",visible:!0,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"#ffffff",highlightFillColor:"none",size:6,point1:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},point2:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},baseline:{needsRegularUpdate:!1,visible:"inherit",fixed:!0,scalable:!1,tabindex:null,name:"",strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888"},ticks:{needsRegularUpdate:!1,fixed:!0,drawLabels:!1,digits:2,includeBoundaries:!0,drawZero:!0,label:{offset:[-4,-14],display:"internal"},minTicksDistance:30,insertTicks:!0,ticksDistance:1,minorHeight:4,majorHeight:5,minorTicks:0,strokeOpacity:1,strokeWidth:1,tickEndings:[0,1],majortickEndings:[0,1],strokeColor:"#000000",visible:"inherit"},highline:{strokeWidth:3,visible:"inherit",fixed:!0,tabindex:null,name:"",strokeColor:"#000000",highlightStrokeColor:"#888888"},label:{visible:"inherit",strokeColor:"#000000"},moveOnUp:!0},slopefield:{strokeWidth:.5,highlightStrokeWidth:.5,highlightStrokeColor:JXG$1.palette.blue,highlightStrokeOpacity:.8,scale:1,arrowhead:{enabled:!1,size:5,angle:Math.PI*.125}},slopetriangle:{fillColor:JXG$1.palette.red,fillOpacity:.4,highlightFillColor:JXG$1.palette.red,highlightFillOpacity:.3,borders:{lastArrow:{type:1,size:6}},glider:{fixed:!0,visible:!1,withLabel:!1},baseline:{visible:!1,withLabel:!1,name:""},basepoint:{visible:!1,withLabel:!1,name:""},tangent:{visible:!1,withLabel:!1,name:""},toppoint:{visible:!1,withLabel:!1,name:""},label:{visible:!0,position:"first"}},smartlabelangle:{cssClass:"smart-label-solid smart-label-angle",highlightCssClass:"smart-label-solid smart-label-angle",anchorX:"left",anchorY:"middle",unit:"",prefix:"",suffix:"",measure:"deg",useMathJax:!0},smartlabelcircle:{cssClass:"smart-label-solid smart-label-circle",highlightCssClass:"smart-label-solid smart-label-circle",anchorX:"middle",useMathJax:!0,unit:"",prefix:"",suffix:"",measure:"radius"},smartlabelline:{cssClass:"smart-label-solid smart-label-line",highlightCssClass:"smart-label-solid smart-label-line",anchorX:"middle",useMathJax:!0,unit:"",measure:"length"},smartlabelpoint:{cssClass:"smart-label-solid smart-label-point",highlightCssClass:"smart-label-solid smart-label-point",anchorX:"middle",anchorY:"top",useMathJax:!0,dir:"row",unit:""},smartlabelpolygon:{cssClass:"smart-label-solid smart-label-polygon",highlightCssClass:"smart-label-solid smart-label-polygon",anchorX:"middle",useMathJax:!0,unit:"",measure:"area"},stepfunction:{},tangent:{},tangentto:{polar:{visible:!1,strokeWidth:1,dash:3},point:{visible:!1}},tapemeasure:{strokeColor:"#000000",strokeWidth:2,highlightStrokeColor:"#000000",withTicks:!0,withLabel:!0,rotate:0,precision:2,digits:2,point1:{visible:!0,strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},point2:{visible:!0,strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},ticks:{drawLabels:!1,drawZero:!0,insertTicks:!0,ticksDistance:.1,minorHeight:8,majorHeight:16,minorTicks:4,tickEndings:[0,1],majorTickEndings:[0,1],strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",visible:"inherit",label:{anchorY:"top",anchorX:"middle",offset:[0,-10]}},label:{position:"top"}},text:{fontSize:12,fontUnit:"px",formatNumber:!1,digits:2,intl:{enabled:"inherit",options:{minimumFractionDigits:0,maximumFractionDigits:2}},parse:!0,useCaja:!1,isLabel:!1,strokeColor:"#000000",highlightStrokeColor:"#000000",highlightStrokeOpacity:.666666,cssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",highlightCssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",cssStyle:"",highlightCssStyle:"",transitionProperties:["color","opacity"],useASCIIMathML:!1,useMathJax:!1,useKatex:!1,katexMacros:{},toFraction:!1,display:"html",anchor:null,anchorX:"left",anchorY:"middle",cssClass:"JXGtext",highlightCssClass:"JXGtext",dragArea:"all",withLabel:!1,rotate:0,visible:!0,snapSizeX:1,snapSizeY:1,attractors:[]},tracecurve:{strokeColor:"#000000",fillColor:"none",numberPoints:100},turtle:{strokeWidth:1,fillColor:"none",strokeColor:"#000000",arrow:{strokeWidth:2,withLabel:!1,strokeColor:JXG$1.palette.red,lastArrow:!0}},vectorfield:{strokeWidth:.5,highlightStrokeWidth:.5,highlightStrokeColor:JXG$1.palette.blue,highlightStrokeOpacity:.8,scale:1,arrowhead:{enabled:!0,size:5,angle:Math.PI*.125}},shortcuts:{color:["strokeColor","fillColor"],opacity:["strokeOpacity","fillOpacity"],highlightColor:["highlightStrokeColor","highlightFillColor"],highlightOpacity:["highlightStrokeOpacity","highlightFillOpacity"],strokeWidth:["strokeWidth","highlightStrokeWidth"]}};JXG$1.Validator=function(){var e,s=function(et){return/^[0-9]+px$/.test(et)},a=function(et){return et==="html"||et==="internal"},o=function(et){return JXG$1.isString(et)},h=function(et){return JXG$1.exists(JXG$1.normalizePointFace(et))},c=function(et){return Math.abs(et-Math.round(et))<Mat.eps},d=function(et){return c(et)&&et>=0},g=function(et){return c(et)&&et>0},_=function(et){return et==="vml"||et==="svg"||et==="canvas"||et==="no"},b=function(et){return et>0},$=function(et){return et>=0},j={},_e={attractorDistance:$,color:o,display:a,doAdvancedPlot:!1,draft:!1,drawLabels:!1,drawZero:!1,face:h,factor:JXG$1.isNumber,fillColor:o,fillOpacity:JXG$1.isNumber,firstArrow:!1,fontSize:c,dash:c,gridX:JXG$1.isNumber,gridY:JXG$1.isNumber,hasGrid:!1,highlightFillColor:o,highlightFillOpacity:JXG$1.isNumber,highlightStrokeColor:o,highlightStrokeOpacity:JXG$1.isNumber,insertTicks:!1,lastArrow:!1,layer:d,majorHeight:c,minorHeight:c,minorTicks:$,minTicksDistance:g,numberPointsHigh:g,numberPointsLow:g,opacity:JXG$1.isNumber,radius:JXG$1.isNumber,RDPsmoothing:!1,renderer:_,right:s,showCopyright:!1,showInfobox:!1,showNavigation:!1,size:$,snapSizeX:b,snapSizeY:b,snapWidth:JXG$1.isNumber,snapToGrid:!1,snatchDistance:$,straightFirst:!1,straightLast:!1,stretch:!1,strokeColor:o,strokeOpacity:JXG$1.isNumber,strokeWidth:$,takeFirst:!1,takeSizeFromFile:!1,to10:!1,toOrigin:!1,translateTo10:!1,translateToOrigin:!1,useASCIIMathML:!1,useDirection:!1,useMathJax:!1,withLabel:!1,withTicks:!1,zoom:!1};for(e in _e)_e.hasOwnProperty(e)&&(j[e.toLowerCase()]=_e[e]);return j}();JXG$1.normalizePointFace=function(e){var s={cross:"x",x:"x",circle:"o",o:"o",square:"[]","[]":"[]",plus:"+","+":"+",divide:"|","|":"|",minus:"-","-":"-",diamond:"<>","<>":"<>",diamond2:"<<>>","<<>>":"<<>>",triangleup:"^",A:"^",a:"^","^":"^",triangledown:"v",v:"v",triangleleft:"<","<":"<",triangleright:">",">":">"};return s[e]};JXG$1.useStandardOptions=function(e){var s,a,o,h,c=JXG$1.Options,d=e.hasGrid;e.options.grid.hasGrid=c.grid.hasGrid,e.options.grid.gridX=c.grid.gridX,e.options.grid.gridY=c.grid.gridY,e.options.grid.gridColor=c.grid.gridColor,e.options.grid.gridOpacity=c.grid.gridOpacity,e.options.grid.gridDash=c.grid.gridDash,e.options.grid.snapToGrid=c.grid.snapToGrid,e.options.grid.snapSizeX=c.grid.SnapSizeX,e.options.grid.snapSizeY=c.grid.SnapSizeY,e.takeSizeFromFile=c.takeSizeFromFile,h=function(g,_){g.visProp.fillcolor=_.fillColor,g.visProp.highlightfillcolor=_.highlightFillColor,g.visProp.strokecolor=_.strokeColor,g.visProp.highlightstrokecolor=_.highlightStrokeColor};for(s in e.objects)if(e.objects.hasOwnProperty(s))if(o=e.objects[s],o.elementClass===Const.OBJECT_CLASS_POINT)h(o,c.point);else if(o.elementClass===Const.OBJECT_CLASS_LINE)for(h(o,c.line),a=0;a<o.ticks.length;a++)o.ticks[a].majorTicks=c.line.ticks.majorTicks,o.ticks[a].minTicksDistance=c.line.ticks.minTicksDistance,o.ticks[a].visProp.minorheight=c.line.ticks.minorHeight,o.ticks[a].visProp.majorheight=c.line.ticks.majorHeight;else o.elementClass===Const.OBJECT_CLASS_CIRCLE?h(o,c.circle):o.type===Const.OBJECT_TYPE_ANGLE?h(o,c.angle):o.type===Const.OBJECT_TYPE_ARC?h(o,c.arc):o.type===Const.OBJECT_TYPE_POLYGON?h(o,c.polygon):o.type===Const.OBJECT_TYPE_CONIC?h(o,c.conic):o.type===Const.OBJECT_TYPE_CURVE?h(o,c.curve):o.type===Const.OBJECT_TYPE_SECTOR&&(o.arc.visProp.fillcolor=c.sector.fillColor,o.arc.visProp.highlightfillcolor=c.sector.highlightFillColor,o.arc.visProp.fillopacity=c.sector.fillOpacity,o.arc.visProp.highlightfillopacity=c.sector.highlightFillOpacity);e.fullUpdate(),d&&!e.hasGrid?e.removeGrids(e):!d&&e.hasGrid&&e.create("grid",[])};JXG$1.useBlackWhiteOptions=function(e){var s=JXG$1.Options;s.point.fillColor=JXG$1.rgb2bw(s.point.fillColor),s.point.highlightFillColor=JXG$1.rgb2bw(s.point.highlightFillColor),s.point.strokeColor=JXG$1.rgb2bw(s.point.strokeColor),s.point.highlightStrokeColor=JXG$1.rgb2bw(s.point.highlightStrokeColor),s.line.fillColor=JXG$1.rgb2bw(s.line.fillColor),s.line.highlightFillColor=JXG$1.rgb2bw(s.line.highlightFillColor),s.line.strokeColor=JXG$1.rgb2bw(s.line.strokeColor),s.line.highlightStrokeColor=JXG$1.rgb2bw(s.line.highlightStrokeColor),s.circle.fillColor=JXG$1.rgb2bw(s.circle.fillColor),s.circle.highlightFillColor=JXG$1.rgb2bw(s.circle.highlightFillColor),s.circle.strokeColor=JXG$1.rgb2bw(s.circle.strokeColor),s.circle.highlightStrokeColor=JXG$1.rgb2bw(s.circle.highlightStrokeColor),s.arc.fillColor=JXG$1.rgb2bw(s.arc.fillColor),s.arc.highlightFillColor=JXG$1.rgb2bw(s.arc.highlightFillColor),s.arc.strokeColor=JXG$1.rgb2bw(s.arc.strokeColor),s.arc.highlightStrokeColor=JXG$1.rgb2bw(s.arc.highlightStrokeColor),s.polygon.fillColor=JXG$1.rgb2bw(s.polygon.fillColor),s.polygon.highlightFillColor=JXG$1.rgb2bw(s.polygon.highlightFillColor),s.sector.fillColor=JXG$1.rgb2bw(s.sector.fillColor),s.sector.highlightFillColor=JXG$1.rgb2bw(s.sector.highlightFillColor),s.curve.strokeColor=JXG$1.rgb2bw(s.curve.strokeColor),s.grid.gridColor=JXG$1.rgb2bw(s.grid.gridColor),JXG$1.useStandardOptions(e)};JXG$1.Options.normalizePointFace=JXG$1.normalizePointFace;const Options=JXG$1.Options;JXG$1.AbstractRenderer=function(){this.vOffsetText=0,this.enhancedRendering=!0,this.container=null,this.type="",this.supportsForeignObject=!1,this.dashArray=[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5],[0,5]]};JXG$1.extend(JXG$1.AbstractRenderer.prototype,{_updateVisual:function(e,s,a){(a||this.enhancedRendering)&&(s=s||{},this.setObjectViewport(e),this.setObjectTransition(e),JXG$1.evaluate(e.visProp.draft)?this.setDraft(e):(s.stroke||(e.highlighted?(this.setObjectStrokeColor(e,e.visProp.highlightstrokecolor,e.visProp.highlightstrokeopacity),this.setObjectStrokeWidth(e,e.visProp.highlightstrokewidth)):(this.setObjectStrokeColor(e,e.visProp.strokecolor,e.visProp.strokeopacity),this.setObjectStrokeWidth(e,e.visProp.strokewidth))),s.fill||(e.highlighted?this.setObjectFillColor(e,e.visProp.highlightfillcolor,e.visProp.highlightfillopacity):this.setObjectFillColor(e,e.visProp.fillcolor,e.visProp.fillopacity)),s.dash||this.setDashStyle(e,e.visProp),s.shadow||this.setShadow(e),s.tabindex||this.setTabindex(e)))},_getHighlighted:function(e){var s=!1,a;return(!JXG$1.exists(e.board)||!JXG$1.exists(e.board.highlightedObjects))&&(s=!0),!s&&JXG$1.exists(e.board.highlightedObjects[e.id])?a="highlight":a="",a},drawPoint:function(e){var s,a=Options.normalizePointFace(JXG$1.evaluate(e.visProp.face));a==="o"?s="ellipse":a==="[]"?s="rect":s="path",e.rendNode=this.appendChildPrim(this.createPrim(s,e.id),JXG$1.evaluate(e.visProp.layer)),this.appendNodesToElement(e,s),this._updateVisual(e,{dash:!0,shadow:!0},!0),this.updatePoint(e)},updatePoint:function(e){var s=JXG$1.evaluate(e.visProp.size),a=Options.normalizePointFace(JXG$1.evaluate(e.visProp.face)),o=JXG$1.evaluate(e.visProp.sizeunit),h=JXG$1.evaluate(e.visProp.zoom),c;isNaN(e.coords.scrCoords[2]+e.coords.scrCoords[1])||(o==="user"&&(s*=Math.sqrt(Math.abs(e.board.unitX*e.board.unitY))),s*=!e.board||!h?1:Math.sqrt(e.board.zoomX*e.board.zoomY),c=s===0?0:s+1,a==="o"?this.updateEllipsePrim(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2],c,c):a==="[]"?this.updateRectPrim(e.rendNode,e.coords.scrCoords[1]-s,e.coords.scrCoords[2]-s,s*2,s*2):this.updatePathPrim(e.rendNode,this.updatePathStringPoint(e,s,a),e.board),this._updateVisual(e,{dash:!1,shadow:!1}),this.setShadow(e))},changePointStyle:function(e){var s=this.getElementById(e.id);JXG$1.exists(s)&&this.remove(s),this.drawPoint(e),JXG$1.clearVisPropOld(e),e.visPropCalc.visible||this.display(e,!1),JXG$1.evaluate(e.visProp.draft)&&this.setDraft(e)},drawLine:function(e){e.rendNode=this.appendChildPrim(this.createPrim("line",e.id),JXG$1.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"lines"),this.updateLine(e)},updateLine:function(e){this._updateVisual(e),this.updatePathWithArrowHeads(e),this.setLineCap(e)},drawCurve:function(e){e.rendNode=this.appendChildPrim(this.createPrim("path",e.id),JXG$1.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"path"),this.updateCurve(e)},updateCurve:function(e){this._updateVisual(e),this.updatePathWithArrowHeads(e),this.setLineCap(e)},updatePathWithArrowHeads:function(e,s){var a=e.visProp,o=s?"highlight":"",h,c;s&&a.highlightstrokewidth?h=Math.max(JXG$1.evaluate(a.highlightstrokewidth),JXG$1.evaluate(a.strokewidth)):h=JXG$1.evaluate(a.strokewidth),c=this.getArrowHeadData(e,h,o),this.makeArrows(e,c),e.elementClass===Const.OBJECT_CLASS_LINE?this.updateLineWithEndings(e,c):e.elementClass===Const.OBJECT_CLASS_CURVE&&this.updatePath(e),this.setArrowSize(e,c)},getArrowHeadData:function(e,s,a){var o=Mat.eps,h,c,d=0,g=0,_=0,b=0,$=JXG$1.evaluate(e.visProp.firstarrow),j=JXG$1.evaluate(e.visProp.lastarrow),_e,et;return($||j)&&(JXG$1.exists($.type)?h=JXG$1.evaluate($.type):e.elementClass===Const.OBJECT_CLASS_LINE?h=1:h=7,JXG$1.exists(j.type)?c=JXG$1.evaluate(j.type):e.elementClass===Const.OBJECT_CLASS_LINE?c=1:c=7,$&&(et=6,JXG$1.exists($.size)&&(et=JXG$1.evaluate($.size)),a!==""&&JXG$1.exists($[a+"size"])&&(et=JXG$1.evaluate($[a+"size"])),_e=s*et,h===2?(_e*=.5,o+=s*et):h===3?(_e=s*et/3,o+=s):h===4||h===5||h===6?(_e=s*et/1.5,o+=s*et):h===7?(_e=0,et=10,o+=s):o+=s*et,d+=_e,_=et),j&&(et=6,JXG$1.exists(j.size)&&(et=JXG$1.evaluate(j.size)),a!==""&&JXG$1.exists(j[a+"size"])&&(et=JXG$1.evaluate(j[a+"size"])),_e=s*et,c===2?(_e*=.5,o+=s*et):c===3?(_e=s*et/3,o+=s):c===4||c===5||c===6?(_e=s*et/1.5,o+=s*et):c===7?(_e=0,et=10,o+=s):o+=s*et,g+=_e,b=et)),e.visPropCalc.typeFirst=h,e.visPropCalc.typeLast=c,{evFirst:$,evLast:j,typeFirst:h,typeLast:c,offFirst:d,offLast:g,sizeFirst:_,sizeLast:b,showFirst:1,showLast:1,minLen:o,strokeWidth:s}},updateLineWithEndings:function(e,s){var a,o,h=null;return a=new Coords(Const.COORDS_BY_USER,e.point1.coords.usrCoords,e.board),o=new Coords(Const.COORDS_BY_USER,e.point2.coords.usrCoords,e.board),h=JXG$1.evaluate(e.visProp.margin),Geometry.calcStraight(e,a,o,h),this.handleTouchpoints(e,a,o,s),this.getPositionArrowHead(e,a,o,s),this.updateLinePrim(e.rendNode,a.scrCoords[1],a.scrCoords[2],o.scrCoords[1],o.scrCoords[2],e.board),this},updatePath:function(e){return JXG$1.evaluate(e.visProp.handdrawing)?this.updatePathPrim(e.rendNode,this.updatePathStringBezierPrim(e),e.board):this.updatePathPrim(e.rendNode,this.updatePathStringPrim(e),e.board),this},getPositionArrowHead:function(e,s,a,o){var h,c,d,g,_;return(o.evFirst||o.evLast)&&(c=d=g=_=0,h=s.distance(Const.COORDS_BY_SCREEN,a),o.evFirst&&e.board.renderer.type!=="vml"&&(h>=o.minLen?(c=(a.scrCoords[1]-s.scrCoords[1])*o.offFirst/h,d=(a.scrCoords[2]-s.scrCoords[2])*o.offFirst/h):o.showFirst=0),o.evLast&&e.board.renderer.type!=="vml"&&(h>=o.minLen?(g=(a.scrCoords[1]-s.scrCoords[1])*o.offLast/h,_=(a.scrCoords[2]-s.scrCoords[2])*o.offLast/h):o.showLast=0),s.setCoordinates(Const.COORDS_BY_SCREEN,[s.scrCoords[1]+c,s.scrCoords[2]+d],!1,!0),a.setCoordinates(Const.COORDS_BY_SCREEN,[a.scrCoords[1]-g,a.scrCoords[2]-_],!1,!0)),this},handleTouchpoints:function(e,s,a,o){var h,c,d,g,_,b,$;return(o.evFirst||o.evLast)&&(d=g=_=b=$=0,h=JXG$1.evaluate(e.point1.visProp.size)+JXG$1.evaluate(e.point1.visProp.strokewidth),c=JXG$1.evaluate(e.point2.visProp.size)+JXG$1.evaluate(e.point2.visProp.strokewidth),o.evFirst&&JXG$1.evaluate(e.visProp.touchfirstpoint)&&JXG$1.evaluate(e.point1.visProp.visible)&&(d=s.distance(Const.COORDS_BY_SCREEN,a),g=(a.scrCoords[1]-s.scrCoords[1])*h/d,_=(a.scrCoords[2]-s.scrCoords[2])*h/d),o.evLast&&JXG$1.evaluate(e.visProp.touchlastpoint)&&JXG$1.evaluate(e.point2.visProp.visible)&&(d=s.distance(Const.COORDS_BY_SCREEN,a),b=(a.scrCoords[1]-s.scrCoords[1])*c/d,$=(a.scrCoords[2]-s.scrCoords[2])*c/d),s.setCoordinates(Const.COORDS_BY_SCREEN,[s.scrCoords[1]+g,s.scrCoords[2]+_],!1,!0),a.setCoordinates(Const.COORDS_BY_SCREEN,[a.scrCoords[1]-b,a.scrCoords[2]-$],!1,!0)),this},setArrowSize:function(e,s){return s.evFirst&&this._setArrowWidth(e.rendNodeTriangleStart,s.showFirst*s.strokeWidth,e.rendNode,s.sizeFirst),s.evLast&&this._setArrowWidth(e.rendNodeTriangleEnd,s.showLast*s.strokeWidth,e.rendNode,s.sizeLast),this},setLineCap:function(e){},drawTicks:function(e){e.rendNode=this.appendChildPrim(this.createPrim("path",e.id),JXG$1.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"path")},updateTicks:function(e){},drawEllipse:function(e){e.rendNode=this.appendChildPrim(this.createPrim("ellipse",e.id),JXG$1.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"ellipse"),this.updateEllipse(e)},updateEllipse:function(e){this._updateVisual(e);var s=e.Radius();Math.abs(e.center.coords.usrCoords[0])>Mat.eps&&!isNaN(s+e.center.coords.scrCoords[1]+e.center.coords.scrCoords[2])&&s*e.board.unitX<2e6&&this.updateEllipsePrim(e.rendNode,e.center.coords.scrCoords[1],e.center.coords.scrCoords[2],s*e.board.unitX,s*e.board.unitY),this.setLineCap(e)},drawPolygon:function(e){e.rendNode=this.appendChildPrim(this.createPrim("polygon",e.id),JXG$1.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"polygon"),this.updatePolygon(e)},updatePolygon:function(e){this._updateVisual(e,{stroke:!0,dash:!0}),this.updatePolygonPrim(e.rendNode,e)},displayCopyright:function(e,s){},drawInternalText:function(e){},updateInternalText:function(e){},drawText:function(e){var s,a,o,h;JXG$1.evaluate(e.visProp.display)==="html"&&JXG$1.isBrowser&&this.type!=="no"?(s=this.container.ownerDocument.createElement("div"),s.style.position="absolute",s.className=JXG$1.evaluate(e.visProp.cssclass),o=JXG$1.evaluate(e.visProp.layer),JXG$1.exists(o)||(o=0),this.container.style.zIndex===""?a=0:a=parseInt(this.container.style.zIndex,10),s.style.zIndex=a+o,this.container.appendChild(s),s.setAttribute("id",this.container.id+"_"+e.id)):s=this.drawInternalText(e),e.rendNode=s,e.htmlStr="",e.visProp.islabel&&JXG$1.exists(e.visProp.anchor)?(h=JXG$1.evaluate(e.visProp.anchor.visProp.visible),e.prepareUpdate().updateVisibility(h)):e.prepareUpdate().updateVisibility(),this.updateText(e)},updateText:function(e){var s=e.plaintext,a,o,h,c,d,g,_,b,$,j,_e;if(e.visPropCalc.visible)if(this.updateTextStyle(e,!1),JXG$1.evaluate(e.visProp.display)==="html"&&this.type!=="no"){if(isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])||(o=e.coords.scrCoords[1],o=Math.abs(o)<1e6?o:1e6,d=e.getAnchorX(),d==="right"?(a=e.board.canvasWidth-o,j="right"):d==="middle"?(a=o-.5*e.size[0],j="center"):(a=o,j="left"),e.visPropOld.left!==d+a&&(d==="right"?(e.rendNode.style.right=a+"px",e.rendNode.style.left="auto"):(e.rendNode.style.left=a+"px",e.rendNode.style.right="auto"),e.visPropOld.left=d+a),o=e.coords.scrCoords[2]+this.vOffsetText,o=Math.abs(o)<1e6?o:1e6,g=e.getAnchorY(),g==="bottom"?(a=e.board.canvasHeight-o,_e="bottom"):g==="middle"?(a=o-.5*e.size[1],_e="center"):(a=o,_e="top"),e.visPropOld.top!==g+a&&(g==="bottom"?(e.rendNode.style.top="auto",e.rendNode.style.bottom=a+"px"):(e.rendNode.style.bottom="auto",e.rendNode.style.top=a+"px"),e.visPropOld.top=g+a)),e.htmlStr!==s){try{e.type===JXG$1.OBJECT_TYPE_BUTTON?e.rendNodeButton.innerHTML=s:e.type===JXG$1.OBJECT_TYPE_CHECKBOX||e.type===JXG$1.OBJECT_TYPE_INPUT?e.rendNodeLabel.innerHTML=s:e.rendNode.innerHTML=s}catch{h=e.rendNode.parentNode,e.rendNode.parentNode.removeChild(e.rendNode),e.rendNode.innerHTML=s,h.appendChild(e.rendNode)}if(e.htmlStr=s,JXG$1.evaluate(e.visProp.usemathjax))try{MathJax.typeset?MathJax.typeset([e.rendNode]):MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.rendNode])}catch{JXG$1.debug("MathJax (not yet) loaded")}else if(JXG$1.evaluate(e.visProp.usekatex))try{e.rendNode.innerHTML.indexOf("<span")===0&&e.rendNode.innerHTML.indexOf("<label")>0&&(e.rendNode.innerHTML.indexOf("<checkbox")>0||e.rendNode.innerHTML.indexOf("<input")>0)?c=e.rendNodeLabel:e.rendNode.innerHTML.indexOf("<button")===0?c=e.rendNodeButton:c=e.rendNode,c&&katex.render(s,c,{macros:JXG$1.evaluate(e.visProp.katexmacros),throwOnError:!1})}catch{JXG$1.debug("KaTeX not loaded (yet)")}else if(JXG$1.evaluate(e.visProp.useasciimathml))try{AMprocessNode(e.rendNode,!1)}catch{JXG$1.debug("AsciiMathML not loaded (yet)")}}_=JXG$1.evaluate(e.visProp.rotate),_!==0&&(_*=Math.PI/180,b=Math.cos(_),$=Math.sin(_),e.rendNode.style.transform="matrix("+[b,-1*$,$,b,0,0].join(",")+")",e.rendNode.style["transform-origin"]=j+" "+_e),this.transformImage(e,e.transformations)}else this.updateInternalText(e)},_css2js:function(e){var s=[],a,o,h,c,d,g=JXG$1.trim(e).replace(/;$/,"").split(";");for(o=g.length,a=0;a<o;++a)JXG$1.trim(g[a])!==""&&(d=g[a].split(":"),h=JXG$1.trim(d[0].replace(/-([a-z])/gi,function(_,b){return b.toUpperCase()})),c=JXG$1.trim(d[1]),s.push({key:h,val:c}));return s},updateTextStyle:function(e,s){var a,o,h,c,d,g=e.visProp,_=JXG$1.isBrowser?g.display:"internal",b=["rendNode","rendNodeTag","rendNodeLabel"],$=b.length,j=JXG$1.evaluate(g.fontunit),_e,et,tt,it,at=["cssdefaultstyle","cssstyle"],nt=at.length;if(s?(h=g.highlightstrokecolor,o=g.highlightstrokeopacity,c=g.highlightcssclass):(h=g.strokecolor,o=g.strokeopacity,c=g.cssclass),this.type!=="no"&&(_==="html"||this.type!=="canvas")){for(tt=0;tt<nt;tt++)if(it=JXG$1.evaluate(g[(s?"highlight":"")+at[tt]]),it!==""&&e.visPropOld[at[tt]]!==it){for(_e=this._css2js(it),d=0;d<$;d++)if(JXG$1.exists(e[b[d]]))for(et in _e)_e.hasOwnProperty(et)&&(e[b[d]].style[_e[et].key]=_e[et].val);e.visPropOld[at[tt]]=it}if(a=JXG$1.evaluate(g.fontsize),e.visPropOld.fontsize!==a){e.needsSizeUpdate=!0;try{for(d=0;d<$;d++)JXG$1.exists(e[b[d]])&&(e[b[d]].style.fontSize=a+j)}catch{for(d=0;d<$;d++)JXG$1.exists(e[b[d]])&&(e[b[d]].style.fontSize=a)}e.visPropOld.fontsize=a}}return this.setTabindex(e),this.setObjectTransition(e),_==="html"&&this.type!=="no"?(this.setObjectViewport(e,!0),e.visPropOld.cssclass!==c&&(e.rendNode.className=c,e.visPropOld.cssclass=c,e.needsSizeUpdate=!0),this.setObjectStrokeColor(e,h,o)):this.updateInternalTextStyle(e,h,o),this},updateInternalTextStyle:function(e,s,a){this.setObjectStrokeColor(e,s,a)},drawImage:function(e){},updateImage:function(e){this.updateRectPrim(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1],e.size[0],e.size[1]),this.updateImageURL(e),this.transformImage(e,e.transformations),this._updateVisual(e,{stroke:!0,dash:!0},!0)},joinTransforms:function(e,s){var a,o=e.board.origin.scrCoords[1],h=e.board.origin.scrCoords[2],c=e.board.unitX,d=e.board.unitY,g=s.length,_=[[1,0,0],[-o/c,1/c,0],[h/d,0,-1/d]];for(a=0;a<g;a++)_=Mat.matMatMult(s[a].matrix,_);return _=Mat.matMatMult([[1,0,0],[o,c,0],[h,0,-d]],_),_},transformImage:function(e,s){},updateImageURL:function(e){},updateImageStyle:function(e,s){e.rendNode.className=JXG$1.evaluate(s?e.visProp.highlightcssclass:e.visProp.cssclass)},drawForeignObject:function(e){},updateForeignObject:function(e){},appendChildPrim:function(e,s){},appendNodesToElement:function(e,s){},createPrim:function(e,s){return null},remove:function(e){},makeArrows:function(e,s){},_setArrowWidth:function(e,s,a){},updateEllipsePrim:function(e,s,a,o,h){},updateLinePrim:function(e,s,a,o,h,c){},updatePathPrim:function(e,s,a){},updatePathStringPoint:function(e,s,a){},updatePathStringPrim:function(e){},updatePathStringBezierPrim:function(e){},updatePolygonPrim:function(e,s){},updateRectPrim:function(e,s,a,o,h){},setPropertyPrim:function(e,s,a){},setTabindex:function(e){var s;e.board.attr.keyboard.enabled&&JXG$1.exists(e.rendNode)&&(s=JXG$1.evaluate(e.visProp.tabindex),(!e.visPropCalc.visible||JXG$1.evaluate(e.visProp.fixed))&&(s=null),s!==e.visPropOld.tabindex&&(e.rendNode.setAttribute("tabindex",s),e.visPropOld.tabindex=s))},display:function(e,s){e&&(e.visPropOld.visible=s)},show:function(e){},hide:function(e){},setBuffering:function(e,s){},setDashStyle:function(e){},setDraft:function(e){if(JXG$1.evaluate(e.visProp.draft)){var s=e.board.options.elements.draft.color,a=e.board.options.elements.draft.opacity;this.setObjectViewport(e),this.setObjectTransition(e),e.type===Const.OBJECT_TYPE_POLYGON?this.setObjectFillColor(e,s,a):(e.elementClass===Const.OBJECT_CLASS_POINT?this.setObjectFillColor(e,s,a):this.setObjectFillColor(e,"none",0),this.setObjectStrokeColor(e,s,a),this.setObjectStrokeWidth(e,e.board.options.elements.draft.strokeWidth))}},removeDraft:function(e){this.setObjectViewport(e),this.setObjectTransition(e),e.type===Const.OBJECT_TYPE_POLYGON?this.setObjectFillColor(e,e.visProp.fillcolor,e.visProp.fillopacity):(e.type===Const.OBJECT_CLASS_POINT&&this.setObjectFillColor(e,e.visProp.fillcolor,e.visProp.fillopacity),this.setObjectStrokeColor(e,e.visProp.strokecolor,e.visProp.strokeopacity),this.setObjectStrokeWidth(e,e.visProp.strokewidth))},setGradient:function(e){},updateGradient:function(e){},setObjectTransition:function(e,s){},setObjectViewport:function(e,s){},setObjectFillColor:function(e,s,a){},setObjectStrokeColor:function(e,s,a){},setObjectStrokeWidth:function(e,s){},setShadow:function(e){},highlight:function(e,s){var a,o,h=e.visProp,c;if(this.setObjectViewport(e),this.setObjectTransition(e),!h.draft){if(e.type===Const.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(e,h.highlightfillcolor,h.highlightfillopacity),o=JXG$1.evaluate(h.highlightbystrokewidth),a=0;a<e.borders.length;a++)this.highlight(e.borders[a],!o);else e.elementClass===Const.OBJECT_CLASS_TEXT?this.updateTextStyle(e,!0):e.type===Const.OBJECT_TYPE_IMAGE?(this.updateImageStyle(e,!0),this.setObjectFillColor(e,h.highlightfillcolor,h.highlightfillopacity)):(this.setObjectStrokeColor(e,h.highlightstrokecolor,h.highlightstrokeopacity),this.setObjectFillColor(e,h.highlightfillcolor,h.highlightfillopacity));h.highlightstrokewidth&&!s&&(c=Math.max(JXG$1.evaluate(h.highlightstrokewidth),JXG$1.evaluate(h.strokewidth)),this.setObjectStrokeWidth(e,c),(e.elementClass===Const.OBJECT_CLASS_LINE||e.elementClass===Const.OBJECT_CLASS_CURVE)&&this.updatePathWithArrowHeads(e,!0))}return this},noHighlight:function(e){var s,a=e.visProp,o;if(this.setObjectViewport(e),this.setObjectTransition(e),!JXG$1.evaluate(e.visProp.draft)){if(e.type===Const.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(e,a.fillcolor,a.fillopacity),s=0;s<e.borders.length;s++)this.noHighlight(e.borders[s]);else e.elementClass===Const.OBJECT_CLASS_TEXT?this.updateTextStyle(e,!1):e.type===Const.OBJECT_TYPE_IMAGE?(this.updateImageStyle(e,!1),this.setObjectFillColor(e,a.fillcolor,a.fillopacity)):(this.setObjectStrokeColor(e,a.strokecolor,a.strokeopacity),this.setObjectFillColor(e,a.fillcolor,a.fillopacity));o=JXG$1.evaluate(a.strokewidth),this.setObjectStrokeWidth(e,o),(e.elementClass===Const.OBJECT_CLASS_LINE||e.elementClass===Const.OBJECT_CLASS_CURVE)&&this.updatePathWithArrowHeads(e,!1)}return this},suspendRedraw:function(){},unsuspendRedraw:function(){},drawNavigationBar:function(e,s){var a,o,h=function(d){d||(d=window.event),d.stopPropagation?d.stopPropagation():d.cancelBubble=!0},c=function(d,g,_,b){var $;_=_||"",$=a.createElement("span"),$.innerHTML=d,$.style.paddingLeft="7px",$.style.paddingRight="7px",$.classList!==void 0&&($.classList.add("JXG_navigation_button"),$.classList.add("JXG_navigation_button_"+b)),$.setAttribute("id",_+"_navigation_"+b),o.appendChild($),JXG$1.addEvent($,"click",function(j){return JXG$1.bind(g,e)(),!1},e),JXG$1.addEvent($,"pointerup",h,e),JXG$1.addEvent($,"pointerdown",h,e),JXG$1.addEvent($,"pointerleave",h,e),JXG$1.addEvent($,"mouseup",h,e),JXG$1.addEvent($,"mousedown",h,e),JXG$1.addEvent($,"touchend",h,e),JXG$1.addEvent($,"touchstart",h,e)};JXG$1.isBrowser&&this.type!=="no"&&(a=e.containerObj.ownerDocument,o=a.createElement("div"),o.setAttribute("id",e.container+"_navigationbar"),o.style.color=s.strokecolor,o.style.backgroundColor=s.fillcolor,o.style.padding=s.padding,o.style.position=s.position,o.style.fontSize=s.fontsize,o.style.cursor=s.cursor,o.style.zIndex=s.zindex,e.containerObj.appendChild(o),o.style.right=s.right,o.style.bottom=s.bottom,o.classList!==void 0&&o.classList.add("JXG_navigation"),e.attr.showfullscreen&&c(e.attr.fullscreen.symbol,function(){e.toFullscreen(e.attr.fullscreen.id)},e.container,"fullscreen"),e.attr.showscreenshot&&c(e.attr.screenshot.symbol,function(){window.setTimeout(function(){e.renderer.screenshot(e,"",!1)},330)},e.container,"screenshot"),e.attr.showreload&&c("↻",function(){e.reload()},e.container,"reload"),e.attr.showcleartraces&&c("⊗",function(){e.clearTraces()},e.container,"cleartraces"),e.attr.shownavigation&&(e.attr.showzoom&&(c("–",e.zoomOut,e.container,"out"),c("o",e.zoom100,e.container,"100"),c("+",e.zoomIn,e.container,"in")),c("←",e.clickLeftArrow,e.container,"left"),c("↓",e.clickUpArrow,e.container,"down"),c("↑",e.clickDownArrow,e.container,"up"),c("→",e.clickRightArrow,e.container,"right")))},getElementById:function(e){var s;return JXG$1.exists(this.container)?(s=this.container.id+"_"+e,JXG$1.exists(CSS)&&JXG$1.exists(CSS.escape)&&(s=CSS.escape(s)),this.container.querySelector("#"+s)):""},removeToInsertLater:function(e){var s=e.parentNode,a=e.nextSibling;if(s!==null)return s.removeChild(e),function(){a?s.insertBefore(e,a):s.appendChild(e)}},resize:function(e,s){},createTouchpoints:function(e){},showTouchpoint:function(e){},hideTouchpoint:function(e){},updateTouchpoint:function(e,s){},dumpToDataURI:function(e){},dumpToCanvas:function(e,s,a,o){},screenshot:function(e){},setLayer:function(e,s){}});const AbstractRenderer=JXG$1.AbstractRenderer;var UTF8_ACCEPT=0,UTF8D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];JXG$1.Util=JXG$1.Util||{};JXG$1.Util.UTF8={encode:function(e){var s,a,o="",h=e.length;if(e=e.replace(/\r\n/g,`
`),typeof unescape=="function"&&typeof encodeURIComponent=="function")return unescape(encodeURIComponent(e));for(s=0;s<h;s++)a=e.charCodeAt(s),a<128?o+=String.fromCharCode(a):a>127&&a<2048?(o+=String.fromCharCode(a>>6|192),o+=String.fromCharCode(a&63|128)):(o+=String.fromCharCode(a>>12|224),o+=String.fromCharCode(a>>6&63|128),o+=String.fromCharCode(a&63|128));return o},decode:function(e){var s,a,o,h=0,c=0,d=UTF8_ACCEPT,g=[],_=e.length,b=[];for(s=0;s<_;s++)a=e.charCodeAt(s),o=UTF8D[a],d!==UTF8_ACCEPT?c=a&63|c<<6:c=255>>o&a,d=UTF8D[256+d+o],d===UTF8_ACCEPT&&(c>65535?g.push(55232+(c>>10),56320+(c&1023)):g.push(c),h++,h%1e4===0&&(b.push(String.fromCharCode.apply(null,g)),g=[]));return b.push(String.fromCharCode.apply(null,g)),b.join("")},asciiCharCodeAt:function(e,s){var a=e.charCodeAt(s);if(a>255)switch(a){case 8364:a=128;break;case 8218:a=130;break;case 402:a=131;break;case 8222:a=132;break;case 8230:a=133;break;case 8224:a=134;break;case 8225:a=135;break;case 710:a=136;break;case 8240:a=137;break;case 352:a=138;break;case 8249:a=139;break;case 338:a=140;break;case 381:a=142;break;case 8216:a=145;break;case 8217:a=146;break;case 8220:a=147;break;case 8221:a=148;break;case 8226:a=149;break;case 8211:a=150;break;case 8212:a=151;break;case 732:a=152;break;case 8482:a=153;break;case 353:a=154;break;case 8250:a=155;break;case 339:a=156;break;case 382:a=158;break;case 376:a=159;break}return a}};const Encoding=JXG$1.Util.UTF8;var alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pad="=";JXG$1.Util=JXG$1.Util||{};JXG$1.Util.Base64={_getByte:function(e,s){return e.charCodeAt(s)&255},_getIndex:function(e,s){return alphabet.indexOf(e.charAt(s))},encode:function(e){var s,a,o,h,c,d=[];for(c=Encoding.encode(e),o=c.length,h=o%3,s=0;s<o-h;s+=3)a=this._getByte(c,s)<<16|this._getByte(c,s+1)<<8|this._getByte(c,s+2),d.push(alphabet.charAt(a>>18),alphabet.charAt(a>>12&63),alphabet.charAt(a>>6&63),alphabet.charAt(a&63));switch(h){case 1:a=this._getByte(c,o-1),d.push(alphabet.charAt(a>>2),alphabet.charAt(a<<4&63),pad,pad);break;case 2:a=this._getByte(c,o-2)<<8|this._getByte(c,o-1),d.push(alphabet.charAt(a>>10),alphabet.charAt(a>>4&63),alphabet.charAt(a<<2&63),pad);break}return d.join("")},decode:function(e,s){var a,o,h,c,d,g,_=[],b=[];if(a=e.replace(/[^A-Za-z0-9+/=]/g,""),h=a.length,h%4!==0)throw new Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(a.charAt(h-1)===pad&&(c=1,a.charAt(h-2)===pad&&(c=2),h-=4),o=0;o<h;o+=4)d=this._getIndex(a,o)<<18|this._getIndex(a,o+1)<<12|this._getIndex(a,o+2)<<6|this._getIndex(a,o+3),b.push(d>>16,d>>8&255,d&255),o%1e4===0&&(_.push(String.fromCharCode.apply(null,b)),b=[]);switch(c){case 1:d=this._getIndex(a,h)<<12|this._getIndex(a,h+1)<<6|this._getIndex(a,h+2),b.push(d>>10,d>>2&255);break;case 2:d=this._getIndex(a,o)<<6|this._getIndex(a,o+1),b.push(d>>4);break}return _.push(String.fromCharCode.apply(null,b)),g=_.join(""),s&&(g=Encoding.decode(g)),g},decodeAsArray:function(e){var s,a=this.decode(e),o=[],h=a.length;for(s=0;s<h;s++)o[s]=a.charCodeAt(s);return o}};const Base64=JXG$1.Util.Base64;JXG$1.FileReader={handleRemoteFile:function(e,s,a,o,h,c){var d=!1;try{d=new XMLHttpRequest,a.toLowerCase()==="raw"?d.overrideMimeType("text/plain; charset="+h):d.overrideMimeType("text/xml; charset="+h)}catch{try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch{try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch{d=!1}}}if(!d){JXG$1.debug("AJAX not activated!");return}d.open("GET",e,o),a.toLowerCase()==="raw"?this.cbp=function(){var g=d;g.readyState===4&&s(g.responseText)}:this.cbp=function(){var g=d,_="";g.readyState===4&&(JXG$1.exists(g.responseStream)&&(g.responseText.slice(0,2)==="PK"||Encoding.asciiCharCodeAt(g.responseText.slice(0,1),0)===31)?_=Base64.decode(jxgBinFileReader(g)):_=g.responseText,this.parseString(_,s,a,c))},this.cb=JXG$1.bind(this.cbp,this),d.onreadystatechange=this.cb;try{d.send(null)}catch{throw new Error("JSXGraph: A problem occurred while trying to read remote file '"+e+"'.")}},handleLocalFile:function(e,s,a,o,h,c){JXG$1.exists(o)||(o=!0),a.toLowerCase()==="raw"?this.cbp=function(g){s(g.target.result)}:this.cbp=function(g){var _=g.target.result;this.parseString(_,s,a,c)},this.cb=JXG$1.bind(this.cbp,this);var d=new FileReader;d.onload=this.cb,a.toLowerCase()==="raw"?d.readAsText(e):d.readAsText(e,h)},parseFileContent:function(e,s,a,o,h,c){JXG$1.isString(e)||FileReader===void 0?this.handleRemoteFile(e,s,a,o,h,c):this.handleLocalFile(e,s,a,o,h,c)},parseString:function(e,s,a,o){var h,c;if(a=a.toLowerCase(),h=JXG$1.readers[a],JXG$1.exists(h))c=new h(s,e),c.read();else if(a!=="jessiecode")throw new Error("JSXGraph: There is no reader available for '"+a+"'.");JXG$1.isFunction(o)&&o(s)}};!JXG$1.isMetroApp()&&JXG$1.isBrowser&&typeof navigator=="object"&&/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)&&document&&document.write&&document.write(`<script type="text/vbscript">
Function Base64Encode(inData)
  Const Base64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
  Dim cOut, sOut, I
  For I = 1 To LenB(inData) Step 3
    Dim nGroup, pOut, sGroup
    nGroup = &H10000 * AscB(MidB(inData, I, 1)) + _
      &H100 * MyASC(MidB(inData, I + 1, 1)) + MyASC(MidB(inData, I + 2, 1))
    nGroup = Oct(nGroup)
    nGroup = String(8 - Len(nGroup), "0") & nGroup
    pOut = Mid(Base64, CLng("&o" & Mid(nGroup, 1, 2)) + 1, 1) + _
      Mid(Base64, CLng("&o" & Mid(nGroup, 3, 2)) + 1, 1) + _
      Mid(Base64, CLng("&o" & Mid(nGroup, 5, 2)) + 1, 1) + _
      Mid(Base64, CLng("&o" & Mid(nGroup, 7, 2)) + 1, 1)
    sOut = sOut + pOut
  Next
  Select Case LenB(inData) Mod 3
    Case 1: '8 bit final
      sOut = Left(sOut, Len(sOut) - 2) + "=="
    Case 2: '16 bit final
      sOut = Left(sOut, Len(sOut) - 1) + "="
  End Select
  Base64Encode = sOut
End Function

Function MyASC(OneChar)
  If OneChar = "" Then MyASC = 0 Else MyASC = AscB(OneChar)
End Function

Function jxgBinFileReader(xhr)
    Dim byteString
    Dim b64String
    Dim i
    byteString = xhr.responseBody
    ReDim byteArray(LenB(byteString))
    For i = 1 To LenB(byteString)
        byteArray(i-1) = AscB(MidB(byteString, i, 1))
    Next
    b64String = Base64Encode(byteString)
    jxgBinFileReader = b64String
End Function
<\/script>
`);const FileReader$1=JXG$1.FileReader;JXG$1.GeonextParser={replacePow:function(e){var s,a,o,h,c,d,g,_,b,$,j,_e;for(e=e.replace(/(\s*)\^(\s*)/g,"^"),$=e.indexOf("^"),h=-1;$>=0&&$<e.length-1;){if(h===$)throw new Error("JSXGraph: Error while parsing expression '"+e+"'");if(h=$,b=e.slice(0,$),j=e.slice($+1),b.charAt(b.length-1)===")"){for(s=1,a=b.length-2;a>=0&&s>0;)o=b.charAt(a),o===")"?s++:o==="("&&(s-=1),a-=1;if(s===0){for(c="",g=b.substring(0,a+1),_=a;_>=0&&g.slice(_,_+1).match(/([\w.]+)/);)c=RegExp.$1+c,_-=1;c+=b.substring(a+1,b.length),c=c.replace(/([()+*%^\-/\][])/g,"\\$1")}else throw new Error("JSXGraph: Missing '(' in expression")}else c="[\\w\\.]+";if(j.match(/^([\w.]*\()/)){for(s=1,a=RegExp.$1.length;a<j.length&&s>0;)o=j.charAt(a),o===")"?s-=1:o==="("&&(s+=1),a+=1;if(s===0)d=j.substring(0,a),d=d.replace(/([()+*%^\-/[\]])/g,"\\$1");else throw new Error("JSXGraph: Missing ')' in expression")}else d="[\\w\\.]+";_e=new RegExp("("+c+")\\^("+d+")"),e=e.replace(_e,"pow($1,$2)"),$=e.indexOf("^")}return e},replaceIf:function(e){var s,a,o,h,c,d,g,_,b,$="",j=null,_e=null,et=null;if(o=e.indexOf("If("),o<0)return e;for(e=e.replace(/""/g,"0");o>=0;){for(s=e.slice(0,o),a=e.slice(o+3),c=1,h=0,d=-1,g=-1;h<a.length&&c>0;)_=a.charAt(h),_===")"?c-=1:_==="("?c+=1:_===","&&c===1&&(d<0?d=h:g=h),h+=1;if(b=a.slice(0,h-1),a=a.slice(h),d<0||g<0)return"";j=b.slice(0,d),_e=b.slice(d+1,g),et=b.slice(g+1),j=this.replaceIf(j),_e=this.replaceIf(_e),et=this.replaceIf(et),$+=s+"(("+j+")?("+_e+"):("+et+"))",e=a,j=null,_e=null,o=e.indexOf("If(")}return $+=a,$},replaceNameById:function(e,s,a){var o,h,c,d,g=0,_=["X","Y","L","V"],b=function($){return a?"$('"+$+"')":$};for(d=0;d<_.length;d++)for(g=e.indexOf(_[d]+"(");g>=0;)g>=0&&(o=e.indexOf(")",g+2),o>=0&&(h=e.slice(g+2,o),h=h.replace(/\\(['"])?/g,"$1"),c=s.elementsByName[h],c&&(e=e.slice(0,g+2)+(a?"$('":"")+b(c.id)+e.slice(o)))),o=e.indexOf(")",g+2),g=e.indexOf(_[d]+"(",o);for(g=e.indexOf("Dist(");g>=0;)g>=0&&(o=e.indexOf(",",g+5),o>=0&&(h=e.slice(g+5,o),h=h.replace(/\\(['"])?/g,"$1"),c=s.elementsByName[h],c&&(e=e.slice(0,g+5)+b(c.id)+e.slice(o)))),o=e.indexOf(",",g+5),g=e.indexOf(",",o),o=e.indexOf(")",g+1),o>=0&&(h=e.slice(g+1,o),h=h.replace(/\\(['"])?/g,"$1"),c=s.elementsByName[h],c&&(e=e.slice(0,g+1)+b(c.id)+e.slice(o))),o=e.indexOf(")",g+1),g=e.indexOf("Dist(",o);for(_=["Deg","Rad"],d=0;d<_.length;d++)for(g=e.indexOf(_[d]+"(");g>=0;)g>=0&&(o=e.indexOf(",",g+4),o>=0&&(h=e.slice(g+4,o),h=h.replace(/\\(['"])?/g,"$1"),c=s.elementsByName[h],c&&(e=e.slice(0,g+4)+b(c.id)+e.slice(o)))),o=e.indexOf(",",g+4),g=e.indexOf(",",o),o=e.indexOf(",",g+1),o>=0&&(h=e.slice(g+1,o),h=h.replace(/\\(['"])?/g,"$1"),c=s.elementsByName[h],c&&(e=e.slice(0,g+1)+b(c.id)+e.slice(o))),o=e.indexOf(",",g+1),g=e.indexOf(",",o),o=e.indexOf(")",g+1),o>=0&&(h=e.slice(g+1,o),h=h.replace(/\\(['"])?/g,"$1"),c=s.elementsByName[h],c&&(e=e.slice(0,g+1)+b(c.id)+e.slice(o))),o=e.indexOf(")",g+1),g=e.indexOf(_[d]+"(",o);return e},replaceIdByObj:function(e){var s=/(X|Y|L)\(([\w_]+)\)/g;return e=e.replace(s,"$('$2').$1()"),s=/(V)\(([\w_]+)\)/g,e=e.replace(s,"$('$2').Value()"),s=/(Dist)\(([\w_]+),([\w_]+)\)/g,e=e.replace(s,"dist($('$2'), $('$3'))"),s=/(Deg)\(([\w_]+),([ \w[\w_]+),([\w_]+)\)/g,e=e.replace(s,"deg($('$2'),$('$3'),$('$4'))"),s=/Rad\(([\w_]+),([\w_]+),([\w_]+)\)/g,e=e.replace(s,"rad($('$1'),$('$2'),$('$3'))"),s=/N\((.+)\)/g,e=e.replace(s,"($1)"),e},geonext2JS:function(e,s){var a,o,h,c=["Abs","ACos","ASin","ATan","Ceil","Cos","Exp","Factorial","Floor","Log","Max","Min","Random","Round","Sin","Sqrt","Tan","Trunc"],d=["abs","acos","asin","atan","ceil","cos","exp","factorial","floor","log","max","min","random","round","sin","sqrt","tan","ceil"];for(e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&amp;/g,"&"),o=e,o=this.replaceNameById(o,s),o=this.replaceIf(o),o=this.replacePow(o),o=this.replaceIdByObj(o),h=0;h<c.length;h++)a=new RegExp(["(\\W|^)(",c[h],")"].join(""),"ig"),o=o.replace(a,["$1",d[h]].join(""));return o=o.replace(/True/g,"true"),o=o.replace(/False/g,"false"),o=o.replace(/fasle/g,"false"),o=o.replace(/Pi/g,"PI"),o=o.replace(/"/g,"'"),o},findDependencies:function(e,s,a){var o,h,c,d;JXG$1.exists(a)||(a=e.board),o=a.elementsByName;for(h in o)o.hasOwnProperty(h)&&h!==e.name&&(o[h].elementClass===Const.OBJECT_CLASS_TEXT?JXG$1.evaluate(o[h].visProp.islabel)||(d=h.replace(/\[/g,"\\["),d=d.replace(/\]/g,"\\]"),c=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+d+")(,[\\w\\[\\]'_ ]+)*\\)","g"),s.search(c)>=0&&o[h].addChild(e)):(d=h.replace(/\[/g,"\\["),d=d.replace(/\]/g,"\\]"),c=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+d+")(,[\\w\\[\\]'_ ]+)*\\)","g"),s.search(c)>=0&&o[h].addChild(e)))},gxt2jc:function(e,s){var a;return e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&amp;/g,"&"),a=e,a=this.replaceNameById(a,s,!0),a=a.replace(/True/g,"true"),a=a.replace(/False/g,"false"),a=a.replace(/fasle/g,"false"),a}};const GeonextParser=JXG$1.GeonextParser;JXG$1.GeometryElement=function(e,s,a,o){var h,c,d;if(this.needsUpdate=!0,this.isDraggable=!1,this.isReal=!0,this.childElements={},this.hasLabel=!1,this.highlighted=!1,this.notExistingParents={},this.traces={},this.numTraces=0,this.transformations=[],this.baseElement=null,this.descendants={},this.ancestors={},this.parents=[],this.symbolic={},this.rendNode=null,this.elType="",this.dump=!0,this.subs={},this.inherits=[],this._pos=-1,this.stdform=[1,0,0,0,1,1,0,0],this.methodMap={setLabel:"setLabel",label:"label",setName:"setName",getName:"getName",Name:"getName",addTransform:"addTransform",setProperty:"setAttribute",setAttribute:"setAttribute",addChild:"addChild",animate:"animate",on:"on",off:"off",trigger:"trigger",addTicks:"addTicks",removeTicks:"removeTicks",removeAllTicks:"removeAllTicks",Bounds:"bounds"},this.quadraticform=[[1,0,0],[0,1,0],[0,0,1]],this.visProp={},this.visPropCalc={visible:!1},EventEmitter.eventify(this),this.mouseover=!1,this.lastDragTime=new Date,this.view=null,arguments.length>0){this.board=e,this.type=a,this._org_type=a,this.elementClass=o||Const.OBJECT_CLASS_OTHER,this.id=s.id,h=s.name,JXG$1.exists(h)||(h=this.board.generateName(this)),h!==""&&(this.board.elementsByName[h]=this),this.name=h,this.needsRegularUpdate=s.needsregularupdate,JXG$1.clearVisPropOld(this),d=this.resolveShortcuts(s);for(c in d)d.hasOwnProperty(c)&&this._set(c,d[c]);this.visProp.draft=d.draft&&d.draft.draft}};JXG$1.extend(JXG$1.GeometryElement.prototype,{addChild:function(e){var s,a;this.childElements[e.id]=e,this.addDescendants(e),e.ancestors[this.id]=this;for(s in this.descendants)if(this.descendants.hasOwnProperty(s)){this.descendants[s].ancestors[this.id]=this;for(a in this.ancestors)this.ancestors.hasOwnProperty(a)&&(this.descendants[s].ancestors[this.ancestors[a].id]=this.ancestors[a])}for(s in this.ancestors)if(this.ancestors.hasOwnProperty(s))for(a in this.descendants)this.descendants.hasOwnProperty(a)&&(this.ancestors[s].descendants[this.descendants[a].id]=this.descendants[a]);return this},addDescendants:function(e){var s;this.descendants[e.id]=e;for(s in e.childElements)e.childElements.hasOwnProperty(s)&&this.addDescendants(e.childElements[s]);return this},addParents:function(e){var s,a,o;for(JXG$1.isArray(e)?o=e:o=arguments,a=o.length,s=0;s<a;++s)JXG$1.exists(o[s])&&(JXG$1.isId(this.board,o[s])?this.parents.push(o[s]):JXG$1.exists(o[s].id)&&this.parents.push(o[s].id));this.parents=JXG$1.uniqueArray(this.parents)},setParents:function(e){this.parents=[],this.addParents(e)},addParentsFromJCFunctions:function(e){var s,a,o;for(s=0;s<e.length;s++)for(a in e[s].deps)o=e[s].deps[a],this.addParents(o),o.addChild(this);return this},removeChild:function(e){return delete this.childElements[e.id],this.removeDescendants(e),delete e.ancestors[this.id],this},removeDescendants:function(e){var s;delete this.descendants[e.id];for(s in e.childElements)e.childElements.hasOwnProperty(s)&&this.removeDescendants(e.childElements[s]);return this},countChildren:function(){var e,s,a=0;s=this.childElements;for(e in s)s.hasOwnProperty(e)&&e.indexOf("Label")<0&&a++;return a},getName:function(){return this.name},addTransform:function(e){return this},draggable:function(){return this.isDraggable&&!JXG$1.evaluate(this.visProp.fixed)&&this.type!==Const.OBJECT_TYPE_GLIDER},setPosition:function(e,s){var a=[],o,h,c,d;if(!JXG$1.exists(this.parents))return this;for(c=this.parents.length,h=0;h<c;++h)if(o=this.board.select(this.parents[h]),JXG$1.isPoint(o)){if(!o.draggable())return this;a.push(o)}if(s.length===3&&(s=s.slice(1)),d=this.board.create("transform",s,{type:"translate"}),c=a.length,c>0){if(d.applyOnce(a),JXG$1.exists(this.view)&&this.view.elType==="view3d")for(h=0;h<this.parents.length;++h)o=this.view.select(this.parents[h]),JXG$1.exists(o.setPosition2D)&&o.setPosition2D(d)}else this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(d):this.addTransform(d);for(h=0;h<c;++h)a[h].type===Const.OBJECT_TYPE_GLIDER&&a[h].updateGlider();return this},setPositionDirectly:function(e,s,a){var o=new Coords(e,s,this.board,!1),h=new Coords(e,a,this.board,!1),c=Statistics.subtract(o.usrCoords,h.usrCoords);return this.setPosition(Const.COORDS_BY_USER,c),this},generatePolynomial:function(){return[]},animate:function(e,s,a){a=a||{};var o,h,c,d=this.board.attr.animationdelay,g=Math.ceil(s/d),_=this,b=function(j,_e,et){var tt,it,at,nt,st;for(tt=JXG$1.rgb2hsv(j),it=JXG$1.rgb2hsv(_e),at=(it[0]-tt[0])/g,nt=(it[1]-tt[1])/g,st=(it[2]-tt[2])/g,_.animationData[et]=[],c=0;c<g;c++)_.animationData[et][g-c-1]=JXG$1.hsv2rgb(tt[0]+(c+1)*at,tt[1]+(c+1)*nt,tt[2]+(c+1)*st)},$=function(j,_e,et,tt){var it,at;if(j=parseFloat(j),_e=parseFloat(_e),!(isNaN(j)||isNaN(_e)))for(at=(_e-j)/g,_.animationData[et]=[],c=0;c<g;c++)it=j+(c+1)*at,_.animationData[et][g-c-1]=tt?Math.floor(it):it};this.animationData={};for(o in e)if(e.hasOwnProperty(o))switch(h=o.toLowerCase(),h){case"strokecolor":case"fillcolor":b(this.visProp[h],e[o],h);break;case"size":if(!JXG$1.isPoint(this))break;$(this.visProp[h],e[o],h,!0);break;case"strokeopacity":case"strokewidth":case"fillopacity":$(this.visProp[h],e[o],h,!1);break}return this.animationCallback=a.callback,this.board.addAnimation(this),this},update:function(){return JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(),this},updateRenderer:function(){return this},fullUpdate:function(e){return this.prepareUpdate().update().updateVisibility(e).updateRenderer()},setDisplayRendNode:function(e){var s,a,o,h,c;if(e===void 0&&(e=this.visPropCalc.visible),e===this.visPropOld.visible)return this;for(this.board.renderer.display(this,e),a=this.inherits.length,o=0;o<a;o++)if(c=this.inherits[o],JXG$1.isArray(c))for(h=c.length,s=0;s<h;s++)JXG$1.exists(c[s])&&JXG$1.exists(c[s].rendNode)&&JXG$1.evaluate(c[s].visProp.visible)==="inherit"&&c[s].setDisplayRendNode(e);else JXG$1.exists(c)&&JXG$1.exists(c.rendNode)&&JXG$1.evaluate(c.visProp.visible)==="inherit"&&c.setDisplayRendNode(e);return this.hasLabel&&JXG$1.exists(this.label)&&JXG$1.exists(this.label.rendNode)&&JXG$1.evaluate(this.label.visProp.visible)==="inherit"&&this.label.setDisplayRendNode(e),this},hide:function(){return this.setAttribute({visible:!1}),this},hideElement:function(){return this.hide(),this},show:function(){return this.setAttribute({visible:!0}),this},showElement:function(){return this.show(),this},updateVisibility:function(e){var s,a,o,h,c,d;if(this.needsUpdate){if(JXG$1.exists(this.view)&&JXG$1.evaluate(this.view.visProp.visible)===!1)this.visPropCalc.visible=!1;else for(e!==void 0?this.visPropCalc.visible=e:(d=JXG$1.evaluate(this.visProp.visible),JXG$1.exists(this.hiddenByParent)&&this.hiddenByParent&&(d=!1),d!=="inherit"&&(this.visPropCalc.visible=d)),a=this.inherits.length,o=0;o<a;o++)if(c=this.inherits[o],JXG$1.isArray(c))for(h=c.length,s=0;s<h;s++)JXG$1.exists(c[s])&&JXG$1.evaluate(c[s].visProp.visible)==="inherit"&&c[s].prepareUpdate().updateVisibility(this.visPropCalc.visible);else JXG$1.exists(c)&&JXG$1.evaluate(c.visProp.visible)==="inherit"&&c.prepareUpdate().updateVisibility(this.visPropCalc.visible);JXG$1.exists(this.label)&&JXG$1.exists(this.label.visProp)&&JXG$1.evaluate(this.label.visProp.visible)&&this.label.prepareUpdate().updateVisibility(this.visPropCalc.visible)}return this},_set:function(e,s){var a;if(e=e.toLocaleLowerCase(),this.visProp.hasOwnProperty(e)&&e.indexOf("color")>=0&&JXG$1.isString(s)&&s.length===9&&s.charAt(0)==="#")s=JXG$1.rgba2rgbo(s),this.visProp[e]=s[0],this.visProp[e.replace("color","opacity")]=s[1];else if(s!==null&&JXG$1.isObject(s)&&!JXG$1.exists(s.id)&&!JXG$1.exists(s.name)){this.visProp[e]={};for(a in s)s.hasOwnProperty(a)&&(this.visProp[e][a.toLocaleLowerCase()]=s[a])}else this.visProp[e]=s},resolveShortcuts:function(e){var s,a,o,h=["traceattributes","traceAttributes"];for(s in Options.shortcuts)if(Options.shortcuts.hasOwnProperty(s)){if(JXG$1.exists(e[s]))for(a=0;a<Options.shortcuts[s].length;a++)JXG$1.exists(e[Options.shortcuts[s][a]])||(e[Options.shortcuts[s][a]]=e[s]);for(o=0;o<h.length;o++)JXG$1.isObject(e[h[o]])&&(e[h[o]]=this.resolveShortcuts(e[h[o]]))}return e},setLabel:function(e){this.hasLabel||this.setAttribute({withlabel:!0}),this.setLabelText(e)},setLabelText:function(e){return JXG$1.exists(this.label)&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.label.setText(e)),this},setName:function(e){e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.elType!=="slider"&&this.setLabelText(e),this.setAttribute({name:e})},setProperty:function(){JXG$1.deprecated("setProperty()","setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(e){var s,a,o,h,c,d,g,_,b,$={};for(s=0;s<arguments.length;s++)d=arguments[s],JXG$1.isString(d)?(_=d.split(":"),$[JXG$1.trim(_[0])]=JXG$1.trim(_[1])):JXG$1.isArray(d)?$[d[0]]=d[1]:JXG$1.extend($,d);$=this.resolveShortcuts($);for(s in $)if($.hasOwnProperty(s)){if(h=s.replace(/\s+/g,"").toLowerCase(),c=$[s],JXG$1.isObject(c)&&JXG$1.exists(this.visProp[h])){if(this.visProp[h]=JXG$1.merge(this.visProp[h],c),this.type===Const.OBJECT_TYPE_TICKS&&JXG$1.exists(this.labels))for(o=this.labels.length,a=0;a<o;a++)this.labels[a].setAttribute(c);else if(JXG$1.exists(this[h]))if(JXG$1.isArray(this[h]))for(a=0;a<this[h].length;a++)this[h][a].setAttribute(c);else this[h].setAttribute(c);continue}switch(b=this.visProp[h],h){case"checked":JXG$1.exists(this.rendNodeTag)&&(this.rendNodeCheckbox.checked=!!c);break;case"disabled":JXG$1.exists(this.rendNodeTag)&&(this.rendNodeTag.disabled=!!c);break;case"face":JXG$1.isPoint(this)&&(this.visProp.face=c,this.board.renderer.changePointStyle(this));break;case"generatelabelvalue":this.type===Const.OBJECT_TYPE_TICKS&&JXG$1.isFunction(c)&&(this.generateLabelValue=c);break;case"gradient":this.visProp.gradient=c,this.board.renderer.setGradient(this);break;case"gradientsecondcolor":c=JXG$1.rgba2rgbo(c),this.visProp.gradientsecondcolor=c[0],this.visProp.gradientsecondopacity=c[1],this.board.renderer.updateGradient(this);break;case"gradientsecondopacity":this.visProp.gradientsecondopacity=c,this.board.renderer.updateGradient(this);break;case"infoboxtext":JXG$1.isString(c)?this.infoboxText=c:this.infoboxText=!1;break;case"labelcolor":c=JXG$1.rgba2rgbo(c),g=c[1],c=c[0],g===0&&JXG$1.exists(this.label)&&this.hasLabel&&this.label.hideElement(),JXG$1.exists(this.label)&&this.hasLabel&&(this.label.visProp.strokecolor=c,this.board.renderer.setObjectStrokeColor(this.label,c,g)),this.elementClass===Const.OBJECT_CLASS_TEXT&&(this.visProp.strokecolor=c,this.visProp.strokeopacity=g,this.board.renderer.setObjectStrokeColor(this,c,g));break;case"layer":this.board.renderer.setLayer(this,JXG$1.evaluate(c)),this._set(h,c);break;case"maxlength":JXG$1.exists(this.rendNodeTag)&&(this.rendNodeTag.maxlength=!!c);break;case"name":b=this.name,delete this.board.elementsByName[this.name],this.name=c,this.board.elementsByName[this.name]=this;break;case"needsregularupdate":this.needsRegularUpdate=!(c==="false"||c===!1),this.board.renderer.setBuffering(this,this.needsRegularUpdate?"auto":"static");break;case"onpolygon":this.type===Const.OBJECT_TYPE_GLIDER&&(this.onPolygon=!!c);break;case"radius":(this.type===Const.OBJECT_TYPE_ANGLE||this.type===Const.OBJECT_TYPE_SECTOR)&&this.setRadius(c);break;case"rotate":(this.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(this.visProp.display)==="internal"||this.type===Const.OBJECT_TYPE_IMAGE)&&this.addRotation(c);break;case"tabindex":JXG$1.exists(this.rendNode)&&(this.rendNode.setAttribute("tabindex",c),this._set(h,c));break;case"trace":c==="false"||c===!1?(this.clearTrace(),this.visProp.trace=!1):c==="pause"?this.visProp.trace=!1:this.visProp.trace=!0;break;case"visible":c==="false"?this.visProp.visible=!1:c==="true"?this.visProp.visible=!0:this.visProp.visible=c,this.setDisplayRendNode(JXG$1.evaluate(this.visProp.visible)),JXG$1.evaluate(this.visProp.visible)&&JXG$1.exists(this.updateSize)&&this.updateSize();break;case"withlabel":this.visProp.withlabel=c,JXG$1.evaluate(c)?(this.label||this.createLabel(),this.label.setAttribute({visible:"inherit"})):this.label&&this.hasLabel&&this.label.setAttribute({visible:!1}),this.hasLabel=c;break;case"straightfirst":case"straightlast":this._set(h,c);for(a in this.childElements)this.childElements.hasOwnProperty(a)&&this.childElements[a].elType==="glider"&&this.childElements[a].fullUpdate();break;default:JXG$1.exists(this.visProp[h])&&(!JXG$1.Validator[h]||JXG$1.Validator[h]&&JXG$1.Validator[h](c)||JXG$1.Validator[h]&&JXG$1.isFunction(c)&&JXG$1.Validator[h](c()))&&(c=c.toLowerCase&&c.toLowerCase()==="false"?!1:c,this._set(h,c));break}this.triggerEventHandlers(["attribute:"+h],[b,c,this])}return this.triggerEventHandlers(["attribute"],[$,this]),JXG$1.evaluate(this.visProp.needsregularupdate)?this.board.update(this):this.board.fullUpdate(),this.elementClass===Const.OBJECT_CLASS_TEXT&&this.updateSize(),this},getProperty:function(){JXG$1.deprecated("getProperty()","getAttribute()"),this.getProperty.apply(this,arguments)},getAttribute:function(e){var s;switch(e=e.toLowerCase(),e){case"needsregularupdate":s=this.needsRegularUpdate;break;case"labelcolor":s=this.label.visProp.strokecolor;break;case"infoboxtext":s=this.infoboxText;break;case"withlabel":s=this.hasLabel;break;default:s=this.visProp[e];break}return s},setDash:function(e){return this.setAttribute({dash:e}),this},prepareUpdate:function(){return this.needsUpdate=!0,this},remove:function(){return this.board.renderer.remove(this.rendNode),this.hasLabel&&this.board.renderer.remove(this.board.renderer.getElementById(this.label.id)),this},getTextAnchor:function(){return new Coords(Const.COORDS_BY_USER,[0,0],this.board)},getLabelAnchor:function(){return new Coords(Const.COORDS_BY_USER,[0,0],this.board)},setArrow:function(e,s){return this.visProp.firstarrow=e,this.visProp.lastarrow=s,s&&(this.type=Const.OBJECT_TYPE_VECTOR,this.elType="arrow"),this.prepareUpdate().update().updateVisibility().updateRenderer(),this},createGradient:function(){var e=JXG$1.evaluate(this.visProp.gradient);(e==="linear"||e==="radial")&&this.board.renderer.setGradient(this)},createLabel:function(){var e,s=this;return JXG$1.elements.text?(e=JXG$1.deepCopy(this.visProp.label,null),e.id=this.id+"Label",e.isLabel=!0,e.anchor=this,e.priv=this.visProp.priv,this.visProp.withlabel&&(this.label=JXG$1.elements.text(this.board,[0,0,function(){return JXG$1.isFunction(s.name)?s.name():s.name}],e),this.label.needsUpdate=!0,this.label.dump=!1,this.label.fullUpdate(),this.hasLabel=!0)):JXG$1.debug("JSXGraph: Can't create label: text element is not available. Make sure you include base/text"),this},highlight:function(e){return e=JXG$1.def(e,!1),JXG$1.evaluate(this.visProp.highlight)&&(!this.highlighted||e)&&(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this)),this},noHighlight:function(){return this.highlighted&&(this.highlighted=!1,delete this.board.highlightedObjects[this.id],this.board.renderer.noHighlight(this)),this},clearTrace:function(){var e;for(e in this.traces)this.traces.hasOwnProperty(e)&&this.board.renderer.remove(this.traces[e]);return this.numTraces=0,this},cloneToBackground:function(){return this},bounds:function(){return[0,0,0,0]},normalize:function(){return this.stdform=Mat.normalize(this.stdform),this},toJSON:function(){var e,s,a=['{"name":',this.name];a.push(', "id":'+this.id),e=[];for(s in this.visProp)this.visProp.hasOwnProperty(s)&&JXG$1.exists(this.visProp[s])&&e.push('"'+s+'":'+this.visProp[s]);return a.push(', "visProp":{'+e.toString()+"}"),a.push("}"),a.join("")},addRotation:function(e){var s,a,o,h,c,d=this;return(this.elementClass===Const.OBJECT_CLASS_TEXT||this.type===Const.OBJECT_TYPE_IMAGE)&&e!==0&&(s=this.board.create("transform",[function(){return-d.X()},function(){return-d.Y()}],{type:"translate"}),a=this.board.create("transform",[function(){return d.X()},function(){return d.Y()}],{type:"translate"}),o=this.board.create("transform",[function(){return d.board.unitX/d.board.unitY},function(){return 1}],{type:"scale"}),h=this.board.create("transform",[function(){return d.board.unitY/d.board.unitX},function(){return 1}],{type:"scale"}),c=this.board.create("transform",[function(){return JXG$1.evaluate(e)*Math.PI/180}],{type:"rotate"}),s.bindTo(this),o.bindTo(this),c.bindTo(this),h.bindTo(this),a.bindTo(this)),this},highlightStrokeColor:function(e){return JXG$1.deprecated("highlightStrokeColor()","setAttribute()"),this.setAttribute({highlightStrokeColor:e}),this},strokeColor:function(e){return JXG$1.deprecated("strokeColor()","setAttribute()"),this.setAttribute({strokeColor:e}),this},strokeWidth:function(e){return JXG$1.deprecated("strokeWidth()","setAttribute()"),this.setAttribute({strokeWidth:e}),this},fillColor:function(e){return JXG$1.deprecated("fillColor()","setAttribute()"),this.setAttribute({fillColor:e}),this},highlightFillColor:function(e){return JXG$1.deprecated("highlightFillColor()","setAttribute()"),this.setAttribute({highlightFillColor:e}),this},labelColor:function(e){return JXG$1.deprecated("labelColor()","setAttribute()"),this.setAttribute({labelColor:e}),this},dash:function(e){return JXG$1.deprecated("dash()","setAttribute()"),this.setAttribute({dash:e}),this},visible:function(e){return JXG$1.deprecated("visible()","setAttribute()"),this.setAttribute({visible:e}),this},shadow:function(e){return JXG$1.deprecated("shadow()","setAttribute()"),this.setAttribute({shadow:e}),this},getType:function(){return this.elType},getParents:function(){return JXG$1.isArray(this.parents)?this.parents:[]},snapToGrid:function(){return this},snapToPoints:function(){return this},getAttributes:function(){var e=JXG$1.deepCopy(this.visProp),s=[],a,o=s.length;for(e.id=this.id,e.name=this.name,a=0;a<o;a++)delete e[s[a]];return e},hasPoint:function(e,s){return!1},addTicks:function(e){return(e.id===""||!JXG$1.exists(e.id))&&(e.id=this.id+"_ticks_"+(this.ticks.length+1)),this.board.renderer.drawTicks(e),this.ticks.push(e),e.id},removeAllTicks:function(){var e;if(JXG$1.exists(this.ticks)){for(e=this.ticks.length-1;e>=0;e--)this.removeTicks(this.ticks[e]);this.ticks=[],this.board.update()}},removeTicks:function(e){var s,a;if(JXG$1.exists(this.defaultTicks)&&this.defaultTicks===e&&(this.defaultTicks=null),JXG$1.exists(this.ticks)){for(s=this.ticks.length-1;s>=0;s--)if(this.ticks[s]===e){if(this.board.removeObject(this.ticks[s]),this.ticks[s].ticks)for(a=0;a<this.ticks[s].ticks.length;a++)JXG$1.exists(this.ticks[s].labels[a])&&this.board.removeObject(this.ticks[s].labels[a]);delete this.ticks[s];break}}},getSnapSizes:function(){var e,s,a;return e=JXG$1.evaluate(this.visProp.snapsizex),s=JXG$1.evaluate(this.visProp.snapsizey),e<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(a=this.board.defaultAxes.x.defaultTicks,e=a.ticksDelta*(JXG$1.evaluate(a.visProp.minorticks)+1)),s<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(a=this.board.defaultAxes.y.defaultTicks,s=a.ticksDelta*(JXG$1.evaluate(a.visProp.minorticks)+1)),[e,s]},handleSnapToGrid:function(e,s){var a,o,h,c,d,g,_,b,$,j,_e,et=!1,tt=JXG$1.evaluate(this.visProp.attracttogrid),it=JXG$1.evaluate(this.visProp.attractorunit),at=JXG$1.evaluate(this.visProp.attractordistance);return!JXG$1.exists(this.coords)||JXG$1.evaluate(this.visProp.fixed)?this:(et=JXG$1.evaluate(this.visProp.snaptogrid)||tt||e===!0,et&&(a=this.coords.usrCoords[1],o=this.coords.usrCoords[2],$=this.getSnapSizes(),j=$[0],_e=$[1],j>0&&_e>0&&(b=this.board.getBoundingBox(),h=Math.round(a/j)*j,c=Math.round(o/_e)*_e,d=new JXG$1.Coords(Const.COORDS_BY_USER,[h,c],this.board),(!tt||d.distance(it==="screen"?Const.COORDS_BY_SCREEN:Const.COORDS_BY_USER,this.coords)<at)&&(a=h,o=c,s||(g=Math.min(b[0],b[2]),_=Math.max(b[0],b[2]),a<g&&a>g-j?a+=j:a>_&&a<_+j&&(a-=j),g=Math.min(b[1],b[3]),_=Math.max(b[1],b[3]),o<g&&o>g-_e?o+=_e:o>_&&o<_+_e&&(o-=_e)),this.coords.setCoordinates(Const.COORDS_BY_USER,[a,o])))),this)},getBoundingBox:function(){var e,s,a,o,h,c=[1/0,1/0,-1/0,-1/0];if(this.type===Const.OBJECT_TYPE_POLYGON){if(s=this.vertices.length-1,s<=0)return c;for(e=0;e<s;e++)a=this.vertices[e].X(),c[0]=a<c[0]?a:c[0],c[2]=a>c[2]?a:c[2],a=this.vertices[e].Y(),c[1]=a<c[1]?a:c[1],c[3]=a>c[3]?a:c[3]}else if(this.elementClass===Const.OBJECT_CLASS_CIRCLE)o=this.center.X(),h=this.center.Y(),c=[o-this.radius,h+this.radius,o+this.radius,h-this.radius];else if(this.elementClass===Const.OBJECT_CLASS_CURVE){if(s=this.vertices.length,s===0)return c;for(e=0;e<s;e++)a=this.points[e].coords.usrCoords[1],c[0]=a<c[0]?a:c[0],c[2]=a>c[2]?a:c[2],a=this.points[e].coords.usrCoords[1],c[1]=a<c[1]?a:c[1],c[3]=a>c[3]?a:c[3]}return c},addEvent:JXG$1.shortcut(JXG$1.GeometryElement.prototype,"on"),removeEvent:JXG$1.shortcut(JXG$1.GeometryElement.prototype,"off"),formatNumberLocale:function(e,s){var a,o,h,c={},d={maximumfractiondigits:"maximumFractionDigits",minimumfractiondigits:"minimumFractionDigits",compactdisplay:"compactDisplay",currencydisplay:"currencyDisplay",currencysign:"currencySign",localematcher:"localeMatcher",numberingsystem:"numberingSystem",signdisplay:"signDisplay",unitdisplay:"unitDisplay",usegrouping:"useGrouping",roundingmode:"roundingMode",roundingpriority:"roundingPriority",roundingincrement:"roundingIncrement",trailingzerodisplay:"trailingZeroDisplay",minimumintegerdigits:"minimumIntegerDigits",minimumsignificantdigits:"minimumSignificantDigits",maximumsignificantdigits:"maximumSignificantDigits"};if(JXG$1.exists(Intl)&&this.useLocale()){a=JXG$1.evaluate(this.visProp.intl.locale)||JXG$1.evaluate(this.board.attr.intl.locale),o=JXG$1.evaluate(this.visProp.intl.options)||{};for(h in o)o.hasOwnProperty(h)&&(d.hasOwnProperty(h)?c[d[h]]=JXG$1.evaluate(o[h]):c[h]=JXG$1.evaluate(o[h]));return h="maximumfractiondigits",JXG$1.exists(o[h])||(c[d[h]]=s),Intl.NumberFormat(a,c).format(e)}return e},useLocale:function(){var e;return!JXG$1.exists(this.visProp.intl)||!JXG$1.exists(this.visProp.intl.enabled)?!1:(e=JXG$1.evaluate(this.visProp.intl.enabled),e===!0||e==="inherit"&&JXG$1.evaluate(this.board.attr.intl.enabled)===!0)},__evt__over:function(e){},__evt__mouseover:function(e){},__evt__out:function(e){},__evt__mouseout:function(e){},__evt__move:function(e){},__evt__mousemove:function(e){},__evt__drag:function(e){},__evt__mousedrag:function(e){},__evt__pendrag:function(e){},__evt__touchdrag:function(e){},__evt__keydrag:function(e){},__evt__down:function(e){},__evt__mousedown:function(e){},__evt__pendown:function(e){},__evt__touchdown:function(e){},__evt__click:function(e){},__evt__dblclick:function(e){},__evt__mouseclick:function(e){},__evt__mousedblclick:function(e){},__evt__pointerclick:function(e){},__evt__pointerdblclick:function(e){},__evt__up:function(e){},__evt__mouseup:function(e){},__evt__penup:function(e){},__evt__touchup:function(e){},__evt__attribute:function(e,s){},__evt__attribute_:function(e,s,a){},__evt:function(){}});const GeometryElement=JXG$1.GeometryElement;JXG$1.CoordsElement=function(e,s){var a;for(JXG$1.exists(e)||(e=[1,0,0]),a=0;a<e.length;++a)e[a]=parseFloat(e[a]);this.coords=new Coords(Const.COORDS_BY_USER,e,this.board),this.initialCoords=new Coords(Const.COORDS_BY_USER,e,this.board),this.position=null,this.isConstrained=!1,this.onPolygon=!1,this.slideObject=null,this.slideObjects=[],this.needsUpdateFromParent=!0,this.groups=[],this.Xjc=null,this.Yjc=null,this.methodMap=JXG$1.deepCopy(this.methodMap,{move:"moveTo",moveTo:"moveTo",moveAlong:"moveAlong",visit:"visit",glide:"makeGlider",makeGlider:"makeGlider",intersect:"makeIntersection",makeIntersection:"makeIntersection",X:"X",Y:"Y",Coords:"Coords",free:"free",setPosition:"setGliderPosition",setGliderPosition:"setGliderPosition",addConstraint:"addConstraint",dist:"Dist",Dist:"Dist",onPolygon:"onPolygon",startAnimation:"startAnimation",stopAnimation:"stopAnimation"}),JXG$1.exists(this.element)&&this.addAnchor(e,s),this.isDraggable=!0};JXG$1.extend(JXG$1.CoordsElement.prototype,{updateConstraint:function(){return this},updateCoords:function(e){return this.needsUpdate?(JXG$1.exists(e)||(e=!1),JXG$1.evaluate(this.visProp.frozen)||this.updateConstraint(),this.type===Const.OBJECT_TYPE_GLIDER&&(this.isConstrained&&(e=!1),e?this.updateGliderFromParent():this.updateGlider()),this.updateTransform(e),this):this},updateGlider:function(){var e,s,a,o,h,c,d,g,_,b,$,j,_e=2*Math.PI,et,tt,it,at,nt,st=!1,rt,lt,ot,ht=this.slideObject,ct,ut,dt=[],ft;if(this.needsUpdateFromParent=!1,ht.elementClass===Const.OBJECT_CLASS_CIRCLE)JXG$1.evaluate(this.visProp.isgeonext)&&(_e=1),at=Geometry.projectPointToCircle(this,ht,this.board),nt=Geometry.rad([ht.center.X()+1,ht.center.Y()],ht.center,this)/_e;else if(ht.elementClass===Const.OBJECT_CLASS_LINE){if(this.onPolygon){if(o=ht.point1.coords.usrCoords,h=ht.point2.coords.usrCoords,e=1,s=h[e]-o[e],Math.abs(s)<Mat.eps&&(e=2,s=h[e]-o[e]),d=Geometry.projectPointToLine(this,ht,this.board),g=(d.usrCoords[e]-o[e])/s,c=ht.parentPolygon,g<0){for(e=0;e<c.borders.length;e++)if(ht===c.borders[e]){ht=c.borders[(e-1+c.borders.length)%c.borders.length];break}}else if(g>1){for(e=0;e<c.borders.length;e++)if(ht===c.borders[e]){ht=c.borders[(e+1+c.borders.length)%c.borders.length];break}}ht.id!==this.slideObject.id&&(this.slideObject=ht)}o=ht.point1.coords,h=ht.point2.coords,s=o.distance(Const.COORDS_BY_USER,h),s<Mat.eps?(at=o,st=!0,nt=0):(at=Geometry.projectPointToLine(this,ht,this.board),o=o.usrCoords.slice(0),h=h.usrCoords.slice(0),Math.abs(h[0])<Mat.eps?(e=1,s=h[e],Math.abs(s)<Mat.eps&&(e=2,s=h[e]),s=(at.usrCoords[e]-o[e])/s,b=s>=0?1:-1,s=Math.abs(s),nt=b*s/(s+1)):Math.abs(o[0])<Mat.eps?(e=1,s=o[e],Math.abs(s)<Mat.eps&&(e=2,s=o[e]),s=(at.usrCoords[e]-h[e])/s,s<0?nt=(1-2*s)/(1-s):nt=1/(s+1)):(e=1,s=h[e]-o[e],Math.abs(s)<Mat.eps&&(e=2,s=h[e]-o[e]),nt=(at.usrCoords[e]-o[e])/s)),lt=this.findClosestSnapValue(nt),lt!==null?(ot=JXG$1.evaluate(this.visProp.snapvalues),nt=(ot[lt]-this._smin)/(this._smax-this._smin),this.update(!0)):(rt=JXG$1.evaluate(this.visProp.snapwidth),JXG$1.evaluate(rt)>0&&Math.abs(this._smax-this._smin)>=Mat.eps&&(nt=Math.max(Math.min(nt,1),0),a=nt*(this._smax-this._smin)+this._smin,a=Math.round(a/rt)*rt,nt=(a-this._smin)/(this._smax-this._smin),this.update(!0))),o=ht.point1.coords,!JXG$1.evaluate(ht.visProp.straightfirst)&&Math.abs(o.usrCoords[0])>Mat.eps&&nt<0&&(at=o,st=!0,nt=0),h=ht.point2.coords,!JXG$1.evaluate(ht.visProp.straightlast)&&Math.abs(h.usrCoords[0])>Mat.eps&&nt>1&&(at=h,st=!0,nt=1)}else if(ht.type===Const.OBJECT_TYPE_TURTLE)this.updateConstraint(),ct=Geometry.projectPointToTurtle(this,ht,this.board),at=ct[0],nt=ct[1];else if(ht.elementClass===Const.OBJECT_CLASS_CURVE)if(ht.type===Const.OBJECT_TYPE_ARC||ht.type===Const.OBJECT_TYPE_SECTOR)at=Geometry.projectPointToCircle(this,ht,this.board),_=Geometry.rad(ht.radiuspoint,ht.center,this),$=0,j=Geometry.rad(ht.radiuspoint,ht.center,ht.anglepoint),nt=_,rt=JXG$1.evaluate(ht.visProp.selection),(rt==="minor"&&j>Math.PI||rt==="major"&&j<Math.PI)&&($=j,j=2*Math.PI),(_<$||_>j)&&(nt=j,(_<$&&_>$*.5||_>j&&_>j*.5+Math.PI)&&(nt=$),this.needsUpdateFromParent=!0,this.updateGliderFromParent()),_e=j-$,this.visProp.isgeonext&&(_e=1),Math.abs(_e)>Mat.eps&&(nt/=_e);else if(this.updateConstraint(),ht.transformations.length>0){for(ft=!1,ct=ht.getTransformationSource(),ct[0]&&(ft=ct[0],dt.push(ht),dt.push(ct[1]));ct[0]&&JXG$1.exists(ct[1]._transformationSource);)ct=ct[1].getTransformationSource(),dt.push(ct[1]);if(ut=this.coords.usrCoords,ft){for(e=0;e<dt.length;e++)dt[e].updateTransformMatrix(),it=Mat.inverse(dt[e].transformMat),ut=Mat.matVecMult(it,ut);for(et=new Coords(Const.COORDS_BY_USER,ut,this.board).usrCoords,tt=Geometry.projectCoordsToCurve(et[1],et[2],this.position||0,dt[dt.length-1],this.board),ut=tt[0].usrCoords,e=dt.length-2;e>=0;e--)ut=Mat.matVecMult(dt[e].transformMat,ut);tt[0]=new Coords(Const.COORDS_BY_USER,ut,this.board)}else ht.updateTransformMatrix(),it=Mat.inverse(ht.transformMat),ut=Mat.matVecMult(it,ut),et=new Coords(Const.COORDS_BY_USER,ut,this.board).usrCoords,tt=Geometry.projectCoordsToCurve(et[1],et[2],this.position||0,ht,this.board);at=tt[0],nt=tt[1]}else ct=Geometry.projectPointToCurve(this,ht,this.board),at=ct[0],nt=ct[1];else JXG$1.isPoint(ht)&&(at=Geometry.projectPointToPoint(this,ht,this.board),nt=this.position);this.coords.setCoordinates(Const.COORDS_BY_USER,at.usrCoords,st),this.position=nt},findClosestSnapValue:function(e){var s,a,o,h,c=null;if(o=JXG$1.evaluate(this.visProp.snapvalues),h=JXG$1.evaluate(this.visProp.snapvaluedistance),JXG$1.isArray(o)&&Math.abs(this._smax-this._smin)>=Mat.eps&&h>0)for(s=0;s<o.length;s++)a=Math.abs(e*(this._smax-this._smin)+this._smin-o[s]),a<h&&(h=a,c=s);return c},updateGliderFromParent:function(){var e,s,a,o,h,c=this.slideObject,d=[],g,_,b,$,j,_e,et,tt=2*Math.PI;if(!this.needsUpdateFromParent){this.needsUpdateFromParent=!0;return}if(c.elementClass===Const.OBJECT_CLASS_CIRCLE)a=c.Radius(),JXG$1.evaluate(this.visProp.isgeonext)&&(tt=1),h=[c.center.X()+a*Math.cos(this.position*tt),c.center.Y()+a*Math.sin(this.position*tt)];else if(c.elementClass===Const.OBJECT_CLASS_LINE)e=c.point1.coords.usrCoords,s=c.point2.coords.usrCoords,e[0]===0&&e[1]===0&&e[2]===0||s[0]===0&&s[1]===0&&s[2]===0?h=[0,0,0]:Math.abs(s[0])<Mat.eps?(o=Math.min(Math.abs(this.position),1-Mat.eps),o/=1-o,this.position<0&&(o=-o),h=[e[0]+o*s[0],e[1]+o*s[1],e[2]+o*s[2]]):Math.abs(e[0])<Mat.eps?(o=Math.max(this.position,Mat.eps),o=Math.min(o,2-Mat.eps),o>1?o=(o-1)/(o-2):o=(1-o)/o,h=[s[0]+o*e[0],s[1]+o*e[1],s[2]+o*e[2]]):(o=this.position,h=[e[0]+o*(s[0]-e[0]),e[1]+o*(s[1]-e[1]),e[2]+o*(s[2]-e[2])]);else if(c.type===Const.OBJECT_TYPE_TURTLE)this.coords.setCoordinates(Const.COORDS_BY_USER,[c.Z(this.position),c.X(this.position),c.Y(this.position)]),this.updateConstraint(),h=Geometry.projectPointToTurtle(this,c,this.board)[0].usrCoords;else if(c.elementClass===Const.OBJECT_CLASS_CURVE){for(b=!1,g=c.getTransformationSource(),g[0]&&(b=g[0],d.push(c),d.push(g[1]));g[0]&&JXG$1.exists(g[1]._transformationSource);)g=g[1].getTransformationSource(),d.push(g[1]);if(b?this.coords.setCoordinates(Const.COORDS_BY_USER,[d[d.length-1].Z(this.position),d[d.length-1].X(this.position),d[d.length-1].Y(this.position)]):this.coords.setCoordinates(Const.COORDS_BY_USER,[c.Z(this.position),c.X(this.position),c.Y(this.position)]),c.type===Const.OBJECT_TYPE_ARC||c.type===Const.OBJECT_TYPE_SECTOR)$=Geometry.rad([c.center.X()+1,c.center.Y()],c.center,c.radiuspoint),j=0,et=Geometry.rad(c.radiuspoint,c.center,c.anglepoint),(c.visProp.selection==="minor"&&et>Math.PI||c.visProp.selection==="major"&&et<Math.PI)&&(j=et,et=2*Math.PI),tt=et-j,JXG$1.evaluate(this.visProp.isgeonext)&&(tt=1),_e=this.position*tt,(_e<j||_e>et)&&(_e=et,(_e<j&&_e>j*.5||_e>et&&_e>et*.5+Math.PI)&&(_e=j),this.position=_e,Math.abs(tt)>Mat.eps&&(this.position/=tt)),a=c.Radius(),h=[c.center.X()+a*Math.cos(this.position*tt+$),c.center.Y()+a*Math.sin(this.position*tt+$)];else if(this.updateConstraint(),b)for(h=Geometry.projectPointToCurve(this,d[d.length-1],this.board)[0].usrCoords,_=d.length-2;_>=0;_--)h=new Coords(Const.COORDS_BY_USER,Mat.matVecMult(d[_].transformMat,h),this.board).usrCoords;else h=Geometry.projectPointToCurve(this,c,this.board)[0].usrCoords}else JXG$1.isPoint(c)&&(h=Geometry.projectPointToPoint(this,c,this.board).usrCoords);this.coords.setCoordinates(Const.COORDS_BY_USER,h,!1)},updateRendererGeneric:function(e){return!this.needsUpdate||!this.board.renderer?this:(this.visPropCalc.visible&&(this.isReal=!isNaN(this.coords.usrCoords[1]+this.coords.usrCoords[2]),this.isReal=Math.abs(this.coords.usrCoords[0])>Mat.eps?this.isReal:!1,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer[e](this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this)},X:function(){return this.coords.usrCoords[1]},Y:function(){return this.coords.usrCoords[2]},Z:function(){return this.coords.usrCoords[0]},Coords:function(e){return e?this.coords.usrCoords.slice():this.coords.usrCoords.slice(1)},XEval:function(){return this.coords.usrCoords[1]},YEval:function(){return this.coords.usrCoords[2]},ZEval:function(){return this.coords.usrCoords[0]},Dist:function(e){return this.isReal&&e.isReal?this.coords.distance(Const.COORDS_BY_USER,e.coords):NaN},snapToGrid:function(e){return this.handleSnapToGrid(e)},handleSnapToPoints:function(e){var s,a,o,h=0,c,d=1/0,g=null,_,b,$=JXG$1.evaluate(this.visProp.ignoredsnaptopoints),j,_e,et=!1;if(c=this.board.objectsList.length,$&&(j=$.length),JXG$1.evaluate(this.visProp.snaptopoints)||e){for(_=JXG$1.evaluate(this.visProp.attractorunit),b=JXG$1.evaluate(this.visProp.attractordistance),s=0;s<c;s++){if(a=this.board.objectsList[s],$){for(et=!1,_e=0;_e<j;_e++)if(a===this.board.select($[_e])){et=!0;break}if(et)continue}JXG$1.isPoint(a)&&a!==this&&a.visPropCalc.visible&&(o=Geometry.projectPointToPoint(this,a,this.board),_==="screen"?h=o.distance(Const.COORDS_BY_SCREEN,this.coords):h=o.distance(Const.COORDS_BY_USER,this.coords),h<b&&h<d&&(d=h,g=o))}g!==null&&this.coords.setCoordinates(Const.COORDS_BY_USER,g.usrCoords)}return this},snapToPoints:function(e){return this.handleSnapToPoints(e)},handleAttractors:function(){var e,s,a,o=0,h,c=JXG$1.evaluate(this.visProp.attractorunit),d=JXG$1.evaluate(this.visProp.attractordistance),g=JXG$1.evaluate(this.visProp.snatchdistance),_=JXG$1.evaluate(this.visProp.attractors),b=_.length;if(d!==0){for(e=0;e<b;e++)if(s=this.board.select(_[e]),JXG$1.exists(s)&&s!==this){if(JXG$1.isPoint(s)?a=Geometry.projectPointToPoint(this,s,this.board):s.elementClass===Const.OBJECT_CLASS_LINE?(h=Geometry.projectCoordsToSegment(this.coords.usrCoords,s.point1.coords.usrCoords,s.point2.coords.usrCoords),!JXG$1.evaluate(s.visProp.straightfirst)&&h[1]<0?a=s.point1.coords:!JXG$1.evaluate(s.visProp.straightlast)&&h[1]>1?a=s.point2.coords:a=new Coords(Const.COORDS_BY_USER,h[0],this.board)):s.elementClass===Const.OBJECT_CLASS_CIRCLE?a=Geometry.projectPointToCircle(this,s,this.board):s.elementClass===Const.OBJECT_CLASS_CURVE?a=Geometry.projectPointToCurve(this,s,this.board)[0]:s.type===Const.OBJECT_TYPE_TURTLE?a=Geometry.projectPointToTurtle(this,s,this.board)[0]:s.type===Const.OBJECT_TYPE_POLYGON&&(a=new Coords(Const.COORDS_BY_USER,Geometry.projectCoordsToPolygon(this.coords.usrCoords,s),this.board)),c==="screen"?o=a.distance(Const.COORDS_BY_SCREEN,this.coords):o=a.distance(Const.COORDS_BY_USER,this.coords),o<d){this.type===Const.OBJECT_TYPE_GLIDER&&(s===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===s)||this.makeGlider(s);break}o>=g&&(s===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===s)&&this.popSlideObject()}return this}},setPositionDirectly:function(e,s){var a,o,h,c=this.coords,d;if(this.relativeCoords)return o=new Coords(e,s,this.board),JXG$1.evaluate(this.visProp.islabel)?(h=Statistics.subtract(o.scrCoords,c.scrCoords),this.relativeCoords.scrCoords[1]+=h[1],this.relativeCoords.scrCoords[2]+=h[2]):(h=Statistics.subtract(o.usrCoords,c.usrCoords),this.relativeCoords.usrCoords[1]+=h[1],this.relativeCoords.usrCoords[2]+=h[2]),this;for(this.coords.setCoordinates(e,s),this.handleSnapToGrid(),this.handleSnapToPoints(),this.handleAttractors(),a=this.transformations.length-1;a>=0;a--)e===Const.COORDS_BY_SCREEN?d=new Coords(e,s,this.board).usrCoords:(s.length===2&&(s=[1].concat(s)),d=s),this.initialCoords.setCoordinates(Const.COORDS_BY_USER,Mat.matVecMult(Mat.inverse(this.transformations[a].matrix),d));return this.prepareUpdate().update(),this.board.isSuspendedUpdate&&this.type===Const.OBJECT_TYPE_GLIDER&&this.updateGlider(),this},setPositionByTransform:function(e,s){var a;return s=new Coords(e,s,this.board),a=this.board.create("transform",s.usrCoords.slice(1),{type:"translate"}),this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(a):this.addTransform(this,a),this.prepareUpdate().update(),this},setPosition:function(e,s){return this.setPositionDirectly(e,s)},setGliderPosition:function(e){return this.type===Const.OBJECT_TYPE_GLIDER&&(this.position=e,this.board.update()),this},makeGlider:function(e){var s=this.board.select(e),a=!1,o,h,c;if(s.type===Const.OBJECT_TYPE_POLYGON){for(o=Number.MAX_VALUE,h=0;h<s.borders.length;h++)c=JXG$1.Math.Geometry.distPointLine(this.coords.usrCoords,s.borders[h].stdform),c<o&&(o=c,e=s.borders[h]);s=this.board.select(e),a=!0}if(JXG$1.exists(s)){if(s.type===Const.OBJECT_TYPE_TICKS)throw new Error("JSXGraph: gliders on ticks are not possible.")}else throw new Error("JSXGraph: slide object undefined.");return this.slideObject=this.board.select(e),this.slideObjects.push(this.slideObject),this.addParents(e),this.type=Const.OBJECT_TYPE_GLIDER,this.elType="glider",this.visProp.snapwidth=-1,this.slideObject.addChild(this),this.isDraggable=!0,this.onPolygon=a,this.generatePolynomial=function(){return this.slideObject.generatePolynomial(this)},this.updateGlider(),this.needsUpdateFromParent=!0,this.updateGliderFromParent(),this},popSlideObject:function(){this.slideObjects.length>0&&(this.slideObjects.pop(),this.slideObject.removeChild(this),this.slideObjects.length===0?(this.type=this._org_type,this.type===Const.OBJECT_TYPE_POINT?this.elType="point":this.elementClass===Const.OBJECT_CLASS_TEXT?this.elType="text":this.type===Const.OBJECT_TYPE_IMAGE?this.elType="image":this.type===Const.OBJECT_TYPE_FOREIGNOBJECT&&(this.elType="foreignobject"),this.slideObject=null):this.slideObject=this.slideObjects[this.slideObjects.length-1])},free:function(){var e,s;if(this.type!==Const.OBJECT_TYPE_GLIDER)if(this.transformations.length=0,delete this.updateConstraint,this.isConstrained=!1,!this.isDraggable)this.isDraggable=!0,this.elementClass===Const.OBJECT_CLASS_POINT&&(this.type=Const.OBJECT_TYPE_POINT,this.elType="point"),this.XEval=function(){return this.coords.usrCoords[1]},this.YEval=function(){return this.coords.usrCoords[2]},this.ZEval=function(){return this.coords.usrCoords[0]},this.Xjc=null,this.Yjc=null;else return;for(e in this.board.objects)this.board.objects.hasOwnProperty(e)&&(s=this.board.objects[e],s.descendants&&(delete s.descendants[this.id],delete s.childElements[this.id],this.hasLabel&&(delete s.descendants[this.label.id],delete s.childElements[this.label.id])));this.ancestors={},this.parents=[],this.slideObject=null,this.slideObjects=[],this.elementClass===Const.OBJECT_CLASS_POINT?(this.type=Const.OBJECT_TYPE_POINT,this.elType="point"):this.elementClass===Const.OBJECT_CLASS_TEXT?(this.type=this._org_type,this.elType="text"):this.elementClass===Const.OBJECT_CLASS_OTHER&&(this.type=this._org_type,this.elType="image")},addConstraint:function(e){var s,a,o=[],h=["X","Y"],c=function(g){return function(){return g}},d=function(g){return function(){return g.Value()}};for(this.elementClass===Const.OBJECT_CLASS_POINT&&(this.type=Const.OBJECT_TYPE_CAS),this.isDraggable=!1,s=0;s<e.length;s++)a=e[s],JXG$1.isString(a)?(o[s]=this.board.jc.snippet(a,!0,null,!0),this.addParentsFromJCFunctions([o[s]]),e.length===2&&(this[h[s]+"jc"]=e[s])):JXG$1.isFunction(a)?o[s]=a:JXG$1.isNumber(a)?o[s]=c(a):JXG$1.isObject(a)&&JXG$1.isFunction(a.Value)&&(o[s]=d(a)),o[s].origin=a;return e.length===1?this.updateConstraint=function(){var g=o[0]();return JXG$1.isArray(g)?this.coords.setCoordinates(Const.COORDS_BY_USER,g):this.coords=g,this}:e.length===2?(this.XEval=o[0],this.YEval=o[1],this.addParents([o[0].origin,o[1].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(Const.COORDS_BY_USER,[this.XEval(),this.YEval()]),this}):(this.ZEval=o[0],this.XEval=o[1],this.YEval=o[2],this.addParents([o[0].origin,o[1].origin,o[2].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(Const.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()]),this}),this.isConstrained=!0,this.prepareUpdate().update(),this.board.isSuspendedUpdate||(this.updateVisibility().updateRenderer(),this.hasLabel&&this.label.fullUpdate()),this},addAnchor:function(e,s){s?this.relativeCoords=new Coords(Const.COORDS_BY_SCREEN,e.slice(0,2),this.board):this.relativeCoords=new Coords(Const.COORDS_BY_USER,e,this.board),this.element.addChild(this),s&&this.addParents(this.element),this.XEval=function(){var a,o,h,c;return JXG$1.evaluate(this.visProp.islabel)?(c=JXG$1.evaluate(this.visProp.offset),a=parseFloat(c[0]),h=this.element.getLabelAnchor(),o=new Coords(Const.COORDS_BY_SCREEN,[a+this.relativeCoords.scrCoords[1]+h.scrCoords[1],0],this.board),o.usrCoords[1]):(h=this.element.getTextAnchor(),this.relativeCoords.usrCoords[1]+h.usrCoords[1])},this.YEval=function(){var a,o,h,c;return JXG$1.evaluate(this.visProp.islabel)?(c=JXG$1.evaluate(this.visProp.offset),a=-parseFloat(c[1]),h=this.element.getLabelAnchor(),o=new Coords(Const.COORDS_BY_SCREEN,[0,a+this.relativeCoords.scrCoords[2]+h.scrCoords[2]],this.board),o.usrCoords[2]):(h=this.element.getTextAnchor(),this.relativeCoords.usrCoords[2]+h.usrCoords[2])},this.ZEval=JXG$1.createFunction(1,this.board,""),this.updateConstraint=function(){this.coords.setCoordinates(Const.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])},this.isConstrained=!0,this.updateConstraint()},updateTransform:function(e){var s;if(this.transformations.length===0)return this;for(s=0;s<this.transformations.length;s++)this.transformations[s].update();return this},addTransform:function(e,s){var a,o=JXG$1.isArray(s)?s:[s],h=o.length;for(this.transformations.length===0&&(this.baseElement=e),a=0;a<h;a++)this.transformations.push(o[a]);return this},startAnimation:function(e,s,a){var o=JXG$1.evaluate(e),h=JXG$1.evaluate(s),c=this;return a=JXG$1.evaluate(a)||250,this.type===Const.OBJECT_TYPE_GLIDER&&!JXG$1.exists(this.intervalCode)&&(this.intervalCode=window.setInterval(function(){c._anim(o,h)},a),JXG$1.exists(this.intervalCount)||(this.intervalCount=0)),this},stopAnimation:function(){return JXG$1.exists(this.intervalCode)&&(window.clearInterval(this.intervalCode),delete this.intervalCode),this},moveAlong:function(e,s,a){a=a||{};var o,h,c=[],d=[],g=this.board.attr.animationdelay,_=s/g,b,$,j,_e=function(et,tt){return function(){return e[et][tt]}};if(JXG$1.isArray(e)){for(b=e.length,o=0;o<b;o++)JXG$1.isPoint(e[o])?d[o]=e[o]:d[o]={elementClass:Const.OBJECT_CLASS_POINT,X:_e(o,0),Y:_e(o,1)};if(s=s||0,s===0)return this.setPosition(Const.COORDS_BY_USER,[d[d.length-1].X(),d[d.length-1].Y()]),this.board.update(this);if(!JXG$1.exists(a.interpolate)||a.interpolate)for(h=Numerics.Neville(d),o=0;o<_;o++)c[o]=[],c[o][0]=h[0]((_-o)/_*h[3]()),c[o][1]=h[1]((_-o)/_*h[3]());else{for(b=e.length-1,o=0;o<_;++o)$=Math.floor(o/_*b),j=o/_*b-$,c[o]=[],c[o][0]=(1-j)*d[$].X()+j*d[$+1].X(),c[o][1]=(1-j)*d[$].Y()+j*d[$+1].Y();c.push([d[b].X(),d[b].Y()]),c.reverse()}this.animationPath=c}else JXG$1.isFunction(e)&&(this.animationPath=e,this.animationStart=new Date().getTime());return this.animationCallback=a.callback,this.board.addAnimation(this),this},moveTo:function(e,s,a){a=a||{},e=new Coords(Const.COORDS_BY_USER,e,this.board);var o,h=this.board.attr.animationdelay,c=Math.ceil(s/h),d=[],g=this.coords.usrCoords[1],_=this.coords.usrCoords[2],b=e.usrCoords[1]-g,$=e.usrCoords[2]-_,j=function(_e){let et=_e/c;if(a.effect){if(a.effect==="<>")return Math.pow(Math.sin(et*Math.PI/2),2);if(a.effect==="<")return et*et*et;if(a.effect===">")return 1-Math.pow(1-et,3);if(a.effect==="==")return _e/c;throw new Error("valid effects are '==', '<>', '>', and '<'.")}return _e/c};if(!JXG$1.exists(s)||s===0||Math.abs(e.usrCoords[0]-this.coords.usrCoords[0])>Mat.eps)return this.setPosition(Const.COORDS_BY_USER,e.usrCoords),this.board.update(this);if(!JXG$1.exists(a.callback)&&Math.abs(b)<Mat.eps&&Math.abs($)<Mat.eps)return this;for(o=c;o>=0;o--)d[c-o]=[e.usrCoords[0],g+b*j(o),_+$*j(o)];return this.animationPath=d,this.animationCallback=a.callback,this.board.addAnimation(this),this},visit:function(e,s,a){e=new Coords(Const.COORDS_BY_USER,e,this.board);var o,h,c,d=this.board.attr.animationdelay,g=[],_=this.coords.usrCoords[1],b=this.coords.usrCoords[2],$=e.usrCoords[1]-_,j=e.usrCoords[2]-b,_e=function(et){var tt=et<c/2?2*et/c:2*(c-et)/c;if(a.effect){if(a.effect==="<>")return Math.pow(Math.sin(tt*Math.PI/2),2);if(a.effect==="<")return tt*tt*tt;if(a.effect===">")return 1-Math.pow(1-tt,3);if(a.effect==="==")return tt;throw new Error("valid effects are '==', '<>', '>', and '<'.")}return tt};for(JXG$1.isNumber(a)?a={repeat:a}:(a=a||{},JXG$1.exists(a.repeat)||(a.repeat=1)),c=Math.ceil(s/(d*a.repeat)),h=0;h<a.repeat;h++)for(o=c;o>=0;o--)g[h*(c+1)+c-o]=[e.usrCoords[0],_+$*_e(o),b+j*_e(o)];return this.animationPath=g,this.animationCallback=a.callback,this.board.addAnimation(this),this},_anim:function(e,s){var a,o,h,c,d,g,_,b,$;return this.intervalCount+=1,this.intervalCount>s&&(this.intervalCount=0),this.slideObject.elementClass===Const.OBJECT_CLASS_LINE?(_=this.slideObject.point1.coords.scrCoords,b=this.slideObject.point2.coords.scrCoords,a=Math.round((b[1]-_[1])*this.intervalCount/s),o=Math.round((b[2]-_[2])*this.intervalCount/s),e>0?c=this.slideObject.point1:(c=this.slideObject.point2,a*=-1,o*=-1),this.coords.setCoordinates(Const.COORDS_BY_SCREEN,[c.coords.scrCoords[1]+a,c.coords.scrCoords[2]+o])):this.slideObject.elementClass===Const.OBJECT_CLASS_CURVE?(e>0?d=(this.slideObject.maxX()-this.slideObject.minX())*this.intervalCount/s+this.slideObject.minX():d=-(this.slideObject.maxX()-this.slideObject.minX())*this.intervalCount/s+this.slideObject.maxX(),this.coords.setCoordinates(Const.COORDS_BY_USER,[this.slideObject.X(d),this.slideObject.Y(d)]),$=Geometry.projectPointToCurve(this,this.slideObject,this.board),this.coords=$[0],this.position=$[1]):this.slideObject.elementClass===Const.OBJECT_CLASS_CIRCLE&&(h=2*Math.PI,e<0?h*=this.intervalCount/s:h*=(s-this.intervalCount)/s,g=this.slideObject.Radius(),this.coords.setCoordinates(Const.COORDS_BY_USER,[this.slideObject.center.coords.usrCoords[1]+g*Math.cos(h),this.slideObject.center.coords.usrCoords[2]+g*Math.sin(h)])),this.board.update(this),this},getTextAnchor:function(){return this.coords},getLabelAnchor:function(){return this.coords},getParents:function(){var e=[this.Z(),this.X(),this.Y()];return this.parents.length!==0&&(e=this.parents),this.type===Const.OBJECT_TYPE_GLIDER&&(e=[this.X(),this.Y(),this.slideObject.id]),e}});JXG$1.CoordsElement.create=function(e,s,a,o,h,c){var d,g=!1,_;for(_=0;_<a.length;_++)(JXG$1.isFunction(a[_])||JXG$1.isString(a[_]))&&(g=!0);if(g)d=new e(s,[0,0],o,h,c),d.addConstraint(a);else if(JXG$1.isNumber(a[0])&&JXG$1.isNumber(a[1]))d=new e(s,a,o,h,c),JXG$1.exists(o.slideobject)?d.makeGlider(o.slideobject):d.baseElement=d,d.isDraggable=!0;else if(JXG$1.isObject(a[0])&&JXG$1.isTransformationOrArray(a[1]))d=new e(s,[0,0],o,h,c),d.addTransform(a[0],a[1]),d.isDraggable=!1;else return!1;return d.handleSnapToGrid(),d.handleSnapToPoints(),d.handleAttractors(),d.addParents(a),d};const CoordsElement=JXG$1.CoordsElement;var priv$5={HTMLSliderInputEventHandler:function(){this._val=parseFloat(this.rendNodeRange.value),this.rendNodeOut.value=this.rendNodeRange.value,this.board.update()}};JXG$1.Text=function(e,s,a,o){var h;this.constructor(e,a,Const.OBJECT_TYPE_TEXT,Const.OBJECT_CLASS_TEXT),this.element=this.board.select(a.anchor),this.coordsConstructor(s,JXG$1.evaluate(this.visProp.islabel)),this.content="",this.plaintext="",this.plaintextOld=null,this.orgText="",this.needsSizeUpdate=!1,this.hiddenByParent=!1,this.size=[1,1],this.id=this.board.setId(this,"T"),this.board.renderer.drawText(this),this.board.finalizeAdding(this),h=this.visProp.visible,this.visProp.visible=!0,this.setText(o),this.visProp.visible=h,JXG$1.isString(this.content)&&this.notifyParents(this.content),this.elType="text",this.methodMap=JXG$1.deepCopy(this.methodMap,{setText:"setTextJessieCode",move:"setCoords",Size:"getSize",setAutoPosition:"setAutoPosition"})};JXG$1.Text.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Text,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.Text.prototype,{hasPoint:function(e,s){var a,o,h,c,d,g,_,b;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(_=this.board._inputDevice,b=JXG$1.evaluate(this.visProp.precision[_])):b=this.board.options.precision.hasPoint,this.transformations.length>0&&(a=Mat.matVecMult(Mat.inverse(this.board.renderer.joinTransforms(this,this.transformations)),[1,e,s]),e=a[1],s=a[2]),d=this.getAnchorX(),d==="right"?a=this.coords.scrCoords[1]-this.size[0]:d==="middle"?a=this.coords.scrCoords[1]-.5*this.size[0]:a=this.coords.scrCoords[1],o=a+this.size[0],g=this.getAnchorY(),g==="top"?c=this.coords.scrCoords[2]+this.size[1]:g==="middle"?c=this.coords.scrCoords[2]+.5*this.size[1]:c=this.coords.scrCoords[2],h=c-this.size[1],JXG$1.evaluate(this.visProp.dragarea)==="all"?e>=a-b&&e<o+b&&s>=h-b&&s<=c+b:s>=h-b&&s<=c+b&&(e>=a-b&&e<=a+2*b||e>=o-2*b&&e<=o+b)},_createFctUpdateText:function(e){var s,a,o,h,c,d,g=JXG$1.evaluate(this.visProp.parse),_=JXG$1.evaluate(this.visProp.usemathjax),b=JXG$1.evaluate(this.visProp.usekatex),$=!1;if(this.orgText=e,JXG$1.isFunction(e))this.updateText=function(){h=e().toString(),g&&!_&&!b?this.plaintext=this.replaceSub(this.replaceSup(this.convertGeonextAndSketchometry2CSS(h,!1))):this.plaintext=h};else if(JXG$1.isNumber(e)&&JXG$1.evaluate(this.visProp.formatnumber)?JXG$1.evaluate(this.visProp.tofraction)?_?this.content="\\("+JXG$1.toFraction(e,!0)+"\\)":this.content=JXG$1.toFraction(e,b):(o=JXG$1.evaluate(this.visProp.digits),this.useLocale()?this.content=this.formatNumberLocale(e,o):this.content=JXG$1.toFixed(e,o)):JXG$1.isString(e)&&g?(JXG$1.evaluate(this.visProp.useasciimathml)?this.content="'`"+e+"`'":_||b?(this.content=this.valueTagToJessieCode(e),JXG$1.isArray(this.content)||(this.content=this.content.replace(/\\/g,"\\\\"))):this.content=this.poorMansTeX(this.valueTagToJessieCode(e)),$=!0):this.content=e,$){if(JXG$1.isArray(this.content)){for(d=this,c=0;c<this.content.length;c++)if(this.content[c][0]!=='"'){this.content[c]=this.board.jc.snippet(this.content[c],!0,"",!1);for(a in this.content[c].deps)this.addParents(this.content[c].deps[a]),this.content[c].deps[a].addChild(this)}s=function(){var j,_e,et=JXG$1.evaluate(d.visProp.digits),tt="";for(j=0;j<d.content.length;j++)JXG$1.isFunction(d.content[j])?(_e=d.content[j](),d.useLocale()?_e=d.formatNumberLocale(_e,et):_e=JXG$1.toFixed(_e,et)):(_e=d.content[j],_e[0]==='"'&&_e[_e.length-1]==='"'&&(_e=_e.slice(1,-1))),tt+=_e;return tt}}else{s=this.board.jc.snippet(this.content,!0,"",!1);for(a in s.deps)this.addParents(s.deps[a]),s.deps[a].addChild(this)}this.updateText=function(){this.plaintext=this.unescapeTicks(s())}}else this.updateText=function(){this.plaintext=this.content}},_setText:function(e){return this._createFctUpdateText(e),this.updateText(),this.fullUpdate(),(!this.board.infobox||this.id!==this.board.infobox.id)&&this.updateSize(),this},setTextJessieCode:function(e){var s;return this.visProp.castext=e,JXG$1.isFunction(e)?s=function(){return JXG$1.sanitizeHTML(e())}:JXG$1.isNumber(e)?s=e:s=JXG$1.sanitizeHTML(e),this._setText(s)},setText:function(e){return this._setText(e)},updateSize:function(){var e,s,a,o=JXG$1.evaluate(this.visProp.display);return!JXG$1.isBrowser||this.board.renderer.type==="no"?this:(a=this.rendNode,o==="html"||this.board.renderer.type==="vml"?JXG$1.exists(a.offsetWidth)?(s=this,window.setTimeout(function(){s.size=[a.offsetWidth,a.offsetHeight],s.needsUpdate=!0,s.updateRenderer()},0)):this.size=this.crudeSizeEstimate():o==="internal"&&(this.board.renderer.type==="svg"?(s=this,window.setTimeout(function(){try{e=a.getBBox(),s.size=[e.width,e.height],s.needsUpdate=!0,s.updateRenderer()}catch{}},0)):this.board.renderer.type==="canvas"&&(this.size=this.crudeSizeEstimate())),this)},crudeSizeEstimate:function(){var e=parseFloat(JXG$1.evaluate(this.visProp.fontsize));return[e*this.plaintext.length*.45,e*.9]},utf8_decode:function(e){return e.replace(/&#x(\w+);/g,function(s,a){return String.fromCharCode(parseInt(a,16))})},replaceSub:function(e){if(!e.indexOf)return e;for(var s,a=e.indexOf("_{");a>=0;)e=e.slice(0,a)+e.slice(a).replace(/_\{/,"<sub>"),s=e.indexOf("}",a+4),s>=0&&(e=e.slice(0,s)+e.slice(s).replace(/\}/,"</sub>")),a=e.indexOf("_{");for(a=e.indexOf("_");a>=0;)e=e.slice(0,a)+e.slice(a).replace(/_(.?)/,"<sub>$1</sub>"),a=e.indexOf("_");return e},replaceSup:function(e){if(!e.indexOf)return e;for(var s,a=e.indexOf("^{");a>=0;)e=e.slice(0,a)+e.slice(a).replace(/\^\{/,"<sup>"),s=e.indexOf("}",a+4),s>=0&&(e=e.slice(0,s)+e.slice(s).replace(/\}/,"</sup>")),a=e.indexOf("^{");for(a=e.indexOf("^");a>=0;)e=e.slice(0,a)+e.slice(a).replace(/\^(.?)/,"<sup>$1</sup>"),a=e.indexOf("^");return e},getSize:function(){return this.size},setCoords:function(e,s){var a,o,h;return JXG$1.isArray(e)&&e.length>1&&(s=e[1],e=e[0]),JXG$1.evaluate(this.visProp.islabel)&&JXG$1.exists(this.element)?(a=this.element.getLabelAnchor(),o=(e-a.usrCoords[1])*this.board.unitX,h=-(s-a.usrCoords[2])*this.board.unitY,this.relativeCoords.setCoordinates(Const.COORDS_BY_SCREEN,[o,h])):this.coords.setCoordinates(Const.COORDS_BY_USER,[e,s]),this.fullUpdate(),this},update:function(e){return this.needsUpdate?(this.updateCoords(e),this.updateText(),JXG$1.evaluate(this.visProp.display)==="internal"&&JXG$1.isString(this.plaintext)&&(this.plaintext=this.utf8_decode(this.plaintext)),this.checkForSizeUpdate(),this.needsSizeUpdate&&this.updateSize(),this):this},checkForSizeUpdate:function(){this.board.infobox&&this.id===this.board.infobox.id?this.needsSizeUpdate=!1:(this.needsSizeUpdate=this.plaintextOld!==this.plaintext,this.needsSizeUpdate&&(this.plaintextOld=this.plaintext))},updateRenderer:function(){return JXG$1.evaluate(this.visProp.autoposition)&&this.setAutoPosition().updateConstraint(),this.updateRendererGeneric("updateText")},expandShortMath:function(e){var s=/([)0-9.])\s*([(a-zA-Z_])/g;return e.replace(s,"$1*$2")},generateTerm:function(e,s,a){var o,h,c,d,g='""';if(e=e||"",e=e.replace(/\r/g,""),e=e.replace(/\n/g,""),e=e.replace(/"/g,"'"),e=e.replace(/'/g,"\\'"),e=e.replace(/&amp;arc;/g,"&ang;"),e=e.replace(/<arc\s*\/>/g,"&ang;"),e=e.replace(/&lt;arc\s*\/&gt;/g,"&ang;"),e=e.replace(/&lt;sqrt\s*\/&gt;/g,"&radic;"),e=e.replace(/&lt;value&gt;/g,"<value>"),e=e.replace(/&lt;\/value&gt;/g,"</value>"),c=e.indexOf("<value>"),d=e.indexOf("</value>"),c>=0)for(;c>=0;)g+=' + "'+this.replaceSub(this.replaceSup(e.slice(0,c)))+'"',h=e.slice(c+7,d),h=h.replace(/\s+/g,""),s===!0&&(h=this.expandShortMath(h)),a?o=h:o=GeonextParser.geonext2JS(h,this.board),o=o.replace(/\\"/g,"'"),o=o.replace(/\\'/g,"'"),o.indexOf("toFixed")<0&&JXG$1.isNumber(JXG$1.bind(this.board.jc.snippet(o,!0,"",!1),this)())?g+="+("+o+").toFixed("+JXG$1.evaluate(this.visProp.digits)+")":g+="+("+o+")",e=e.slice(d+8),c=e.indexOf("<value>"),d=e.indexOf("</value>");return g+=' + "'+this.replaceSub(this.replaceSup(e))+'"',g=this.convertGeonextAndSketchometry2CSS(g),g=g.replace(/&amp;/g,"&"),g=g.replace(/"/g,"'"),g},valueTagToJessieCode:function(e){var s,a,o,h,c=[],d='"';if(e=e||"",e=e.replace(/\r/g,""),e=e.replace(/\n/g,""),e=e.replace(/&lt;value&gt;/g,"<value>"),e=e.replace(/&lt;\/value&gt;/g,"</value>"),o=e.indexOf("<value>"),h=e.indexOf("</value>"),o>=0)for(;o>=0;)c.push(d+this.escapeTicks(e.slice(0,o))+d),a=e.slice(o+7,h),a=a.replace(/\s+/g,""),a=this.expandShortMath(a),s=a,s=s.replace(/\\"/g,"'").replace(/\\'/g,"'"),c.push("("+s+")"),e=e.slice(h+8),o=e.indexOf("<value>"),h=e.indexOf("</value>");for(c.push(d+this.escapeTicks(e)+d),o=0;o<c.length;o++)c[o]=c[o].replace(/&amp;/g,"&");return c},poorMansTeX:function(e){var s,a;if(JXG$1.isArray(e)){for(a=[],s=0;s<e.length;s++)a.push(this.poorMansTeX(e[s]));return a}return e=e.replace(/<arc\s*\/*>/g,"&ang;").replace(/&lt;arc\s*\/*&gt;/g,"&ang;").replace(/<sqrt\s*\/*>/g,"&radic;").replace(/&lt;sqrt\s*\/*&gt;/g,"&radic;"),this.convertGeonextAndSketchometry2CSS(this.replaceSub(this.replaceSup(e)),!0)},escapeTicks:function(e){return e.replace(/"/g,"%22").replace(/'/g,"%27")},unescapeTicks:function(e){return e.replace(/%22/g,'"').replace(/%27/g,"'")},convertGeonext2CSS:function(e){return JXG$1.isString(e)&&(e=e.replace(/(<|&lt;)overline(>|&gt;)/g,"<span style=text-decoration:overline;>"),e=e.replace(/(<|&lt;)\/overline(>|&gt;)/g,"</span>"),e=e.replace(/(<|&lt;)arrow(>|&gt;)/g,"<span style=text-decoration:overline;>"),e=e.replace(/(<|&lt;)\/arrow(>|&gt;)/g,"</span>")),e},convertSketchometry2CSS:function(e,s){var a='<span class="sketcho sketcho-inherit sketcho-',o='"></span>';return JXG$1.isString(e)&&(s&&(a=this.escapeTicks(a),o=this.escapeTicks(o)),e=e.replace(/(<|&lt;)sketchofont(>|&gt;)/g,a),e=e.replace(/(<|&lt;)\/sketchofont(>|&gt;)/g,o)),e},convertGeonextAndSketchometry2CSS:function(e,s){return e=this.convertGeonext2CSS(e),e=this.convertSketchometry2CSS(e,s),e},notifyParents:function(e){var s,a=null;e=e.replace(/&lt;value&gt;/g,"<value>"),e=e.replace(/&lt;\/value&gt;/g,"</value>");do s=/<value>([\w\s*/^\-+()[\],<>=!]+)<\/value>/,a=s.exec(e),a!==null&&(GeonextParser.findDependencies(this,a[1],this.board),e=e.slice(a.index),e=e.replace(s,""));while(a!==null);return this},getParents:function(){var e;return this.relativeCoords!==void 0?e=[this.relativeCoords.usrCoords[1],this.relativeCoords.usrCoords[2],this.orgText]:e=[this.Z(),this.X(),this.Y(),this.orgText],this.parents.length!==0&&(e=this.parents),e},bounds:function(){var e=this.coords.usrCoords;return JXG$1.evaluate(this.visProp.islabel)||this.board.unitY===0||this.board.unitX===0?[0,0,0,0]:[e[1],e[2]+this.size[1]/this.board.unitY,e[1]+this.size[0]/this.board.unitX,e[2]]},getAnchorX:function(){var e=JXG$1.evaluate(this.visProp.anchorx);if(e==="auto")switch(this.visProp.position){case"top":case"bot":return"middle";case"rt":case"lrt":case"urt":return"left";case"lft":case"llft":case"ulft":default:return"right"}return e},getAnchorY:function(){var e=JXG$1.evaluate(this.visProp.anchory);if(e==="auto")switch(this.visProp.position){case"top":case"ulft":case"urt":return"bottom";case"bot":case"lrt":case"llft":return"top";case"rt":case"lft":default:return"middle"}return e},getNumberOfConflicts:function(e,s,a,o,h){h=h||[];var c=0,d,g,_,b,$;for(b=this.board.options.precision.hasPoint,this.board.options.precision.hasPoint=(a+o)*.25,d=0,_=this.board.objectsList.length;d<_;d++)g=this.board.objectsList[d],$=g.visProp.hasinnerpoints,g.visProp.hasinnerpoints=!1,g.visPropCalc.visible&&g.elType!=="axis"&&g.elType!=="ticks"&&g!==this.board.infobox&&g!==this&&g.hasPoint(e,s)&&h.indexOf(g.id)===-1&&c++,g.visProp.hasinnerpoints=$;return this.board.options.precision.hasPoint=b,c},setAutoPosition:function(){var e,s,a,o,h,c=this.size[0],d=this.size[1],g,_,b={conflicts:1/0,angle:0,r:0},$,j,_e,et,tt,it=12,at=2*Math.PI/it,nt,st,rt,lt,ot;if(this===this.board.infobox||!this.visPropCalc.visible||!JXG$1.evaluate(this.visProp.islabel)||!this.element)return this;if(et=JXG$1.evaluate(this.visProp.offset),h=this.element.getLabelAnchor(),a=h.scrCoords[1],o=h.scrCoords[2],st=et[0],rt=et[1],_e=this.getNumberOfConflicts(a+st,o-rt,c,d,JXG$1.evaluate(this.visProp.autopositionwhitelist)),_e===0)return this;for(tt=JXG$1.evaluate(this.visProp.autopositionmindistance),$=JXG$1.evaluate(this.visProp.autopositionmaxdistance),j=.2*tt,g=Math.atan2(rt,st),b.conflicts=_e,b.angle=g,b.r=tt;b.conflicts>0&&tt<=$;){for(nt=1,_=g+at;nt<it&&b.conflicts>0&&(lt=Math.cos(_),ot=Math.sin(_),e=a+tt*lt,s=o-tt*ot,_e=this.getNumberOfConflicts(e,s,c,d,JXG$1.evaluate(this.visProp.autopositionwhitelist)),_e<b.conflicts&&(b.conflicts=_e,b.angle=_,b.r=tt),b.conflicts!==0);nt++)_+=at;tt+=j}return tt=b.r,lt=Math.cos(b.angle),ot=Math.sin(b.angle),this.visProp.offset=[tt*lt,tt*ot],lt<-.2?this.visProp.anchorx="right":lt>.2?this.visProp.anchorx="left":this.visProp.anchorx="middle",this}});JXG$1.createText=function(e,s,a){var o,h=JXG$1.copyAttributes(a,e.options,"text"),c=s.slice(0,-1),d=s[s.length-1];if(h.anchor=h.parent||h.anchor,o=CoordsElement.create(JXG$1.Text,e,c,h,d),!o)throw new Error("JSXGraph: Can't create text with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [x,y], [z,x,y], [element,transformation]`);return h.rotate!==0&&o.addRotation(h.rotate),o};JXG$1.registerElement("text",JXG$1.createText);JXG$1.createHTMLSlider=function(e,s,a){var o,h,c=JXG$1.copyAttributes(a,e.options,"htmlslider");if(s.length!==2||s[0].length!==2||s[1].length!==3)throw new Error("JSXGraph: Can't create htmlslider with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parents are: [[x,y], [min, start, max]]`);c.anchor=c.parent||c.anchor,c.fixed=c.fixed||!0,h=[s[0][0],s[0][1],'<form style="display:inline"><input type="range" /><span></span><input type="text" /></form>'],o=JXG$1.createText(e,h,c),o.type=JXG$1.OBJECT_TYPE_HTMLSLIDER,o.rendNodeForm=o.rendNode.childNodes[0],o.rendNodeRange=o.rendNodeForm.childNodes[0],o.rendNodeRange.min=s[1][0],o.rendNodeRange.max=s[1][2],o.rendNodeRange.step=c.step,o.rendNodeRange.value=s[1][1],o.rendNodeLabel=o.rendNodeForm.childNodes[1],o.rendNodeLabel.id=o.rendNode.id+"_label",c.withlabel&&(o.rendNodeLabel.innerHTML=o.name+"="),o.rendNodeOut=o.rendNodeForm.childNodes[2],o.rendNodeOut.value=s[1][1];try{o.rendNodeForm.id=o.rendNode.id+"_form",o.rendNodeRange.id=o.rendNode.id+"_range",o.rendNodeOut.id=o.rendNode.id+"_out"}catch(d){JXG$1.debug(d)}return o.rendNodeRange.style.width=c.widthrange+"px",o.rendNodeRange.style.verticalAlign="middle",o.rendNodeOut.style.width=c.widthout+"px",o._val=s[1][1],JXG$1.supportsVML()?JXG$1.addEvent(o.rendNodeForm,"change",priv$5.HTMLSliderInputEventHandler,o):JXG$1.addEvent(o.rendNodeForm,"input",priv$5.HTMLSliderInputEventHandler,o),o.Value=function(){return this._val},o};JXG$1.registerElement("htmlslider",JXG$1.createHTMLSlider);const Text=JXG$1.Text;Object.create||(Object.create=function(e,s){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object prototype may only be an Object: "+e);if(e===null)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(typeof s<"u")throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function a(){}return a.prototype=e,new a});var priv$4={modules:{math:Mat,"math/geometry":Geometry,"math/statistics":Statistics,"math/numerics":Mat.Numerics}};JXG$1.JessieCode=function(e,s){this.scope={id:0,hasChild:!0,args:[],locals:{},context:null,previous:null},this.scopes=[],this.scopes.push(this.scope),this.dpstack=[[]],this.pscope=0,this.propstack=[{}],this.propscope=0,this.lhs=[],this.isLHS=!1,this.warnLog="jcwarn",this.$log=[],this.builtIn=this.defineBuiltIn(),this.operands=this.getPossibleOperands(),this.board=null,this.forceValueCall=!1,this.lineToElement={},this.parCurLine=1,this.parCurColumn=0,this.line=1,this.col=1,JXG$1.CA&&(this.CA=new JXG$1.CA(this.node,this.createNode,this)),this.code="",typeof e=="string"&&this.parse(e,s)};JXG$1.extend(JXG$1.JessieCode.prototype,{node:function(e,s,a){return{type:e,value:s,children:a}},createNode:function(e,s,a){var o=this.node(e,s,[]),h;for(h=2;h<arguments.length;h++)o.children.push(arguments[h]);return o.type==="node_const"&&JXG$1.isNumber(o.value)&&(o.isMath=!0),o.line=this.parCurLine,o.col=this.parCurColumn,o},pushScope:function(e){var s={args:e,locals:{},context:null,previous:this.scope};return this.scope.hasChild=!0,this.scope=s,s.id=this.scopes.push(s)-1,s},popScope:function(){var e=this.scope.previous;return this.scope=e!==null?e:this.scope,this.scope},getElementById:function(e){return this.board.objects[e]},log:function(){this.$log.push(arguments),typeof console=="object"&&console.log&&console.log.apply(console,arguments)},creator:function(){var e={},s;return s=function(a){var o;return typeof e[this.board.id+a]=="function"?o=e[this.board.id+a]:(o=function(h){return function(c,d){var g;return JXG$1.exists(d)?g=d:g={},g.name===void 0&&g.id===void 0&&(g.name=h.lhs[h.scope.id]!==0?h.lhs[h.scope.id]:""),h.board.create(a,c,g)}}(this),o.creator=!0,e[this.board.id+a]=o),o},s.clearCache=function(){e={}},s}(),letvar:function(e,s){this.builtIn[e]&&this._warn('"'+e+'" is a predefined value.'),this.scope.locals[e]=s},isLocalVariable:function(e){for(var s=this.scope;s!==null;){if(JXG$1.exists(s.locals[e]))return s;s=s.previous}return null},isParameter:function(e){for(var s=this.scope;s!==null;){if(JXG$1.indexOf(s.args,e)>-1)return s;s=s.previous}return null},isCreator:function(e){return!!JXG$1.elements[e]},isMathMethod:function(e){return e!=="E"&&!!Math[e]},isBuiltIn:function(e){return!!this.builtIn[e]},getvar:function(e,s,a){var o;if(s=JXG$1.def(s,!1),o=this.isLocalVariable(e),o!==null)return o.locals[e];if(e==="$board"||e==="EULER"||e==="PI")return this.builtIn[e];if(a){if(this.isBuiltIn(e))return this.builtIn[e];if(this.isMathMethod(e))return Math[e];if(this.isCreator(e))return this.creator(e)}if(!s&&(o=this.board.select(e),o!==e))return o},resolve:function(e){for(var s=this.scope;s!==null;){if(JXG$1.exists(s.locals[e]))return s.locals[e];s=s.previous}},getvarJS:function(e,s,a){var o,h="",c;return s=JXG$1.def(s,!1),a=JXG$1.def(a,!1),o=this.isParameter(e),o!==null?e:(o=this.isLocalVariable(e),o!==null&&!a?"$jc$.resolve('"+e+"')":this.isCreator(e)?"(function () { var a = Array.prototype.slice.call(arguments, 0), props = "+(a?"a.pop()":"{}")+"; return $jc$.board.create.apply($jc$.board, ['"+e+"'].concat([a, props])); })":(a&&this._error("Syntax error (attribute values are allowed with element creators only)"),this.isBuiltIn(e)?(h=this.builtIn[e].src||this.builtIn[e],JXG$1.isNumber(h)||h.match(/board\.select/)?h:(e=h.split(".").pop(),JXG$1.exists(this.board.mathLib)&&(c=new RegExp("^Math."+e),c.exec(h)!==null)?h.replace(c,"$jc$.board.mathLib."+e):JXG$1.exists(this.board.mathLibJXG)?(c=new RegExp("^JXG.Math."),c.exec(h)!==null?h.replace(c,"$jc$.board.mathLibJXG."):h):h)):this.isMathMethod(e)?"$jc$.board.mathLib."+e:s?"":(JXG$1.isId(this.board,e)?(h="$jc$.board.objects['"+e+"']",this.board.objects[e].elType==="slider"&&(h+=".Value()")):JXG$1.isName(this.board,e)?(h="$jc$.board.elementsByName['"+e+"']",this.board.elementsByName[e].elType==="slider"&&(h+=".Value()")):JXG$1.isGroup(this.board,e)&&(h="$jc$.board.groups['"+e+"']"),h)))},makeMap:function(e){return e.isMap=!0,e},functionCodeJS:function(e){var s=e.children[0].join(", "),a="",o="";return e.value==="op_map"&&(a="{ return  ",o=" }"),"function ("+s+`) {
var $oldscope$ = $jc$.scope;
$jc$.scope = $jc$.scopes[`+this.scope.id+`];
var r = (function () `+a+this.compile(e.children[1],!0)+o+`)();
$jc$.scope = $oldscope$;
return r;
}`},defineFunction:function(node){var fun,i,that=this,list=node.children[0],scope=this.pushScope(list);if(this.board.options.jc.compile){for(this.isLHS=!1,i=0;i<list.length;i++)scope.locals[list[i]]=list[i];this.replaceNames(node.children[1]),fun=function(jc){var fun,str="var f = function($jc$) { return "+jc.functionCodeJS(node)+"}; f;";try{for(fun=eval(str)(jc),scope.argtypes=[],i=0;i<list.length;i++)scope.argtypes.push(that.resolveType(list[i],node));return fun}catch(e){return jc._warn(`error compiling function

`+str+`

`+e.toString()),function(){}}}(this),this.popScope()}else fun=function(e,s,a){return function(){var o,h;for(h=s.scope,s.scope=s.scopes[a],o=0;o<e.length;o++)s.scope.locals[e[o]]=arguments[o];return o=s.execute(node.children[1]),s.scope=h,o}}(list,this,scope.id);return fun.node=node,fun.scope=scope,fun.toJS=fun.toString,fun.toString=function(e){return function(){return e.compile(e.replaceIDs(JXG$1.deepCopy(node)))}}(this),fun.deps={},this.collectDependencies(node.children[1],node.children[0],fun.deps),fun},mergeAttributes:function(e){var s,a={};for(s=0;s<arguments.length;s++)a=JXG$1.deepCopy(a,arguments[s],!0);return a},setProp:function(e,s,a){var o={},h,c;e.elementClass===Const.OBJECT_CLASS_POINT&&(s==="X"||s==="Y")?(s=s.toLowerCase(),e.isDraggable&&typeof a=="number"?(h=s==="x"?a:e.X(),c=s==="y"?a:e.Y(),e.setPosition(Const.COORDS_BY_USER,[h,c])):e.isDraggable&&(typeof a=="function"||typeof a=="string")?(h=s==="x"?a:e.coords.usrCoords[1],c=s==="y"?a:e.coords.usrCoords[2],e.addConstraint([h,c])):e.isDraggable||(h=s==="x"?a:e.XEval.origin,c=s==="y"?a:e.YEval.origin,e.addConstraint([h,c])),this.board.update()):e.elementClass===Const.OBJECT_CLASS_TEXT&&(s==="X"||s==="Y")?(typeof a=="number"?e[s]=function(){return a}:typeof a=="function"?(e.isDraggable=!1,e[s]=a):typeof a=="string"&&(e.isDraggable=!1,e[s]=JXG$1.createFunction(a,this.board),e[s+"jc"]=a),e[s].origin=a,this.board.update()):e.type&&e.elementClass&&e.visProp?JXG$1.exists(e[e.methodMap[s]])&&typeof e[e.methodMap[s]]!="function"?e[e.methodMap[s]]=a:(o[s]=a,e.setAttribute(o)):e[s]=a},_genericParse:function(e,s,a,o){var h,c,d,g,_=e.replace(/\r\n/g,`
`).split(`
`),b=[];o||(this.code+=e+`
`),Text&&(c=Text.prototype.setText,Text.prototype.setText=Text.prototype.setTextJessieCode);try{for(JXG$1.exists(a)||(a=!1),h=0;h<_.length;h++)a&&(_[h]=JXG$1.GeonextParser.geonext2JS(_[h],this.board)),b.push(_[h]);switch(e=b.join(`
`),d=parser.parse(e),this.CA&&(d=this.CA.expandDerivatives(d,null,d),d=this.CA.removeTrivialNodes(d)),s){case"parse":g=this.execute(d);break;case"manipulate":g=this.compile(d);break;case"getAst":g=d;break;default:g=!1}}catch($){throw $}finally{Text&&(Text.prototype.setText=c)}return g},parse:function(e,s,a){return this._genericParse(e,"parse",s,a)},manipulate:function(e,s,a){return this._genericParse(e,"manipulate",s,a)},getAST:function(e,s,a){return this._genericParse(e,"getAst",s,a)},snippet:function(e,s,a,o,h){var c;return s=JXG$1.def(s,!0),a=JXG$1.def(a,""),o=JXG$1.def(o,!1),this.forceValueCall=JXG$1.def(h,!0),c=(s?" function ("+a+") { return ":"")+e+(s?"; }":"")+";",this.parse(c,o,!0)},replaceIDs:function(e){var s,a;if(e.replaced&&(a=this.board.objects[e.children[1][0].value],JXG$1.exists(a)&&a.name!==""&&(e.type="node_var",e.value=a.name,e.children.length=0,delete e.replaced)),JXG$1.isArray(e))for(s=0;s<e.length;s++)e[s]=this.replaceIDs(e[s]);if(e.children)for(s=e.children.length;s>0;s--)JXG$1.exists(e.children[s-1])&&(e.children[s-1]=this.replaceIDs(e.children[s-1]));return e},replaceNames:function(e,s){var a,o,h=!1;if(s!==void 0&&(h=s),o=e.value,e.type==="node_op"&&o==="op_lhs"&&e.children.length===1?this.isLHS=!0:e.type==="node_var"&&(this.isLHS?this.letvar(o,!0):!JXG$1.exists(this.getvar(o,!0))&&JXG$1.exists(this.board.elementsByName[o])&&(h&&this.board.elementsByName[o].elType!=="slider"&&(h=!1),e=this.createReplacementNode(e,h))),JXG$1.isArray(e))for(a=0;a<e.length;a++)e[a]=this.replaceNames(e[a],h);if(e.children)for(this.forceValueCall&&(e.value==="op_execfun"&&e.children[0].value!=="V"&&e.children[0].value!=="$"&&(JXG$1.exists(Math[e.children[0].value])||JXG$1.exists(Mat[e.children[0].value]))&&e.children[1][0].type==="node_var"||e.value==="op_return"&&e.children.length===1&&e.children[0].type==="node_var")&&(h=!0),a=e.children.length;a>0;a--)JXG$1.exists(e.children[a-1])&&(e.children[a-1]=this.replaceNames(e.children[a-1],h));return e.type==="node_op"&&e.value==="op_lhs"&&e.children.length===1&&(this.isLHS=!1),e},createReplacementNode:function(e,s){var a=e.value,o=this.board.elementsByName[a];return e=this.createNode("node_op","op_execfun",this.createNode("node_var",s===!0?"$value":"$"),[this.createNode("node_str",o.id)]),e.replaced=!0,e},collectDependencies:function(e,s,a){var o,h,c,d;if(JXG$1.isArray(e)){for(d=e.length,o=0;o<d;o++)this.collectDependencies(e[o],s,a);return}if(h=e.value,e.type==="node_var"&&s.indexOf(h)<0&&(c=this.getvar(h),c&&c.visProp&&c.elType&&c.elementClass&&c.id&&c.elType==="slider"&&(a[c.id]=c)),e.type==="node_op"&&e.value==="op_execfun"&&e.children.length>1&&(e.children[0].value==="$"||e.children[0].value==="$value")&&e.children[1].length>0&&(c=e.children[1][0].value,a[c]=this.board.objects[c]),e.children)for(o=e.children.length;o>0;o--)JXG$1.exists(e.children[o-1])&&this.collectDependencies(e.children[o-1],s,a)},resolveProperty:function(e,s,a){return a=JXG$1.def(a,!1),e&&e.methodMap&&(JXG$1.exists(e.subs)&&JXG$1.exists(e.subs[s])?e=e.subs:JXG$1.exists(e.methodMap[s])?s=e.methodMap[s]:(e=e.visProp,s=s.toLowerCase())),JXG$1.isFunction(e)&&this._error("Accessing function properties is not allowed."),JXG$1.exists(e)||this._error(e+" is not an object"),JXG$1.exists(e[s])||this._error("unknown property "+s),a&&typeof e[s]=="function"?function(){return e[s].apply(e,arguments)}:e[s]},resolveType:function(e,s){var a,o,h="any";if(JXG$1.isArray(s)){for(a=0;a<s.length;a++)if(o=this.resolveType(e,s[a]),o!=="any")return h=o,h}if(s.type==="node_op"&&s.value==="op_execfun"&&s.children[0].type==="node_var"&&s.children[0].value===e)return"function";if(s.type==="node_op"){for(a=0;a<s.children.length;a++)if(s.children[0].type==="node_var"&&s.children[0].value===e&&(s.value==="op_add"||s.value==="op_sub"||s.value==="op_mul"||s.value==="op_div"||s.value==="op_mod"||s.value==="op_exp"||s.value==="op_neg"))return"any";for(a=0;a<s.children.length;a++)if(o=this.resolveType(e,s.children[a]),o!=="any")return h=o,h}return"any"},getLHS:function(e){var s;if(e.type==="node_var")s={o:this.scope.locals,what:e.value};else if(e.type==="node_op"&&e.value==="op_property")s={o:this.execute(e.children[0]),what:e.children[1]};else if(e.type==="node_op"&&e.value==="op_extvalue")s={o:this.execute(e.children[0]),what:this.execute(e.children[1])};else throw new Error("Syntax error: Invalid left-hand side of assignment.");return s},getLHSCompiler:function(e,s){var a;if(e.type==="node_var")a=e.value;else if(e.type==="node_op"&&e.value==="op_property")a=[this.compile(e.children[0],s),"'"+e.children[1]+"'"];else if(e.type==="node_op"&&e.value==="op_extvalue")a=[this.compile(e.children[0],s),e.children[1].type==="node_const"?e.children[1].value:this.compile(e.children[1],s)];else throw new Error("Syntax error: Invalid left-hand side of assignment.");return a},execute:function(e){var s,a,o,h,c,d,g,_,b=[],$,j,_e;if(s=0,!e)return s;switch(this.line=e.line,this.col=e.col,e.type){case"node_op":switch(e.value){case"op_none":e.children[0]&&this.execute(e.children[0]),e.children[1]&&(s=this.execute(e.children[1]));break;case"op_assign":a=this.getLHS(e.children[0]),this.lhs[this.scope.id]=a.what,a.o.type&&a.o.elementClass&&a.o.methodMap&&a.what==="label"&&this._error("Left-hand side of assignment is read-only."),s=this.execute(e.children[1]),a.o!==this.scope.locals||JXG$1.isArray(a.o)&&typeof a.what=="number"?this.setProp(a.o,a.what,s):this.letvar(a.what,s),this.lhs[this.scope.id]=0;break;case"op_if":this.execute(e.children[0])&&(s=this.execute(e.children[1]));break;case"op_conditional":case"op_if_else":this.execute(e.children[0])?s=this.execute(e.children[1]):s=this.execute(e.children[2]);break;case"op_while":for(;this.execute(e.children[0]);)this.execute(e.children[1]);break;case"op_do":do this.execute(e.children[0]);while(this.execute(e.children[1]));break;case"op_for":for(this.execute(e.children[0]);this.execute(e.children[1]);this.execute(e.children[2]))this.execute(e.children[3]);break;case"op_proplst":e.children[0]&&this.execute(e.children[0]),e.children[1]&&this.execute(e.children[1]);break;case"op_emptyobject":s={};break;case"op_proplst_val":this.propstack.push({}),this.propscope++,this.execute(e.children[0]),s=this.propstack[this.propscope],this.propstack.pop(),this.propscope--;break;case"op_prop":this.propstack[this.propscope][e.children[0]]=this.execute(e.children[1]);break;case"op_array":for(s=[],c=e.children[0].length,o=0;o<c;o++)s.push(this.execute(e.children[0][o]));break;case"op_extvalue":s=this.execute(e.children[0]),o=this.execute(e.children[1]),typeof o=="number"&&Math.abs(Math.round(o)-o)<Mat.eps?s=s[o]:s=d;break;case"op_return":if(this.scope===0)this._error("Unexpected return.");else return this.execute(e.children[0]);break;case"op_map":!e.children[1].isMath&&e.children[1].type!=="node_var"&&this._error("execute: In a map only function calls and mathematical expressions are allowed."),$=this.defineFunction(e),$.isMap=!0,s=$;break;case"op_function":$=this.defineFunction(e),$.isMap=!1,s=$;break;case"op_execfun":if(this.dpstack.push([]),this.pscope++,g=e.children[1],JXG$1.exists(e.children[2]))if(e.children[3])for(_=e.children[2],j={},o=0;o<_.length;o++)j=JXG$1.deepCopy(j,this.execute(_[o]),!0);else j=this.execute(e.children[2]);for(e.children[0]._isFunctionName=!0,$=this.execute(e.children[0]),delete e.children[0]._isFunctionName,JXG$1.exists($)&&JXG$1.exists($.sc)?_e=$.sc:_e=this,!$.creator&&JXG$1.exists(e.children[2])&&this._error("Unexpected value. Only element creators are allowed to have a value after the function call."),o=0;o<g.length;o++)JXG$1.exists($.scope)&&JXG$1.exists($.scope.argtypes)&&$.scope.argtypes[o]==="function"?(g[o]._isFunctionName=!0,b[o]=this.execute(g[o]),delete g[o]._isFunctionName):b[o]=this.execute(g[o]),this.dpstack[this.pscope].push({line:e.children[1][o].line,col:e.children[1][o].ecol});if(typeof $=="function"&&!$.creator)s=$.apply(_e,b);else if(typeof $=="function"&&$.creator){h=this.line;try{for(s=$(b,j),s.jcLineStart=h,s.jcLineEnd=e.eline,o=h;o<=e.line;o++)this.lineToElement[o]=s;s.debugParents=this.dpstack[this.pscope]}catch(et){this._error(et.toString())}}else this._error("Function '"+$+"' is undefined.");this.dpstack.pop(),this.pscope--;break;case"op_property":h=this.execute(e.children[0]),a=e.children[1],s=this.resolveProperty(h,a,!1),JXG$1.exists(s)&&["number","string","boolean"].indexOf(typeof s)<0&&(s.sc=h);break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),this.use(e.children[0].toString());break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),a=this.getvar(e.children[0]),s=this.del(a);break;case"op_eq":s=this.execute(e.children[0])==this.execute(e.children[1]);break;case"op_neq":s=this.execute(e.children[0])!=this.execute(e.children[1]);break;case"op_approx":s=Math.abs(this.execute(e.children[0])-this.execute(e.children[1]))<Mat.eps;break;case"op_gt":s=this.execute(e.children[0])>this.execute(e.children[1]);break;case"op_lt":s=this.execute(e.children[0])<this.execute(e.children[1]);break;case"op_geq":s=this.execute(e.children[0])>=this.execute(e.children[1]);break;case"op_leq":s=this.execute(e.children[0])<=this.execute(e.children[1]);break;case"op_or":s=this.execute(e.children[0])||this.execute(e.children[1]);break;case"op_and":s=this.execute(e.children[0])&&this.execute(e.children[1]);break;case"op_not":s=!this.execute(e.children[0]);break;case"op_add":s=this.add(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_sub":s=this.sub(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_div":s=this.div(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_mod":s=this.mod(this.execute(e.children[0]),this.execute(e.children[1]),!0);break;case"op_mul":s=this.mul(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_exp":s=this.pow(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_neg":s=this.neg(this.execute(e.children[0]));break}break;case"node_var":s=this.getvar(e.value,!1,e._isFunctionName);break;case"node_const":e.value===null?s=null:s=Number(e.value);break;case"node_const_bool":s=e.value;break;case"node_str":s=e.value.replace(/\\(.)/g,"$1");break}return s},compile:function(e,s){var a,o,h,c="";if(JXG$1.exists(s)||(s=!1),!e)return c;switch(e.type){case"node_op":switch(e.value){case"op_none":e.children[0]&&(c=this.compile(e.children[0],s)),e.children[1]&&(c+=this.compile(e.children[1],s));break;case"op_assign":s?(a=this.getLHSCompiler(e.children[0],s),JXG$1.isArray(a)?c="$jc$.setProp("+a[0]+", "+a[1]+", "+this.compile(e.children[1],s)+`);
`:(this.isLocalVariable(a)!==this.scope&&(this.scope.locals[a]=!0),c="$jc$.scopes["+this.scope.id+"].locals['"+a+"'] = "+this.compile(e.children[1],s)+`;
`)):(a=this.compile(e.children[0]),c=a+" = "+this.compile(e.children[1],s)+`;
`);break;case"op_if":c=" if ("+this.compile(e.children[0],s)+") "+this.compile(e.children[1],s);break;case"op_if_else":c=" if ("+this.compile(e.children[0],s)+")"+this.compile(e.children[1],s),c+=" else "+this.compile(e.children[2],s);break;case"op_conditional":c="(("+this.compile(e.children[0],s)+")?("+this.compile(e.children[1],s),c+="):("+this.compile(e.children[2],s)+"))";break;case"op_while":c=" while ("+this.compile(e.children[0],s)+`) {
`+this.compile(e.children[1],s)+`}
`;break;case"op_do":c=` do {
`+this.compile(e.children[0],s)+"} while ("+this.compile(e.children[1],s)+`);
`;break;case"op_for":c=" for ("+this.compile(e.children[0],s)+this.compile(e.children[1],s)+"; "+this.compile(e.children[2],s).slice(0,-2)+`) {
`+this.compile(e.children[3],s)+`
}
`;break;case"op_proplst":e.children[0]&&(c=this.compile(e.children[0],s)+", "),c+=this.compile(e.children[1],s);break;case"op_prop":c=e.children[0]+": "+this.compile(e.children[1],s);break;case"op_emptyobject":c=s?"{}":"<< >>";break;case"op_proplst_val":c=this.compile(e.children[0],s);break;case"op_array":for(h=[],o=0;o<e.children[0].length;o++)h.push(this.compile(e.children[0][o],s));c="["+h.join(", ")+"]";break;case"op_extvalue":c=this.compile(e.children[0],s)+"["+this.compile(e.children[1],s)+"]";break;case"op_return":c=" return "+this.compile(e.children[0],s)+`;
`;break;case"op_map":!e.children[1].isMath&&e.children[1].type!=="node_var"&&this._error("compile: In a map only function calls and mathematical expressions are allowed."),h=e.children[0],s?c=" $jc$.makeMap(function ("+h.join(", ")+") { return "+this.compile(e.children[1],s)+"; })":c="map ("+h.join(", ")+") -> "+this.compile(e.children[1],s);break;case"op_function":h=e.children[0],this.pushScope(h),s?c=this.functionCodeJS(e):c=" function ("+h.join(", ")+") "+this.compile(e.children[1],s),this.popScope();break;case"op_execfunmath":console.log("op_execfunmath: TODO"),c="-1";break;case"op_execfun":if(e.children[2]){for(h=[],o=0;o<e.children[2].length;o++)h.push(this.compile(e.children[2][o],s));s?a="$jc$.mergeAttributes("+h.join(", ")+")":a=h.join(", ")}for(e.children[0].withProps=!!e.children[2],h=[],o=0;o<e.children[1].length;o++)h.push(this.compile(e.children[1][o],s));c=this.compile(e.children[0],s)+"("+h.join(", ")+(e.children[2]&&s?", "+a:"")+")"+(e.children[2]&&!s?" "+a:""),s&&(c+=`
`),s&&e.children[0].value==="$"&&(c="$jc$.board.objects["+this.compile(e.children[1][0],s)+"]");break;case"op_property":s&&e.children[1]!=="X"&&e.children[1]!=="Y"?c="$jc$.resolveProperty("+this.compile(e.children[0],s)+", '"+e.children[1]+"', true)":c=this.compile(e.children[0],s)+"."+e.children[1];break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),s?c="$jc$.use('":c="use('",c+=e.children[0].toString()+"');";break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),s?c="$jc$.del(":c="remove(",c+=this.compile(e.children[0],s)+")";break;case"op_eq":c="("+this.compile(e.children[0],s)+" === "+this.compile(e.children[1],s)+")";break;case"op_neq":c="("+this.compile(e.children[0],s)+" !== "+this.compile(e.children[1],s)+")";break;case"op_approx":c="("+this.compile(e.children[0],s)+" ~= "+this.compile(e.children[1],s)+")";break;case"op_gt":s?c="$jc$.gt("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" > "+this.compile(e.children[1],s)+")";break;case"op_lt":s?c="$jc$.lt("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" < "+this.compile(e.children[1],s)+")";break;case"op_geq":s?c="$jc$.geq("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" >= "+this.compile(e.children[1],s)+")";break;case"op_leq":s?c="$jc$.leq("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" <= "+this.compile(e.children[1],s)+")";break;case"op_or":c="("+this.compile(e.children[0],s)+" || "+this.compile(e.children[1],s)+")";break;case"op_and":c="("+this.compile(e.children[0],s)+" && "+this.compile(e.children[1],s)+")";break;case"op_not":c="!("+this.compile(e.children[0],s)+")";break;case"op_add":s?c="$jc$.add("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" + "+this.compile(e.children[1],s)+")";break;case"op_sub":s?c="$jc$.sub("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" - "+this.compile(e.children[1],s)+")";break;case"op_div":s?c="$jc$.div("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" / "+this.compile(e.children[1],s)+")";break;case"op_mod":s?c="$jc$.mod("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+", true)":c="("+this.compile(e.children[0],s)+" % "+this.compile(e.children[1],s)+")";break;case"op_mul":s?c="$jc$.mul("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+" * "+this.compile(e.children[1],s)+")";break;case"op_exp":s?c="$jc$.pow("+this.compile(e.children[0],s)+", "+this.compile(e.children[1],s)+")":c="("+this.compile(e.children[0],s)+"^"+this.compile(e.children[1],s)+")";break;case"op_neg":s?c="$jc$.neg("+this.compile(e.children[0],s)+")":c="(-"+this.compile(e.children[0],s)+")";break}break;case"node_var":s?c=this.getvarJS(e.value,!1,e.withProps):c=e.value;break;case"node_const":c=e.value;break;case"node_const_bool":c=e.value;break;case"node_str":c="'"+e.value+"'";break}return e.needsBrackets&&(c=`{
`+c+` }
`),e.needsAngleBrackets&&(s?c=`{
`+c+` }
`:c="<< "+c+` >>
`),c},getName:function(e,s){var a="";return JXG$1.exists(e)&&JXG$1.exists(e.getName)?(a=e.getName(),(!JXG$1.exists(a)||a==="")&&s&&(a=e.id)):s&&(a=e.id),a},X:function(e){return e.X()},Y:function(e){return e.Y()},V:function(e){return e.Value()},L:function(e){return e.L()},area:function(e){return(!JXG$1.exists(e)||!JXG$1.exists(e.Area))&&this._error("Error: Can't calculate area."),e.Area()},perimeter:function(e){return(!JXG$1.exists(e)||!JXG$1.exists(e.Perimeter))&&this._error("Error: Can't calculate perimeter."),e.Perimeter()},dist:function(e,s){return(!JXG$1.exists(e)||!JXG$1.exists(e.Dist))&&this._error("Error: Can't calculate distance."),e.Dist(s)},radius:function(e){return(!JXG$1.exists(e)||!JXG$1.exists(e.Radius))&&this._error("Error: Can't calculate radius."),e.Radius()},slope:function(e){return(!JXG$1.exists(e)||!JXG$1.exists(e.Slope))&&this._error("Error: Can't calculate slope."),e.Slope()},add:function(e,s){var a,o,h;if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),Interval.isInterval(e)||Interval.isInterval(s))h=Interval.add(e,s);else if(JXG$1.isArray(e)&&JXG$1.isArray(s))for(o=Math.min(e.length,s.length),h=[],a=0;a<o;a++)h[a]=e[a]+s[a];else JXG$1.isNumber(e)&&JXG$1.isNumber(s)?h=e+s:JXG$1.isString(e)||JXG$1.isString(s)?h=e.toString()+s.toString():this._error("Operation + not defined on operands "+typeof e+" and "+typeof s);return h},sub:function(e,s){var a,o,h;if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),Interval.isInterval(e)||Interval.isInterval(s))h=Interval.sub(e,s);else if(JXG$1.isArray(e)&&JXG$1.isArray(s))for(o=Math.min(e.length,s.length),h=[],a=0;a<o;a++)h[a]=e[a]-s[a];else JXG$1.isNumber(e)&&JXG$1.isNumber(s)?h=e-s:this._error("Operation - not defined on operands "+typeof e+" and "+typeof s);return h},neg:function(e){var s,a,o;if(e=JXG$1.evalSlider(e),Interval.isInterval(e))o=Interval.negative(e);else if(JXG$1.isArray(e))for(a=e.length,o=[],s=0;s<a;s++)o[s]=-e[s];else JXG$1.isNumber(e)?o=-e:this._error("Unary operation - not defined on operand "+typeof e);return o},mul:function(e,s){var a,o,h;if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),JXG$1.isArray(e)&&JXG$1.isNumber(s)&&(a=e,e=s,s=e),Interval.isInterval(e)||Interval.isInterval(s))h=Interval.mul(e,s);else if(JXG$1.isArray(e)&&JXG$1.isArray(s))o=Math.min(e.length,s.length),h=Mat.innerProduct(e,s,o);else if(JXG$1.isNumber(e)&&JXG$1.isArray(s))for(o=s.length,h=[],a=0;a<o;a++)h[a]=e*s[a];else JXG$1.isNumber(e)&&JXG$1.isNumber(s)?h=e*s:this._error("Operation * not defined on operands "+typeof e+" and "+typeof s);return h},div:function(e,s){var a,o,h;if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),Interval.isInterval(e)||Interval.isInterval(s))h=Interval.div(e,s);else if(JXG$1.isArray(e)&&JXG$1.isNumber(s))for(o=e.length,h=[],a=0;a<o;a++)h[a]=e[a]/s;else JXG$1.isNumber(e)&&JXG$1.isNumber(s)?h=e/s:this._error("Operation * not defined on operands "+typeof e+" and "+typeof s);return h},mod:function(e,s){var a,o,h;if(e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),Interval.isInterval(e)||Interval.isInterval(s))return Interval.fmod(e,s);if(JXG$1.isArray(e)&&JXG$1.isNumber(s))for(o=e.length,h=[],a=0;a<o;a++)h[a]=Mat.mod(e[a],s,!0);else JXG$1.isNumber(e)&&JXG$1.isNumber(s)?h=Mat.mod(e,s,!0):this._error("Operation * not defined on operands "+typeof e+" and "+typeof s);return h},pow:function(e,s){return e=JXG$1.evalSlider(e),s=JXG$1.evalSlider(s),Interval.isInterval(e)||Interval.isInterval(s)?Interval.pow(e,s):Mat.pow(e,s)},lt:function(e,s){return Interval.isInterval(e)||Interval.isInterval(s)?Interval.lt(e,s):e<s},leq:function(e,s){return Interval.isInterval(e)||Interval.isInterval(s)?Interval.leq(e,s):e<=s},gt:function(e,s){return Interval.isInterval(e)||Interval.isInterval(s)?Interval.gt(e,s):e>s},geq:function(e,s){return Interval.isInterval(e)||Interval.isInterval(s)?Interval.geq(e,s):e>=s},randint:function(e,s,a){return JXG$1.exists(a)||(a=1),Math.round(Math.random()*(s-e)/a)*a+e},DDD:function(e){console.log("Dummy derivative function. This should never appear!")},ifthen:function(e,s,a){return e?s:a},del:function(e){typeof e=="object"&&JXG$1.exists(e.type)&&JXG$1.exists(e.elementClass)&&this.board.removeObject(e)},eval:function(e){return JXG$1.evaluate(e)},use:function(e){var s,a,o=!1;if(typeof e=="string"){for(s in JXG$1.boards)if(JXG$1.boards.hasOwnProperty(s)&&JXG$1.boards[s].container===e){a=JXG$1.boards[s],o=!0;break}}else a=e,o=!0;o?(this.board=a,this.builtIn.$board=a,this.builtIn.$board.src="$jc$.board"):this._error("Board '"+e+"' not found!")},findSymbol:function(e,s){var a,o;for(s=JXG$1.def(s,-1),s===-1?o=this.scope:o=this.scopes[s];o!==null;){for(a in o.locals)if(o.locals.hasOwnProperty(a)&&o.locals[a]===e)return[a,o];o=o.previous}return[]},importModule:function(e){return priv$4.modules[e.toLowerCase()]},defineBuiltIn:function(){var e=this,s={PI:Math.PI,EULER:Math.E,D:e.DDD,X:e.X,Y:e.Y,V:e.V,Value:e.V,L:e.L,Length:e.L,acosh:Mat.acosh,acot:Mat.acot,asinh:Mat.asinh,binomial:Mat.binomial,cbrt:Mat.cbrt,cosh:Mat.cosh,cot:Mat.cot,deg:Geometry.trueAngle,A:e.area,area:e.area,Area:e.area,perimeter:e.perimeter,Perimeter:e.perimeter,dist:e.dist,Dist:e.dist,R:e.radius,radius:e.radius,Radius:e.radius,erf:Mat.erf,erfc:Mat.erfc,erfi:Mat.erfi,factorial:Mat.factorial,gcd:Mat.gcd,lb:Mat.log2,lcm:Mat.lcm,ld:Mat.log2,lg:Mat.log10,ln:Math.log,log:Mat.log,log10:Mat.log10,log2:Mat.log2,ndtr:Mat.ndtr,ndtri:Mat.ndtri,nthroot:Mat.nthroot,pow:Mat.pow,rad:Geometry.rad,ratpow:Mat.ratpow,trunc:JXG$1.trunc,sinh:Mat.sinh,slope:e.slope,Slope:e.slope,randint:e.randint,IfThen:e.ifthen,import:e.importModule,eval:e.eval,use:e.use,remove:e.del,$:e.getElementById,$value:function(a){return e.getElementById(a).Value()},getName:e.getName,name:e.getName,$board:e.board,$log:e.log};return s.rad.sc=Geometry,s.deg.sc=Geometry,s.factorial.sc=Mat,s.X.src="$jc$.X",s.Y.src="$jc$.Y",s.V.src="$jc$.V",s.Value.src="$jc$.V",s.L.src="$jc$.L",s.Length.src="$jc$.L",s.acosh.src="JXG.Math.acosh",s.acot.src="JXG.Math.acot",s.asinh.src="JXG.Math.asinh",s.binomial.src="JXG.Math.binomial",s.cbrt.src="JXG.Math.cbrt",s.cot.src="JXG.Math.cot",s.cosh.src="JXG.Math.cosh",s.deg.src="JXG.Math.Geometry.trueAngle",s.erf.src="JXG.Math.erf",s.erfc.src="JXG.Math.erfc",s.erfi.src="JXG.Math.erfi",s.A.src="$jc$.area",s.area.src="$jc$.area",s.Area.src="$jc$.area",s.perimeter.src="$jc$.perimeter",s.Perimeter.src="$jc$.perimeter",s.dist.src="$jc$.dist",s.Dist.src="$jc$.dist",s.R.src="$jc$.radius",s.radius.src="$jc$.radius",s.Radius.src="$jc$.radius",s.factorial.src="JXG.Math.factorial",s.gcd.src="JXG.Math.gcd",s.lb.src="JXG.Math.log2",s.lcm.src="JXG.Math.lcm",s.ld.src="JXG.Math.log2",s.lg.src="JXG.Math.log10",s.ln.src="Math.log",s.log.src="JXG.Math.log",s.log10.src="JXG.Math.log10",s.log2.src="JXG.Math.log2",s.ndtr.src="JXG.Math.ndtr",s.ndtri.src="JXG.Math.ndtri",s.nthroot.src="JXG.Math.nthroot",s.pow.src="JXG.Math.pow",s.rad.src="JXG.Math.Geometry.rad",s.ratpow.src="JXG.Math.ratpow",s.trunc.src="JXG.trunc",s.sinh.src="JXG.Math.sinh",s.slope.src="$jc$.slope",s.Slope.src="$jc$.slope",s.randint.src="$jc$.randint",s.import.src="$jc$.importModule",s.eval.src="$jc$.eval",s.use.src="$jc$.use",s.remove.src="$jc$.del",s.IfThen.src="$jc$.ifthen",s.$.src="(function (n) { return $jc$.board.select(n); })",s.$value.src="(function (n) { return $jc$.board.select(n).Value(); })",s.getName.src="$jc$.getName",s.name.src="$jc$.getName",s.$board&&(s.$board.src="$jc$.board"),s.$log.src="$jc$.log",s=JXG$1.merge(s,e._addedBuiltIn),s},_addedBuiltIn:{},addBuiltIn:function(e,s){if(JXG$1.exists(this.builtIn)){if(JXG$1.exists(this.builtIn[e]))return;this.builtIn[e]=s,this.builtIn[e].src="$jc$."+e}JXG$1.exists(this._addedBuiltIn[e])||(this._addedBuiltIn[e]=s,this._addedBuiltIn[e].src="$jc$."+e,JXG$1.JessieCode.prototype[e]=s)},getPossibleOperands:function(){var e=["E"],s=this.builtIn||this.defineBuiltIn(),a=Math,o,h,c,d,g,_,b,$,j,_e,et,tt,it,at;for(it=function(nt,st){return nt.toLowerCase().localeCompare(st.toLowerCase())},at=function(nt,st){var rt=null;if(st==="jc")rt=s[nt];else if(st==="Math")rt=a[nt];else return;if(!(e.indexOf(nt)>=0)){if(JXG$1.isFunction(rt))return{name:nt,type:"function",numParams:rt.length,origin:st};if(JXG$1.isNumber(rt))return{name:nt,type:"constant",value:rt,origin:st};nt.startsWith("$")||rt!==void 0&&console.error("undefined type",rt)}},o=Object.getOwnPropertyNames(s).sort(it),h=Object.getOwnPropertyNames(a).sort(it),c=[],d=0,g=0;d<o.length||g<h.length;)o[d]===h[g]?(_=at(h[g],"Math"),JXG$1.exists(_)&&c.push(_),d++,g++):!JXG$1.exists(h[g])||o[d].toLowerCase().localeCompare(h[g].toLowerCase())<0?(_=at(o[d],"jc"),JXG$1.exists(_)&&c.push(_),d++):(_=at(h[g],"Math"),JXG$1.exists(_)&&c.push(_),g++);for(j=[],_e=[],et=[],tt={},b=c.length,d=0;d<b;d++){switch($=c[d],$.type){case"function":j.push($.name),$.origin==="jc"&&_e.push($.name);break;case"constant":et.push($.name);break}tt[$.name]=$}return{all:tt,list:c,functions:j,functions_jessiecode:_e,constants:et}},_debug:function(e){typeof console=="object"?console.log(e):JXG$1.isBrowser&&document&&document.getElementById("debug")!==null&&(document.getElementById("debug").innerHTML+=e+"<br />")},_error:function(e){var s=new Error("Error("+this.line+"): "+e);throw s.line=this.line,s},_warn:function(e){typeof console=="object"?console.log("Warning("+this.line+"): "+e):JXG$1.isBrowser&&document&&document.getElementById(this.warnLog)!==null&&(document.getElementById(this.warnLog).innerHTML+="Warning("+this.line+"): "+e+"<br />")},_log:function(e){typeof window!="object"&&typeof self=="object"&&self.postMessage?self.postMessage({type:"log",msg:"Log: "+e.toString()}):console.log("Log: ",arguments)}});var parser=function(){var e=function(Ut,Ot,Dt,Rt){for(Dt=Dt||{},Rt=Ut.length;Rt--;Dt[Ut[Rt]]=Ot);return Dt},s=[2,14],a=[1,13],o=[1,37],h=[1,14],c=[1,15],d=[1,21],g=[1,16],_=[1,17],b=[1,33],$=[1,18],j=[1,19],_e=[1,12],et=[1,59],tt=[1,60],it=[1,58],at=[1,46],nt=[1,48],st=[1,49],rt=[1,50],lt=[1,51],ot=[1,52],ht=[1,53],ct=[1,54],ut=[1,45],dt=[1,38],ft=[1,39],gt=[5,7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],mt=[5,7,8,12,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],vt=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],Jt=[2,48],Pt=[1,72],$t=[10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,66,83,86],Et=[1,78],Gt=[8,10,16,32,34,35,37,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],_t=[1,82],bt=[8,10,16,32,34,35,37,39,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],yt=[1,83],Ct=[1,84],pt=[1,85],Mt=[8,10,16,32,34,35,37,39,41,42,43,50,51,53,54,55,57,64,65,66,83,86],xt=[1,89],It=[1,90],Nt=[1,91],St=[1,92],Bt=[1,97],Ft=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,53,54,55,57,64,65,66,83,86],jt=[1,103],Yt=[1,104],Wt=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,57,64,65,66,83,86],Ht=[1,105],Vt=[1,106],Qt=[1,107],_i=[1,126],Zt=[1,139],ls=[83,86],ns=[1,150],hs=[10,66,86],us=[8,10,16,20,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,82,83,86],fs=[1,167],ps=[10,86],ss={trace:function(){},yy:{},symbols_:{error:2,Program:3,StatementList:4,EOF:5,IfStatement:6,IF:7,"(":8,Expression:9,")":10,Statement:11,ELSE:12,LoopStatement:13,WHILE:14,FOR:15,";":16,DO:17,UnaryStatement:18,USE:19,IDENTIFIER:20,DELETE:21,ReturnStatement:22,RETURN:23,EmptyStatement:24,StatementBlock:25,"{":26,"}":27,ExpressionStatement:28,AssignmentExpression:29,ConditionalExpression:30,LeftHandSideExpression:31,"=":32,LogicalORExpression:33,"?":34,":":35,LogicalANDExpression:36,"||":37,EqualityExpression:38,"&&":39,RelationalExpression:40,"==":41,"!=":42,"~=":43,AdditiveExpression:44,"<":45,">":46,"<=":47,">=":48,MultiplicativeExpression:49,"+":50,"-":51,UnaryExpression:52,"*":53,"/":54,"%":55,ExponentExpression:56,"^":57,"!":58,MemberExpression:59,CallExpression:60,PrimaryExpression:61,FunctionExpression:62,MapExpression:63,".":64,"[":65,"]":66,BasicLiteral:67,ObjectLiteral:68,ArrayLiteral:69,NullLiteral:70,BooleanLiteral:71,StringLiteral:72,NumberLiteral:73,NULL:74,TRUE:75,FALSE:76,STRING:77,NUMBER:78,NAN:79,INFINITY:80,ElementList:81,"<<":82,">>":83,PropertyList:84,Property:85,",":86,PropertyName:87,Arguments:88,AttributeList:89,Attribute:90,FUNCTION:91,ParameterDefinitionList:92,MAP:93,"->":94,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"IF",8:"(",10:")",12:"ELSE",14:"WHILE",15:"FOR",16:";",17:"DO",19:"USE",20:"IDENTIFIER",21:"DELETE",23:"RETURN",26:"{",27:"}",32:"=",34:"?",35:":",37:"||",39:"&&",41:"==",42:"!=",43:"~=",45:"<",46:">",47:"<=",48:">=",50:"+",51:"-",53:"*",54:"/",55:"%",57:"^",58:"!",64:".",65:"[",66:"]",74:"NULL",75:"TRUE",76:"FALSE",77:"STRING",78:"NUMBER",79:"NAN",80:"INFINITY",82:"<<",83:">>",86:",",91:"FUNCTION",93:"MAP",94:"->"},productions_:[0,[3,2],[6,5],[6,7],[13,5],[13,9],[13,7],[18,2],[18,2],[22,2],[22,3],[24,1],[25,3],[4,2],[4,0],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[28,2],[9,1],[29,1],[29,3],[30,1],[30,5],[33,1],[33,3],[36,1],[36,3],[38,1],[38,3],[38,3],[38,3],[40,1],[40,3],[40,3],[40,3],[40,3],[44,1],[44,3],[44,3],[49,1],[49,3],[49,3],[49,3],[56,1],[56,3],[52,1],[52,2],[52,2],[52,2],[31,1],[31,1],[59,1],[59,1],[59,1],[59,3],[59,4],[61,1],[61,1],[61,1],[61,1],[61,3],[67,1],[67,1],[67,1],[67,1],[70,1],[71,1],[71,1],[72,1],[73,1],[73,1],[73,1],[69,2],[69,3],[68,2],[68,3],[84,1],[84,3],[85,3],[87,1],[87,1],[87,1],[60,2],[60,3],[60,2],[60,4],[60,3],[88,2],[88,3],[89,1],[89,3],[90,1],[90,1],[81,1],[81,3],[62,4],[62,5],[63,5],[63,6],[92,1],[92,3]],performAction:function(Ot,Dt,Rt,zt,Lt,wt,At){var Xt=wt.length-1;switch(Lt){case 1:return wt[Xt-1];case 2:this.$=kt.createNode(Tt(At[Xt-4]),"node_op","op_if",wt[Xt-2],wt[Xt]);break;case 3:this.$=kt.createNode(Tt(At[Xt-6]),"node_op","op_if_else",wt[Xt-4],wt[Xt-2],wt[Xt]);break;case 4:this.$=kt.createNode(Tt(At[Xt-4]),"node_op","op_while",wt[Xt-2],wt[Xt]);break;case 5:this.$=kt.createNode(Tt(At[Xt-8]),"node_op","op_for",wt[Xt-6],wt[Xt-4],wt[Xt-2],wt[Xt]);break;case 6:this.$=kt.createNode(Tt(At[Xt-6]),"node_op","op_do",wt[Xt-5],wt[Xt-2]);break;case 7:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_use",wt[Xt]);break;case 8:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_delete",wt[Xt]);break;case 9:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_return",void 0);break;case 10:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_return",wt[Xt-1]);break;case 11:case 14:this.$=kt.createNode(Tt(At[Xt]),"node_op","op_none");break;case 12:this.$=wt[Xt-1],this.$.needsBrackets=!0;break;case 13:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_none",wt[Xt-1],wt[Xt]);break;case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 24:case 26:case 28:case 30:case 32:case 36:case 41:case 44:case 48:case 50:case 52:case 54:case 55:case 56:case 58:case 62:case 81:case 84:case 85:case 86:this.$=wt[Xt];break;case 22:case 65:case 93:this.$=wt[Xt-1];break;case 25:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_assign",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 27:this.$=kt.createNode(Tt(At[Xt-4]),"node_op","op_conditional",wt[Xt-4],wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 29:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_or",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 31:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_and",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 33:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_eq",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 34:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_neq",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 35:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_approx",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 37:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_lt",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 38:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_gt",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 39:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_leq",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 40:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_geq",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 42:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_add",wt[Xt-2],wt[Xt]),this.$.isMath=!0;break;case 43:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_sub",wt[Xt-2],wt[Xt]),this.$.isMath=!0;break;case 45:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_mul",wt[Xt-2],wt[Xt]),this.$.isMath=!0;break;case 46:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_div",wt[Xt-2],wt[Xt]),this.$.isMath=!0;break;case 47:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_mod",wt[Xt-2],wt[Xt]),this.$.isMath=!0;break;case 49:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_exp",wt[Xt-2],wt[Xt]),this.$.isMath=!0;break;case 51:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_not",wt[Xt]),this.$.isMath=!1;break;case 53:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_neg",wt[Xt]),this.$.isMath=!0;break;case 57:case 63:case 64:case 66:case 67:case 68:case 97:this.$=wt[Xt],this.$.isMath=!1;break;case 59:case 91:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_property",wt[Xt-2],wt[Xt]),this.$.isMath=!0;break;case 60:case 90:this.$=kt.createNode(Tt(At[Xt-3]),"node_op","op_extvalue",wt[Xt-3],wt[Xt-1]),this.$.isMath=!0;break;case 61:this.$=kt.createNode(Tt(At[Xt]),"node_var",wt[Xt]);break;case 69:this.$=wt[Xt],this.$.isMath=!0;break;case 70:this.$=kt.createNode(Tt(At[Xt]),"node_const",null);break;case 71:this.$=kt.createNode(Tt(At[Xt]),"node_const_bool",!0);break;case 72:this.$=kt.createNode(Tt(At[Xt]),"node_const_bool",!1);break;case 73:this.$=kt.createNode(Tt(At[Xt]),"node_str",wt[Xt].substring(1,wt[Xt].length-1));break;case 74:this.$=kt.createNode(Tt(At[Xt]),"node_const",parseFloat(wt[Xt]));break;case 75:this.$=kt.createNode(Tt(At[Xt]),"node_const",NaN);break;case 76:this.$=kt.createNode(Tt(At[Xt]),"node_const",1/0);break;case 77:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_array",[]);break;case 78:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_array",wt[Xt-1]);break;case 79:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_emptyobject",{}),this.$.needsAngleBrackets=!0;break;case 80:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_proplst_val",wt[Xt-1]),this.$.needsAngleBrackets=!0;break;case 82:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_proplst",wt[Xt-2],wt[Xt]);break;case 83:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_prop",wt[Xt-2],wt[Xt]);break;case 87:case 89:this.$=kt.createNode(Tt(At[Xt-1]),"node_op","op_execfun",wt[Xt-1],wt[Xt]),this.$.isMath=!0;break;case 88:this.$=kt.createNode(Tt(At[Xt-2]),"node_op","op_execfun",wt[Xt-2],wt[Xt-1],wt[Xt],!0),this.$.isMath=!1;break;case 92:this.$=[];break;case 94:case 98:case 104:this.$=[wt[Xt]];break;case 95:case 99:case 105:this.$=wt[Xt-2].concat(wt[Xt]);break;case 96:this.$=kt.createNode(Tt(At[Xt]),"node_var",wt[Xt]),this.$.isMath=!0;break;case 100:this.$=kt.createNode(Tt(At[Xt-3]),"node_op","op_function",[],wt[Xt]),this.$.isMath=!1;break;case 101:this.$=kt.createNode(Tt(At[Xt-4]),"node_op","op_function",wt[Xt-2],wt[Xt]),this.$.isMath=!1;break;case 102:this.$=kt.createNode(Tt(At[Xt-4]),"node_op","op_map",[],wt[Xt]);break;case 103:this.$=kt.createNode(Tt(At[Xt-5]),"node_op","op_map",wt[Xt-3],wt[Xt]);break}},table:[e([5,7,8,14,15,16,17,19,20,21,23,26,50,51,58,65,74,75,76,77,78,79,80,82,91,93],s,{3:1,4:2}),{1:[3]},{5:[1,3],6:6,7:a,8:o,9:20,11:4,13:7,14:h,15:c,16:d,17:g,18:8,19:_,20:b,21:$,22:9,23:j,24:11,25:5,26:_e,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{1:[2,1]},e(gt,[2,13]),e(mt,[2,15]),e(mt,[2,16]),e(mt,[2,17]),e(mt,[2,18]),e(mt,[2,19]),e(mt,[2,20]),e(mt,[2,21]),e([7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],s,{4:61}),{8:[1,62]},{8:[1,63]},{8:[1,64]},{6:6,7:a,8:o,9:20,11:65,13:7,14:h,15:c,16:d,17:g,18:8,19:_,20:b,21:$,22:9,23:j,24:11,25:5,26:_e,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{20:[1,66]},{20:[1,67]},{8:o,9:69,16:[1,68],20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{16:[1,70]},e(mt,[2,11]),e(vt,[2,23]),e(vt,[2,24]),e([8,10,16,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],Jt,{32:[1,71],57:Pt}),e([8,10,16,32,35,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],[2,26],{34:[1,73],37:[1,74]}),e($t,[2,54],{88:77,8:Et,64:[1,75],65:[1,76]}),e($t,[2,55],{88:79,8:Et,64:[1,81],65:[1,80]}),e(Gt,[2,28],{39:_t}),e(vt,[2,56]),e(vt,[2,57]),e(vt,[2,58]),e(bt,[2,30],{41:yt,42:Ct,43:pt}),e(vt,[2,61]),e(vt,[2,62]),e(vt,[2,63]),e(vt,[2,64]),{8:o,9:86,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:[1,87]},{8:[1,88]},e(Mt,[2,32],{45:xt,46:It,47:Nt,48:St}),e(vt,[2,66]),e(vt,[2,67]),e(vt,[2,68]),e(vt,[2,69]),{20:Bt,72:98,73:99,77:lt,78:ot,79:ht,80:ct,83:[1,93],84:94,85:95,87:96},{8:o,20:b,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,66:[1,100],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,81:101,82:ut,91:dt,93:ft},e(Ft,[2,36],{50:jt,51:Yt}),e(vt,[2,70]),e(vt,[2,71]),e(vt,[2,72]),e(vt,[2,73]),e(vt,[2,74]),e(vt,[2,75]),e(vt,[2,76]),e(Wt,[2,41],{53:Ht,54:Vt,55:Qt}),e(vt,[2,44]),e(vt,[2,50]),{8:o,20:b,31:109,50:et,51:tt,52:108,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,50:et,51:tt,52:110,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,50:et,51:tt,52:111,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{6:6,7:a,8:o,9:20,11:4,13:7,14:h,15:c,16:d,17:g,18:8,19:_,20:b,21:$,22:9,23:j,24:11,25:5,26:_e,27:[1,112],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,9:113,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,9:114,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,9:115,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{14:[1,116]},e(mt,[2,7]),e(mt,[2,8]),e(mt,[2,9]),{16:[1,117]},e(mt,[2,22]),{8:o,20:b,29:118,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,50:et,51:tt,52:119,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,29:120,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,36:121,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{20:[1,122]},{8:o,9:123,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},e(vt,[2,87],{89:124,90:125,68:127,20:_i,82:ut}),{8:o,10:[1,128],20:b,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,81:129,82:ut,91:dt,93:ft},e(vt,[2,89]),{8:o,9:130,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{20:[1,131]},{8:o,20:b,31:109,38:132,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,40:133,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,40:134,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,40:135,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{10:[1,136]},{10:[1,137],20:Zt,92:138},{10:[1,140],20:Zt,92:141},{8:o,20:b,31:109,44:142,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,44:143,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,44:144,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,44:145,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},e(vt,[2,79]),{83:[1,146],86:[1,147]},e(ls,[2,81]),{35:[1,148]},{35:[2,84]},{35:[2,85]},{35:[2,86]},e(vt,[2,77]),{66:[1,149],86:ns},e(hs,[2,98]),{8:o,20:b,31:109,49:151,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,49:152,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,50:et,51:tt,52:153,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,50:et,51:tt,52:154,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,31:109,50:et,51:tt,52:155,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},e(vt,[2,51]),e([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],Jt,{57:Pt}),e(vt,[2,52]),e(vt,[2,53]),e([5,7,8,10,12,14,15,16,17,19,20,21,23,26,27,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,58,64,65,66,74,75,76,77,78,79,80,82,83,86,91,93],[2,12]),{10:[1,156]},{10:[1,157]},{16:[1,158]},{8:[1,159]},e(mt,[2,10]),e(vt,[2,25]),e(vt,[2,49]),{35:[1,160]},e(Gt,[2,29],{39:_t}),e(vt,[2,59]),{66:[1,161]},e([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83],[2,88],{86:[1,162]}),e(vt,[2,94]),e(vt,[2,96]),e(vt,[2,97]),e(us,[2,92]),{10:[1,163],86:ns},{66:[1,164]},e(vt,[2,91]),e(bt,[2,31],{41:yt,42:Ct,43:pt}),e(Mt,[2,33],{45:xt,46:It,47:Nt,48:St}),e(Mt,[2,34],{45:xt,46:It,47:Nt,48:St}),e(Mt,[2,35],{45:xt,46:It,47:Nt,48:St}),e(vt,[2,65]),{25:165,26:_e},{10:[1,166],86:fs},e(ps,[2,104]),{94:[1,168]},{10:[1,169],86:fs},e(Ft,[2,37],{50:jt,51:Yt}),e(Ft,[2,38],{50:jt,51:Yt}),e(Ft,[2,39],{50:jt,51:Yt}),e(Ft,[2,40],{50:jt,51:Yt}),e(vt,[2,80]),{20:Bt,72:98,73:99,77:lt,78:ot,79:ht,80:ct,85:170,87:96},{8:o,20:b,29:171,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},e(vt,[2,78]),{8:o,20:b,29:172,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},e(Wt,[2,42],{53:Ht,54:Vt,55:Qt}),e(Wt,[2,43],{53:Ht,54:Vt,55:Qt}),e(vt,[2,45]),e(vt,[2,46]),e(vt,[2,47]),{6:6,7:a,8:o,9:20,11:173,13:7,14:h,15:c,16:d,17:g,18:8,19:_,20:b,21:$,22:9,23:j,24:11,25:5,26:_e,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{6:6,7:a,8:o,9:20,11:174,13:7,14:h,15:c,16:d,17:g,18:8,19:_,20:b,21:$,22:9,23:j,24:11,25:5,26:_e,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,9:175,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,9:176,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,20:b,29:177,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},e(vt,[2,60]),{20:_i,68:127,82:ut,90:178},e(us,[2,93]),e(vt,[2,90]),e(vt,[2,100]),{25:179,26:_e},{20:[1,180]},{8:o,9:181,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{94:[1,182]},e(ls,[2,82]),e(ls,[2,83]),e(hs,[2,99]),e(gt,[2,2],{12:[1,183]}),e(mt,[2,4]),{16:[1,184]},{10:[1,185]},e(vt,[2,27]),e(vt,[2,95]),e(vt,[2,101]),e(ps,[2,105]),e(vt,[2,102]),{8:o,9:186,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{6:6,7:a,8:o,9:20,11:187,13:7,14:h,15:c,16:d,17:g,18:8,19:_,20:b,21:$,22:9,23:j,24:11,25:5,26:_e,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{8:o,9:188,20:b,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},{16:[1,189]},e(vt,[2,103]),e(mt,[2,3]),{10:[1,190]},e(mt,[2,6]),{6:6,7:a,8:o,9:20,11:191,13:7,14:h,15:c,16:d,17:g,18:8,19:_,20:b,21:$,22:9,23:j,24:11,25:5,26:_e,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:et,51:tt,52:56,56:57,58:it,59:26,60:27,61:29,62:30,63:31,65:at,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:nt,75:st,76:rt,77:lt,78:ot,79:ht,80:ct,82:ut,91:dt,93:ft},e(mt,[2,5])],defaultActions:{3:[2,1],97:[2,84],98:[2,85],99:[2,86]},parseError:function(Ot,Dt){if(Dt.recoverable)this.trace(Ot);else{var Rt=new Error(Ot);throw Rt.hash=Dt,Rt}},parse:function(Ot){var Dt=this,Rt=[0],zt=[null],Lt=[],wt=this.table,At="",Xt=0,Xs=0,Js=2,bs=1,$s=Lt.slice.call(arguments,1),qt=Object.create(this.lexer),os={yy:{}};for(var vs in this.yy)Object.prototype.hasOwnProperty.call(this.yy,vs)&&(os.yy[vs]=this.yy[vs]);qt.setInput(Ot,os.yy),os.yy.lexer=qt,os.yy.parser=this,typeof qt.yylloc>"u"&&(qt.yylloc={});var Cs=qt.yylloc;Lt.push(Cs);var Ps=qt.options&&qt.options.ranges;typeof os.yy.parseError=="function"?this.parseError=os.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var xs=function(){var ds;return ds=qt.lex()||bs,typeof ds!="number"&&(ds=Dt.symbols_[ds]||ds),ds},Kt,as,ts,ys,cs={},ms,rs,Gs,gs;;){if(as=Rt[Rt.length-1],this.defaultActions[as]?ts=this.defaultActions[as]:((Kt===null||typeof Kt>"u")&&(Kt=xs()),ts=wt[as]&&wt[as][Kt]),typeof ts>"u"||!ts.length||!ts[0]){var _s="";gs=[];for(ms in wt[as])this.terminals_[ms]&&ms>Js&&gs.push("'"+this.terminals_[ms]+"'");qt.showPosition?_s="Parse error on line "+(Xt+1)+`:
`+qt.showPosition()+`
Expecting `+gs.join(", ")+", got '"+(this.terminals_[Kt]||Kt)+"'":_s="Parse error on line "+(Xt+1)+": Unexpected "+(Kt==bs?"end of input":"'"+(this.terminals_[Kt]||Kt)+"'"),this.parseError(_s,{text:qt.match,token:this.terminals_[Kt]||Kt,line:qt.yylineno,loc:Cs,expected:gs})}if(ts[0]instanceof Array&&ts.length>1)throw new Error("Parse Error: multiple actions possible at state: "+as+", token: "+Kt);switch(ts[0]){case 1:Rt.push(Kt),zt.push(qt.yytext),Lt.push(qt.yylloc),Rt.push(ts[1]),Kt=null,Xs=qt.yyleng,At=qt.yytext,Xt=qt.yylineno,Cs=qt.yylloc;break;case 2:if(rs=this.productions_[ts[1]][1],cs.$=zt[zt.length-rs],cs._$={first_line:Lt[Lt.length-(rs||1)].first_line,last_line:Lt[Lt.length-1].last_line,first_column:Lt[Lt.length-(rs||1)].first_column,last_column:Lt[Lt.length-1].last_column},Ps&&(cs._$.range=[Lt[Lt.length-(rs||1)].range[0],Lt[Lt.length-1].range[1]]),ys=this.performAction.apply(cs,[At,Xs,Xt,os.yy,ts[1],zt,Lt].concat($s)),typeof ys<"u")return ys;rs&&(Rt=Rt.slice(0,-1*rs*2),zt=zt.slice(0,-1*rs),Lt=Lt.slice(0,-1*rs)),Rt.push(this.productions_[ts[1]][0]),zt.push(cs.$),Lt.push(cs._$),Gs=wt[Rt[Rt.length-2]][Rt[Rt.length-1]],Rt.push(Gs);break;case 3:return!0}}return!0}},kt={node:function(Ut,Ot,Dt){return{type:Ut,value:Ot,children:Dt}},createNode:function(Ut,Ot,Dt,Rt){var zt,Lt=this.node(Ot,Dt,[]);for(zt=3;zt<arguments.length;zt++)Lt.children.push(arguments[zt]);return Lt.line=Ut[0],Lt.col=Ut[1],Lt.eline=Ut[2],Lt.ecol=Ut[3],Lt}},Tt=function(Ut){return[Ut.first_line,Ut.first_column,Ut.last_line,Ut.last_column]},is=function(){var Ut={EOF:1,parseError:function(Dt,Rt){if(this.yy.parser)this.yy.parser.parseError(Dt,Rt);else throw new Error(Dt)},setInput:function(Ot,Dt){return this.yy=Dt||this.yy||{},this._input=Ot,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ot=this._input[0];this.yytext+=Ot,this.yyleng++,this.offset++,this.match+=Ot,this.matched+=Ot;var Dt=Ot.match(/(?:\r\n?|\n).*/g);return Dt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ot},unput:function(Ot){var Dt=Ot.length,Rt=Ot.split(/(?:\r\n?|\n)/g);this._input=Ot+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Dt),this.offset-=Dt;var zt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Rt.length-1&&(this.yylineno-=Rt.length-1);var Lt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Rt?(Rt.length===zt.length?this.yylloc.first_column:0)+zt[zt.length-Rt.length].length-Rt[0].length:this.yylloc.first_column-Dt},this.options.ranges&&(this.yylloc.range=[Lt[0],Lt[0]+this.yyleng-Dt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ot){this.unput(this.match.slice(Ot))},pastInput:function(){var Ot=this.matched.substr(0,this.matched.length-this.match.length);return(Ot.length>20?"...":"")+Ot.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ot=this.match;return Ot.length<20&&(Ot+=this._input.substr(0,20-Ot.length)),(Ot.substr(0,20)+(Ot.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ot=this.pastInput(),Dt=new Array(Ot.length+1).join("-");return Ot+this.upcomingInput()+`
`+Dt+"^"},test_match:function(Ot,Dt){var Rt,zt,Lt;if(this.options.backtrack_lexer&&(Lt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Lt.yylloc.range=this.yylloc.range.slice(0))),zt=Ot[0].match(/(?:\r\n?|\n).*/g),zt&&(this.yylineno+=zt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:zt?zt[zt.length-1].length-zt[zt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ot[0].length},this.yytext+=Ot[0],this.match+=Ot[0],this.matches=Ot,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ot[0].length),this.matched+=Ot[0],Rt=this.performAction.call(this,this.yy,this,Dt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Rt)return Rt;if(this._backtrack){for(var wt in Lt)this[wt]=Lt[wt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ot,Dt,Rt,zt;this._more||(this.yytext="",this.match="");for(var Lt=this._currentRules(),wt=0;wt<Lt.length;wt++)if(Rt=this._input.match(this.rules[Lt[wt]]),Rt&&(!Dt||Rt[0].length>Dt[0].length)){if(Dt=Rt,zt=wt,this.options.backtrack_lexer){if(Ot=this.test_match(Rt,Lt[wt]),Ot!==!1)return Ot;if(this._backtrack){Dt=!1;continue}else return!1}else if(!this.options.flex)break}return Dt?(Ot=this.test_match(Dt,Lt[zt]),Ot!==!1?Ot:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Dt=this.next();return Dt||this.lex()},begin:function(Dt){this.conditionStack.push(Dt)},popState:function(){var Dt=this.conditionStack.length-1;return Dt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Dt){return Dt=this.conditionStack.length-1-Math.abs(Dt||0),Dt>=0?this.conditionStack[Dt]:"INITIAL"},pushState:function(Dt){this.begin(Dt)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Dt,Rt,zt,Lt){switch(zt){case 0:break;case 1:return 78;case 2:return 78;case 3:return 77;case 4:return 77;case 5:break;case 6:break;case 7:return 7;case 8:return 12;case 9:return 14;case 10:return 17;case 11:return 15;case 12:return 91;case 13:return 93;case 14:return 19;case 15:return 23;case 16:return 21;case 17:return 75;case 18:return 76;case 19:return 74;case 20:return 80;case 21:return 94;case 22:return 94;case 23:return 82;case 24:return 83;case 25:return 26;case 26:return 27;case 27:return 16;case 28:return"#";case 29:return 34;case 30:return 35;case 31:return 79;case 32:return 64;case 33:return 65;case 34:return 66;case 35:return 8;case 36:return 10;case 37:return 58;case 38:return 57;case 39:return 57;case 40:return 53;case 41:return 54;case 42:return 55;case 43:return 50;case 44:return 51;case 45:return 47;case 46:return 45;case 47:return 48;case 48:return 46;case 49:return 41;case 50:return 43;case 51:return 42;case 52:return 39;case 53:return 37;case 54:return 32;case 55:return 86;case 56:return 5;case 57:return 20;case 58:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:[0-9]+\.[0-9]*|[0-9]*\.[0-9]+\b)/,/^(?:[0-9]+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:if\b)/,/^(?:else\b)/,/^(?:while\b)/,/^(?:do\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:map\b)/,/^(?:use\b)/,/^(?:return\b)/,/^(?:delete\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Infinity\b)/,/^(?:->)/,/^(?:=>)/,/^(?:<<)/,/^(?:>>)/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:#)/,/^(?:\?)/,/^(?::)/,/^(?:NaN\b)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!)/,/^(?:\^)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:\+)/,/^(?:-)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:==)/,/^(?:~=)/,/^(?:!=)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:=)/,/^(?:,)/,/^(?:$)/,/^(?:[A-Za-z_\$][A-Za-z0-9_]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return Ut}();ss.lexer=is;function es(){this.yy={}}return es.prototype=ss,ss.Parser=es,new es}();parser.yy.parseError=parser.parseError;const JessieCode=JXG$1.JessieCode;JXG$1.Composition=function(e){var s,a=this,o=["setAttribute","setParents","prepareUpdate","updateRenderer","update","fullUpdate","highlight","noHighlight"],h=function(c){return function(){var d;for(d in a.elements)a.elements.hasOwnProperty(d)&&JXG$1.exists(a.elements[d][c])&&a.elements[d][c].apply(a.elements[d],arguments);return a}};for(s=0;s<o.length;s++)this[o[s]]=h(o[s]);this.elements={},this.objects=this.elements,this.elementsByName={},this.objectsList=[],this.groups={},this.methodMap={setAttribute:"setAttribute",setProperty:"setAttribute",setParents:"setParents",add:"add",remove:"remove",select:"select"};for(s in e)e.hasOwnProperty(s)&&this.add(s,e[s]);this.dump=!0,this.subs={}};JXG$1.extend(JXG$1.Composition.prototype,{add:function(e,s){return!JXG$1.exists(this[e])&&JXG$1.exists(s)?(JXG$1.exists(s.id)?this.elements[s.id]=s:this.elements[e]=s,JXG$1.exists(s.name)&&(this.elementsByName[s.name]=s),s.on("attribute:name",this.nameListener,this),this.objectsList.push(s),this[e]=s,this.methodMap[e]=s,!0):!1},remove:function(e){var s=!1,a;for(a in this.elements)if(this.elements.hasOwnProperty(a)&&this.elements[a].id===this[e].id){s=!0;break}return s&&(delete this.elements[this[e].id],delete this[e]),s},nameListener:function(e,s,a){delete this.elementsByName[e],this.elementsByName[s]=a},select:function(e){return JXG$1.exists(JXG$1.Board)?JXG$1.Board.prototype.select.call(this,e):new JXG$1.Composition},getParents:function(){return this.parents},getType:function(){return this.elType},getAttributes:function(){var e;for(e in this.subs)this.subs.hasOwnProperty(e)&&this.subs[e].visProp;return this.attr}});const Composition=JXG$1.Composition;JXG$1.Board=function(e,s,a,o,h,c,d,g,_,b,$){if(this.BOARD_MODE_NONE=0,this.BOARD_MODE_DRAG=1,this.BOARD_MODE_MOVE_ORIGIN=2,this.BOARD_MODE_ZOOM=17,this.BOARD_QUALITY_LOW=1,this.BOARD_QUALITY_HIGH=2,JXG$1.exists($.document)&&$.document!==!1?this.document=$.document:JXG$1.isBrowser&&(this.document=document),this.container="",this.id="",this.containerObj=null,JXG$1.isString(e)?(this.container=e,this.containerObj=JXG$1.isBrowser?this.document.getElementById(this.container):null):JXG$1.isBrowser&&(this.containerObj=e,this.container=this.containerObj.getAttribute("id"),this.container===null&&(this.container="null"+parseInt(Math.random()*16777216).toString())),JXG$1.isBrowser&&s.type!=="no"&&this.containerObj===null)throw new Error(`
JSXGraph: HTML container element "`+e+'" not found.');JXG$1.exists(a)&&a!==""&&JXG$1.isBrowser&&!JXG$1.exists(this.document.getElementById(a))?this.id=a:this.id=this.generateId(),this.renderer=s,this.grids=[],this.options=JXG$1.deepCopy(Options),this.attr=$,this.attr.theme!=="default"&&JXG$1.exists(JXG$1.themes[this.attr.theme])&&JXG$1.mergeAttr(this.options,JXG$1.themes[this.attr.theme],!0),this.dimension=2,this.jc=new JessieCode,this.jc.use(this),this.origin={},this.origin.usrCoords=[1,0,0],this.origin.scrCoords=[1,o[0],o[1]],this.zoomX=h,this.zoomY=c,this.unitX=d*this.zoomX,this.unitY=g*this.zoomY,this.keepaspectratio=!1,this.canvasWidth=_,this.canvasHeight=b,EventEmitter.eventify(this),this.hooks=[],this.dependentBoards=[],this.inUpdate=!1,this.objects={},this.objectsList=[],this.groups={},this.animationObjects={},this.highlightedObjects={},this.numObjects=0,this.elementsByName={},this.mode=this.BOARD_MODE_NONE,this.updateQuality=this.BOARD_QUALITY_HIGH,this.isSuspendedRedraw=!1,this.calculateSnapSizes(),this.drag_dx=0,this.drag_dy=0,this.drag_position=[0,0],this.mouse={},this.touches=[],this.xmlString="",this.cPos=[],this.touchMoveLast=0,this.touchMoveLastId=1/0,this.positionAccessLast=0,this.downObjects=[],this.clickObjects={},this.focusObjects=[],this.attr.showcopyright&&this.renderer.displayCopyright(Const.licenseText,parseInt(this.options.text.fontSize,10)),this.needsFullUpdate=!1,this.reducedUpdate=!1,this.currentCBDef="none",this.geonextCompatibilityMode=!1,this.options.text.useASCIIMathML&&translateASCIIMath?init():this.options.text.useASCIIMathML=!1,this.hasMouseHandlers=!1,this.hasTouchHandlers=!1,this.hasPointerHandlers=!1,this.hasWheelHandlers=!1,this.hasMouseUp=!1,this.hasTouchEnd=!1,this.hasPointerUp=!1,this.resizeHandlers=[],this._drag_offset=[0,0],this._inputDevice="mouse",this._board_touches=[],this.selectingMode=!1,this.isSelecting=!1,this._isScrolling=!1,this._isResizing=!1,this.selectingBox=[[0,0],[0,0]],this.userLog=[],this.mathLib=Math,this.mathLibJXG=JXG$1.Math,this.attr.registerevents===!0?this.attr.registerevents={fullscreen:!0,keyboard:!0,pointer:!0,resize:!0,wheel:!0}:typeof this.attr.registerevents=="object"&&(JXG$1.exists(this.attr.registerevents.fullscreen)||(this.attr.registerevents.fullscreen=!0),JXG$1.exists(this.attr.registerevents.keyboard)||(this.attr.registerevents.keyboard=!0),JXG$1.exists(this.attr.registerevents.pointer)||(this.attr.registerevents.pointer=!0),JXG$1.exists(this.attr.registerevents.resize)||(this.attr.registerevents.resize=!0),JXG$1.exists(this.attr.registerevents.wheel)||(this.attr.registerevents.wheel=!0)),this.attr.registerevents!==!1&&(this.attr.registerevents.fullscreen&&this.addFullscreenEventHandlers(),this.attr.registerevents.keyboard&&this.addKeyboardEventHandlers(),this.attr.registerevents.pointer&&this.addEventHandlers(),this.attr.registerevents.resize&&this.addResizeEventHandlers(),this.attr.registerevents.wheel&&this.addWheelEventHandlers()),this.methodMap={update:"update",fullUpdate:"fullUpdate",on:"on",off:"off",trigger:"trigger",setAttribute:"setAttribute",setBoundingBox:"setBoundingBox",setView:"setBoundingBox",getBoundingBox:"getBoundingBox",BoundingBox:"getBoundingBox",getView:"getBoundingBox",View:"getBoundingBox",migratePoint:"migratePoint",colorblind:"emulateColorblindness",suspendUpdate:"suspendUpdate",unsuspendUpdate:"unsuspendUpdate",clearTraces:"clearTraces",left:"clickLeftArrow",right:"clickRightArrow",up:"clickUpArrow",down:"clickDownArrow",zoomIn:"zoomIn",zoomOut:"zoomOut",zoom100:"zoom100",zoomElements:"zoomElements",remove:"removeObject",removeObject:"removeObject"}};JXG$1.extend(JXG$1.Board.prototype,{generateName:function(e){var s,a,o=this.attr.maxnamelength,h="",c="",d=[],g="";if(e.type===Const.OBJECT_TYPE_TICKS)return"";for(JXG$1.isPoint(e)||JXG$1.isPoint3D(e)?s=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:e.type===Const.OBJECT_TYPE_ANGLE?s=["","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"]:s=["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],!JXG$1.isPoint(e)&&!JXG$1.isPoint3D(e)&&e.elementClass!==Const.OBJECT_CLASS_LINE&&e.type!==Const.OBJECT_TYPE_ANGLE&&(e.type===Const.OBJECT_TYPE_POLYGON?h="P_{":e.elementClass===Const.OBJECT_CLASS_CIRCLE?h="k_{":e.elementClass===Const.OBJECT_CLASS_TEXT?h="t_{":h="s_{",c="}"),a=0;a<o;a++)d[a]=0;for(;d[o-1]<s.length;){for(d[0]=1;d[0]<s.length;d[0]++){for(g=h,a=o;a>0;a--)g+=s[d[a-1]];if(!JXG$1.exists(this.elementsByName[g+c]))return g+c}for(d[0]=s.length,a=1;a<o;a++)d[a-1]===s.length&&(d[a-1]=1,d[a]+=1)}return""},generateId:function(){for(var e=1;JXG$1.exists(JXG$1.boards["jxgBoard"+e]);)e=Math.round(Math.random()*16777216);return"jxgBoard"+e},setId:function(e,s){var a,o=this.numObjects,h=e.id;if(this.numObjects+=1,h===""||!JXG$1.exists(h))for(h=this.id+s+o;JXG$1.exists(this.objects[h]);)a=Math.round(Math.random()*65535),h=this.id+s+o+"-"+a;return e.id=h,this.objects[h]=e,e._pos=this.objectsList.length,this.objectsList[this.objectsList.length]=e,h},finalizeAdding:function(e){JXG$1.evaluate(e.visProp.visible)===!1&&this.renderer.display(e,!1)},finalizeLabel:function(e){e.hasLabel&&!JXG$1.evaluate(e.label.visProp.islabel)&&JXG$1.evaluate(e.label.visProp.visible)===!1&&this.renderer.display(e.label,!1)},checkFrameRate:function(e){var s=!1,a=new Date().getTime();return JXG$1.exists(e.pointerId)&&this.touchMoveLastId!==e.pointerId&&(s=!0,this.touchMoveLastId=e.pointerId),!s&&(a-this.touchMoveLast)*this.attr.maxframerate>=1e3&&(s=!0),s&&(this.touchMoveLast=a),s},getCoordsTopLeftCorner:function(){var e,s,a,o=this.document.ownerDocument||this.document,h=o.documentElement||this.document.body.parentNode,c=o.body,d=this.containerObj,g,_;if(this.cPos.length>0&&(this.mode===this.BOARD_MODE_DRAG||this.mode===this.BOARD_MODE_MOVE_ORIGIN||new Date().getTime()-this.positionAccessLast<1e3))return this.cPos;if(this.positionAccessLast=new Date().getTime(),d.getBoundingClientRect){for(a=d.getBoundingClientRect(),g=1,_=d;_&&JXG$1.exists(_.parentNode);)JXG$1.exists(_.style)&&JXG$1.exists(_.style.zoom)&&_.style.zoom!==""&&(g*=parseFloat(_.style.zoom)),_=_.parentNode;return e=[a.left*g,a.top*g],e[0]+=JXG$1.getProp(d,"border-left-width"),e[1]+=JXG$1.getProp(d,"border-top-width"),this.renderer.type!=="vml"&&(e[0]+=JXG$1.getProp(d,"padding-left"),e[1]+=JXG$1.getProp(d,"padding-top")),this.cPos=e.slice(),this.cPos}return e=JXG$1.getOffset(d),s=this.document.documentElement.ownerDocument,!this.containerObj.currentStyle&&s.defaultView&&(e[0]+=JXG$1.getProp(h,"margin-left"),e[1]+=JXG$1.getProp(h,"margin-top"),e[0]+=JXG$1.getProp(h,"border-left-width"),e[1]+=JXG$1.getProp(h,"border-top-width"),e[0]+=JXG$1.getProp(h,"padding-left"),e[1]+=JXG$1.getProp(h,"padding-top")),c&&(e[0]+=JXG$1.getProp(c,"left"),e[1]+=JXG$1.getProp(c,"top")),typeof google=="object"&&google.translate&&(e[0]+=10,e[1]+=25),e[0]+=JXG$1.getProp(d,"border-left-width"),e[1]+=JXG$1.getProp(d,"border-top-width"),this.renderer.type!=="vml"&&(e[0]+=JXG$1.getProp(d,"padding-left"),e[1]+=JXG$1.getProp(d,"padding-top")),e[0]+=this.attr.offsetx,e[1]+=this.attr.offsety,this.cPos=e.slice(),this.cPos},getPointLoc:function(e,s){var a,o,h,c;return a=this.getBoundingBox(),o=e,o.length===2&&o.unshift(void 0),h=[0,0],c=s||0,JXG$1.isNumber(c)&&(c=[c,c,c,c]),o[1]>a[2]-c[1]&&(h[0]=1),o[1]<a[0]+c[3]&&(h[0]=-1),o[2]>a[1]-c[0]&&(h[1]=1),o[2]<a[3]+c[2]&&(h[1]=-1),h},getLocationOrigin:function(e){return this.getPointLoc([0,0],e)},getMousePosition:function(e,s){var a=this.getCoordsTopLeftCorner(),o,h;return o=JXG$1.getPosition(e,s,this.document),this.updateCSSTransforms(),h=[1,o[0]-a[0],o[1]-a[1]],h=Mat.matVecMult(this.cssTransMat,h),h[1]/=h[0],h[2]/=h[0],[h[1],h[2]]},initMoveOrigin:function(e,s){this.drag_dx=e-this.origin.scrCoords[1],this.drag_dy=s-this.origin.scrCoords[2],this.mode=this.BOARD_MODE_MOVE_ORIGIN,this.updateQuality=this.BOARD_QUALITY_LOW},initMoveObject:function(e,s,a,o){var h,c,d=[],g=[],_,b=this.objectsList.length,$={visProp:{layer:-1e4}};for(this._shiftKey=a.shiftKey,this._ctrlKey=a.ctrlKey,c=0;c<b;c++)h=this.objectsList[c],_=h.hasPoint&&h.hasPoint(e,s),h.visPropCalc.visible&&_&&(h.triggerEventHandlers([o+"down","down"],[a]),this.downObjects.push(h)),_&&h.isDraggable&&h.visPropCalc.visible&&(this.geonextCompatibilityMode&&(JXG$1.isPoint(h)||h.elementClass===Const.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!JXG$1.evaluate(h.visProp.fixed)&&(h.visProp.layer>$.visProp.layer||h.visProp.layer===$.visProp.layer&&h.lastDragTime.getTime()>=$.lastDragTime.getTime())&&(!this.attr.ignorelabels||!JXG$1.exists($.label)||h!==$.label)&&($=h,d.push($),JXG$1.exists($.coords)?g.push(Statistics.subtract($.coords.scrCoords.slice(1),[e,s])):g.push([0,0]));return this.attr.drag.enabled&&d.length>0&&(this.mode=this.BOARD_MODE_DRAG),this.attr.takefirst?(d.length=1,this._drag_offset=g[0]):(d=d.slice(-1),this._drag_offset=g[g.length-1]),this._drag_offset||(this._drag_offset=[0,0]),this.renderer.type==="svg"&&JXG$1.exists(d[0])&&JXG$1.evaluate(d[0].visProp.dragtotopoflayer)&&d.length===1&&JXG$1.exists(d[0].rendNode)&&d[0].rendNode.parentNode.appendChild(d[0].rendNode),d.length>=1&&(d[0].highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[a,d[0]])),d},moveObject:function(e,s,a,o,h){var c=new Coords(Const.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(e,s),this),d,g,_;a&&a.obj&&(d=a.obj,d.coords&&(g=d.coords.scrCoords.slice()),this.addLogEntry("drag",d,c.usrCoords.slice(1)),this.drag_position=[c.scrCoords[1],c.scrCoords[2]],this.drag_position=Statistics.add(this.drag_position,this._drag_offset),this._shiftKey=o.shiftKey,this._ctrlKey=o.ctrlKey,JXG$1.exists(d.coords)?d.setPositionDirectly(Const.COORDS_BY_SCREEN,this.drag_position):(this.displayInfobox(!1),isNaN(a.targets[0].Xprev+a.targets[0].Yprev)||d.setPositionDirectly(Const.COORDS_BY_SCREEN,[c.scrCoords[1],c.scrCoords[2]],[a.targets[0].Xprev,a.targets[0].Yprev]),a.targets[0].Xprev=c.scrCoords[1],a.targets[0].Yprev=c.scrCoords[2]),JXG$1.exists(d.coords)&&(d.prepareUpdate().update(!1).updateRenderer(),this.updateInfobox(d),d.prepareUpdate().update(!0).updateRenderer()),d.coords&&(_=d.coords.scrCoords),(!d.coords||g[1]!==_[1]||g[2]!==_[2])&&(d.triggerEventHandlers([h+"drag","drag"],[o]),this.update()),d.highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[o,d]),d.lastDragTime=new Date)},twoFingerMove:function(e,s,a){var o;if(JXG$1.exists(e)&&JXG$1.exists(e.obj))o=e.obj;else return;o.elementClass===Const.OBJECT_CLASS_LINE||o.type===Const.OBJECT_TYPE_POLYGON?this.twoFingerTouchObject(e.targets,o,s):o.elementClass===Const.OBJECT_CLASS_CIRCLE&&this.twoFingerTouchCircle(e.targets,o,s),a&&o.triggerEventHandlers(["touchdrag","drag"],[a])},getTwoFingerTransform(e,s,a,o){var h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht;return h=new Coords(Const.COORDS_BY_SCREEN,[e.Xprev,e.Yprev],this).usrCoords,c=h[1],d=h[2],h=new Coords(Const.COORDS_BY_SCREEN,[s.Xprev,s.Yprev],this).usrCoords,g=h[1],_=h[2],h=new Coords(Const.COORDS_BY_SCREEN,[e.X,e.Y],this).usrCoords,j=h[1],_e=h[2],h=new Coords(Const.COORDS_BY_SCREEN,[s.X,s.Y],this).usrCoords,et=h[1],tt=h[2],b=g-c,$=_-d,it=et-j,at=tt-_e,rt=b*b+$*$,nt=(it*b+at*$)/rt,st=(at*b-it*$)/rt,a||(ht=Mat.hypot(nt,st),nt/=ht,st/=ht),o||(st=0),lt=.5*(j+et-nt*(c+g)+st*(d+_)),ot=.5*(_e+tt-st*(c+g)-nt*(d+_)),[1,0,0,lt,nt,-st,ot,st,nt]},twoFingerTouchObject:function(e,s,a){var o,h,c,d,g,_,b=!1;if(JXG$1.exists(e[0])&&JXG$1.exists(e[1])&&!isNaN(e[0].Xprev+e[0].Yprev+e[1].Xprev+e[1].Yprev)){if(h=this.getTwoFingerTransform(e[0],e[1],JXG$1.evaluate(s.visProp.scalable),JXG$1.evaluate(s.visProp.rotatable)),o=this.create("transform",h,{type:"generic"}),o.update(),s.elementClass===Const.OBJECT_CLASS_LINE)c=[],s.point1.draggable()&&c.push(s.point1),s.point2.draggable()&&c.push(s.point2),o.applyOnce(c);else if(s.type===Const.OBJECT_TYPE_POLYGON){for(g=s.vertices.length-1,_=s.visProp,b=JXG$1.evaluate(_.snaptogrid)||JXG$1.evaluate(_.snaptopoints),d=0;d<g&&!b;++d)_=s.vertices[d].visProp,b=b||JXG$1.evaluate(_.snaptogrid)||JXG$1.evaluate(_.snaptopoints),b=b||!s.vertices[d].draggable();if(!b){for(c=[],d=0;d<g;++d)s.vertices[d].draggable()&&c.push(s.vertices[d]);o.applyOnce(c)}}this.update(),s.highlight(!0)}},twoFingerTouchCircle:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et;s.method==="pointCircle"||s.method==="pointLine"||JXG$1.exists(e[0])&&JXG$1.exists(e[1])&&!isNaN(e[0].Xprev+e[0].Yprev+e[1].Xprev+e[1].Yprev)&&(a===e[0].num?(o=e[1],h=e[0]):(o=e[0],h=e[1]),g=new Coords(Const.COORDS_BY_SCREEN,[o.Xprev,o.Yprev],this).usrCoords,d=new Coords(Const.COORDS_BY_SCREEN,[h.Xprev,h.Yprev],this).usrCoords,c=new Coords(Const.COORDS_BY_SCREEN,[h.X,h.Y],this).usrCoords,b=Geometry.rad(d.slice(1),g.slice(1),c.slice(1)),$=this.create("transform",[-g[1],-g[2]],{type:"translate"}),j=this.create("transform",[b],{type:"rotate"}),$.melt(j),JXG$1.evaluate(s.visProp.scalable)&&(_=Geometry.distance(g,c)/Geometry.distance(g,d),_e=this.create("transform",[_,_],{type:"scale"}),$.melt(_e)),et=this.create("transform",[g[1],g[2]],{type:"translate"}),$.melt(et),s.center.draggable()&&$.applyOnce([s.center]),s.method==="twoPoints"?s.point2.draggable()&&$.applyOnce([s.point2]):s.method==="pointRadius"&&JXG$1.isNumber(s.updateRadius.origin)&&s.setRadius(s.radius*_),this.update(s.center),s.highlight(!0))},highlightElements:function(e,s,a,o){var h,c,d,g={},_=this.objectsList.length;for(h=0;h<_;h++)c=this.objectsList[h],d=c.id,JXG$1.exists(c.hasPoint)&&c.visPropCalc.visible&&c.hasPoint(e,s)&&(this.updateInfobox(c),JXG$1.exists(this.highlightedObjects[d])||(g[d]=c,c.highlight(),this.triggerEventHandlers(["mousehit","hit"],[a,c,o])),c.mouseover?c.triggerEventHandlers(["mousemove","move"],[a]):(c.triggerEventHandlers(["mouseover","over"],[a]),c.mouseover=!0));for(h=0;h<_;h++)c=this.objectsList[h],d=c.id,c.mouseover&&(g[d]||(c.triggerEventHandlers(["mouseout","out"],[a]),c.mouseover=!1))},saveStartPos:function(e,s){var a=[],o,h;if(e.type===Const.OBJECT_TYPE_TICKS)a.push([1,NaN,NaN]);else if(e.elementClass===Const.OBJECT_CLASS_LINE)a.push(e.point1.coords.usrCoords),a.push(e.point2.coords.usrCoords);else if(e.elementClass===Const.OBJECT_CLASS_CIRCLE)a.push(e.center.coords.usrCoords),e.method==="twoPoints"&&a.push(e.point2.coords.usrCoords);else if(e.type===Const.OBJECT_TYPE_POLYGON)for(h=e.vertices.length-1,o=0;o<h;o++)a.push(e.vertices[o].coords.usrCoords);else if(e.type===Const.OBJECT_TYPE_SECTOR)a.push(e.point1.coords.usrCoords),a.push(e.point2.coords.usrCoords),a.push(e.point3.coords.usrCoords);else if(JXG$1.isPoint(e)||e.type===Const.OBJECT_TYPE_GLIDER)a.push(e.coords.usrCoords);else if(e.elementClass===Const.OBJECT_CLASS_CURVE)e.points.length>0&&a.push(e.points[0].usrCoords);else try{a.push(e.coords.usrCoords)}catch(c){JXG$1.debug("JSXGraph+ saveStartPos: obj.coords.usrCoords not available: "+c)}for(h=a.length,o=0;o<h;o++)s.Zstart.push(a[o][0]),s.Xstart.push(a[o][1]),s.Ystart.push(a[o][2])},mouseOriginMoveStart:function(e){var s,a;return s=this._isRequiredKeyPressed(e,"pan"),s&&(a=this.getMousePosition(e),this.initMoveOrigin(a[0],a[1])),s},mouseOriginMove:function(e){var s=this.mode===this.BOARD_MODE_MOVE_ORIGIN,a;return s&&(a=this.getMousePosition(e),this.moveOrigin(a[0],a[1],!0)),s},touchStartMoveOriginOneFinger:function(e){var s=e.touches,a,o;return a=this.attr.pan.enabled&&!this.attr.pan.needtwofingers&&s.length===1,a&&(o=this.getMousePosition(e,0),this.initMoveOrigin(o[0],o[1])),a},touchOriginMove:function(e){var s=this.mode===this.BOARD_MODE_MOVE_ORIGIN,a;return s&&(a=this.getMousePosition(e,0),this.moveOrigin(a[0],a[1],!0)),s},originMoveEnd:function(){this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE},suppressDefault:function(e){return JXG$1.exists(e)&&e.preventDefault(),!1},addEventHandlers:function(){JXG$1.supportsPointerEvents()?this.addPointerEventHandlers():(this.addMouseEventHandlers(),this.addTouchEventHandlers()),this.containerObj!==null&&JXG$1.addEvent(this.containerObj,"contextmenu",this.suppressDefault,this)},removeEventHandlers:function(){(this.hasPointerHandlers||this.hasMouseHandlers||this.hasTouchHandlers)&&this.containerObj!==null&&JXG$1.removeEvent(this.containerObj,"contextmenu",this.suppressDefault,this),this.removeMouseEventHandlers(),this.removeTouchEventHandlers(),this.removePointerEventHandlers(),this.removeFullscreenEventHandlers(),this.removeKeyboardEventHandlers(),this.removeResizeEventHandlers()},addResizeEventHandlers:function(){if(this.resizeHandlers=[],JXG$1.isBrowser){try{this.startResizeObserver(),this.resizeHandlers.push("resizeobserver")}catch{JXG$1.addEvent(window,"resize",this.resizeListener,this),this.startIntersectionObserver(),this.resizeHandlers.push("resize")}JXG$1.addEvent(window,"scroll",this.scrollListener,this),this.resizeHandlers.push("scroll");try{window.matchMedia("print").addEventListener("change",this.printListenerMatch.bind(this)),window.matchMedia("screen").addEventListener("change",this.printListenerMatch.bind(this)),this.resizeHandlers.push("print")}catch(e){JXG$1.debug("Error adding printListener",e)}}},removeResizeEventHandlers:function(){var e,s;if(this.resizeHandlers.length>0&&JXG$1.isBrowser){for(e=0;e<this.resizeHandlers.length;e++)switch(s=this.resizeHandlers[e],s){case"resizeobserver":JXG$1.exists(this.resizeObserver)&&this.stopResizeObserver();break;case"resize":JXG$1.removeEvent(window,"resize",this.resizeListener,this),JXG$1.exists(this.intersectionObserver)&&this.stopIntersectionObserver();break;case"scroll":JXG$1.removeEvent(window,"scroll",this.scrollListener,this);break;case"print":window.matchMedia("print").removeEventListener("change",this.printListenerMatch.bind(this),!1),window.matchMedia("screen").removeEventListener("change",this.printListenerMatch.bind(this),!1);break}this.resizeHandlers=[]}},addPointerEventHandlers:function(){if(!this.hasPointerHandlers&&JXG$1.isBrowser){var e=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(JXG$1.addEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),JXG$1.addEvent(e,"MSPointerMove",this.pointerMoveListener,this)):(JXG$1.addEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),JXG$1.addEvent(e,"pointermove",this.pointerMoveListener,this),JXG$1.addEvent(e,"pointerleave",this.pointerLeaveListener,this),JXG$1.addEvent(e,"click",this.pointerClickListener,this),JXG$1.addEvent(e,"dblclick",this.pointerDblClickListener,this)),this.containerObj!==null&&(this.containerObj.style.touchAction="none"),this.hasPointerHandlers=!0}},addMouseEventHandlers:function(){if(!this.hasMouseHandlers&&JXG$1.isBrowser){var e=this.attr.movetarget||this.containerObj;JXG$1.addEvent(this.containerObj,"mousedown",this.mouseDownListener,this),JXG$1.addEvent(e,"mousemove",this.mouseMoveListener,this),JXG$1.addEvent(e,"click",this.mouseClickListener,this),JXG$1.addEvent(e,"dblclick",this.mouseDblClickListener,this),this.hasMouseHandlers=!0}},addTouchEventHandlers:function(e){if(!this.hasTouchHandlers&&JXG$1.isBrowser){var s=this.attr.movetarget||this.containerObj;JXG$1.addEvent(this.containerObj,"touchstart",this.touchStartListener,this),JXG$1.addEvent(s,"touchmove",this.touchMoveListener,this),this.hasTouchHandlers=!0}},addWheelEventHandlers:function(){!this.hasWheelHandlers&&JXG$1.isBrowser&&(JXG$1.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),JXG$1.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasWheelHandlers=!0)},addFullscreenEventHandlers:function(){var e,s=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],a=s.length;if(!this.hasFullscreenEventHandlers&&JXG$1.isBrowser){for(e=0;e<a;e++)JXG$1.addEvent(this.document,s[e],this.fullscreenListener,this);this.hasFullscreenEventHandlers=!0}},addKeyboardEventHandlers:function(){this.attr.keyboard.enabled&&!this.hasKeyboardHandlers&&JXG$1.isBrowser&&(JXG$1.addEvent(this.containerObj,"keydown",this.keyDownListener,this),JXG$1.addEvent(this.containerObj,"focusin",this.keyFocusInListener,this),JXG$1.addEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!0)},removeKeyboardEventHandlers:function(){this.hasKeyboardHandlers&&JXG$1.isBrowser&&(JXG$1.removeEvent(this.containerObj,"keydown",this.keyDownListener,this),JXG$1.removeEvent(this.containerObj,"focusin",this.keyFocusInListener,this),JXG$1.removeEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!1)},removeFullscreenEventHandlers:function(){var e,s=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],a=s.length;if(this.hasFullscreenEventHandlers&&JXG$1.isBrowser){for(e=0;e<a;e++)JXG$1.removeEvent(this.document,s[e],this.fullscreenListener,this);this.hasFullscreenEventHandlers=!1}},removePointerEventHandlers:function(){if(this.hasPointerHandlers&&JXG$1.isBrowser){var e=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(JXG$1.removeEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),JXG$1.removeEvent(e,"MSPointerMove",this.pointerMoveListener,this)):(JXG$1.removeEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),JXG$1.removeEvent(e,"pointermove",this.pointerMoveListener,this),JXG$1.removeEvent(e,"pointerleave",this.pointerLeaveListener,this),JXG$1.removeEvent(e,"click",this.pointerClickListener,this),JXG$1.removeEvent(e,"dblclick",this.pointerDblClickListener,this)),this.hasWheelHandlers&&(JXG$1.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),JXG$1.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this)),this.hasPointerUp&&(window.navigator.msPointerEnabled?JXG$1.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(JXG$1.removeEvent(this.document,"pointerup",this.pointerUpListener,this),JXG$1.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this.hasPointerHandlers=!1}},removeMouseEventHandlers:function(){if(this.hasMouseHandlers&&JXG$1.isBrowser){var e=this.attr.movetarget||this.containerObj;JXG$1.removeEvent(this.containerObj,"mousedown",this.mouseDownListener,this),JXG$1.removeEvent(e,"mousemove",this.mouseMoveListener,this),JXG$1.removeEvent(e,"click",this.mouseClickListener,this),JXG$1.removeEvent(e,"dblclick",this.mouseDblClickListener,this),this.hasMouseUp&&(JXG$1.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.hasWheelHandlers&&(JXG$1.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),JXG$1.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this)),this.hasMouseHandlers=!1}},removeTouchEventHandlers:function(){if(this.hasTouchHandlers&&JXG$1.isBrowser){var e=this.attr.movetarget||this.containerObj;JXG$1.removeEvent(this.containerObj,"touchstart",this.touchStartListener,this),JXG$1.removeEvent(e,"touchmove",this.touchMoveListener,this),this.hasTouchEnd&&(JXG$1.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.hasTouchHandlers=!1}},clickLeftArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]+this.canvasWidth*.1,this.origin.scrCoords[2]),this},clickRightArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]-this.canvasWidth*.1,this.origin.scrCoords[2]),this},clickUpArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]-this.canvasHeight*.1),this},clickDownArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]+this.canvasHeight*.1),this},gestureChangeListener:function(e){var s,a=[],o=[],h,c=10,d=!1,g=this.attr.zoom.factorx,_=this.attr.zoom.factory,b,$,j,_e,et,tt=!1,it,at,nt,st;return this.mode!==this.BOARD_MODE_ZOOM?!0:(e.preventDefault(),$=Geometry.distance([e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY],2),e.scale===void 0&&(e.scale=$/this.prevDist),!JXG$1.exists(this.prevCoords)||(a=[e.touches[0].clientX-this.prevCoords[0][0],e.touches[0].clientY-this.prevCoords[0][1]],o=[e.touches[1].clientX-this.prevCoords[1][0],e.touches[1].clientY-this.prevCoords[1][1]],a[0]*a[0]+a[1]*a[1]<c*c&&o[0]*o[0]+o[1]*o[1]<c*c)||(h=Geometry.rad(a,[0,0],o),this.isPreviousGesture!=="pan"&&Math.abs(h)>Math.PI*.2&&Math.abs(h)<Math.PI*1.8&&(d=!0),this.isPreviousGesture!=="pan"&&!d&&(Math.abs(e.scale)<.77||Math.abs(e.scale)>1.3)&&(d=!0),b=e.scale/this.prevScale,this.prevScale=e.scale,this.prevCoords=[[e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY]],s=new Coords(Const.COORDS_BY_SCREEN,this.getMousePosition(e,0),this),this.attr.pan.enabled&&this.attr.pan.needtwofingers&&!d?(this.isPreviousGesture="pan",this.moveOrigin(s.scrCoords[1],s.scrCoords[2],!0)):this.attr.zoom.enabled&&Math.abs(b-1)<.5&&(tt=!1,et=this.attr.zoom.center,(this.attr.zoom.pinchhorizontal||this.attr.zoom.pinchvertical)&&(it=Math.abs(e.touches[0].clientX-e.touches[1].clientX),at=Math.abs(e.touches[0].clientY-e.touches[1].clientY),j=Math.abs(Math.atan2(at,it)),_e=Math.PI*this.attr.zoom.pinchsensitivity/90),!this.keepaspectratio&&this.attr.zoom.pinchhorizontal&&j<_e?(this.attr.zoom.factorx=b,this.attr.zoom.factory=1,nt=0,st=0,tt=!0):!this.keepaspectratio&&this.attr.zoom.pinchvertical&&Math.abs(j-Math.PI*.5)<_e?(this.attr.zoom.factorx=1,this.attr.zoom.factory=b,nt=0,st=0,tt=!0):this.attr.zoom.pinch&&(this.attr.zoom.factorx=b,this.attr.zoom.factory=b,nt=s.usrCoords[1],st=s.usrCoords[2],tt=!0),tt&&(et==="board"?this.zoomIn():this.zoomIn(nt,st),this.attr.zoom.factorx=g,this.attr.zoom.factory=_))),!1)},gestureStartListener:function(e){var s;return e.preventDefault(),this.prevScale=1,this.prevDist=Geometry.distance([e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY],2),this.prevCoords=[[e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY]],this.isPreviousGesture="none",s=this.getMousePosition(e,0),this.initMoveOrigin(s[0],s[1]),this.mode=this.BOARD_MODE_ZOOM,!1},_isRequiredKeyPressed:function(e,s){var a=this.attr[s];return a.enabled?!!((a.needshift&&e.shiftKey||!a.needshift&&!e.shiftKey)&&(a.needctrl&&e.ctrlKey||!a.needctrl&&!e.ctrlKey)):!1},_isPointerRegistered:function(e){var s,a=this._board_touches.length;for(s=0;s<a;s++)if(this._board_touches[s].pointerId===e.pointerId)return!0;return!1},_pointerStorePosition:function(e){var s,a;for(s=0,a=!1;s<this._board_touches.length;s++)if(this._board_touches[s].pointerId===e.pointerId){this._board_touches[s].clientX=e.clientX,this._board_touches[s].clientY=e.clientY,a=!0;break}return!a&&this._board_touches.length<2&&this._board_touches.push({pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY}),this},_pointerRemoveTouches:function(e){var s;for(s=0;s<this._board_touches.length;s++)if(this._board_touches[s].pointerId===e.pointerId){this._board_touches.splice(s,1);break}return this},_pointerClearTouches:function(e){this._board_touches.length>0&&this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE,this._board_touches=[],this.touches=[]},_getPointerInputDevice:function(e){if(JXG$1.isBrowser){if(e.pointerType==="touch"||window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1)return"touch";if(e.pointerType==="mouse")return"mouse";if(e.pointerType==="pen")return"pen"}return"mouse"},pointerDownListener:function(e,s,a){var o,h,c,d,g,_,b,$="mouse",j,_e,et;if(!s&&this._isPointerRegistered(e))return!1;if(JXG$1.evaluate(this.attr.movetarget)===null&&JXG$1.exists(e.target)&&JXG$1.exists(e.target.releasePointerCapture)&&e.target.releasePointerCapture(e.pointerId),!s&&e.isPrimary,this.hasPointerUp||(window.navigator.msPointerEnabled?JXG$1.addEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(JXG$1.addEvent(this.document,"pointerup",this.pointerUpListener,this),JXG$1.addEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!0),this.hasMouseHandlers&&this.removeMouseEventHandlers(),this.hasTouchHandlers&&this.removeTouchEventHandlers(),this.document.selection&&JXG$1.isFunction(this.document.selection.empty))this.document.selection.empty();else if(window.getSelection&&(_=window.getSelection(),_.removeAllRanges))try{_.removeAllRanges()}catch{}if(this._inputDevice=this._getPointerInputDevice(e),$=this._inputDevice,this.options.precision.hasPoint=this.options.precision[$],d=this.getMousePosition(e),this._testForSelection(e),this.selectingMode){this._startSelecting(d),this.triggerEventHandlers(["touchstartselecting","pointerstartselecting","startselecting"],[e]);return}if(this.attr.drag.enabled&&s?(g=[s],this.mode=this.BOARD_MODE_DRAG):g=this.initMoveObject(d[0],d[1],e,$),b={num:e.pointerId,X:d[0],Y:d[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},g.length>0){for(_e=g[g.length-1],j=!1,o=0;o<this.touches.length;o++)if(this.touches[o].obj===_e){h=o,c=this.touches[o].targets.push(b)-1,j=!0;break}j||(c=0,h=this.touches.push({obj:_e,targets:[b]})-1),this.dehighlightAll(),_e.highlight(!0),this.saveStartPos(_e,this.touches[h].targets[c]),e&&e.preventDefault&&!a&&e.preventDefault()}return this.touches.length>0&&!a&&(e.preventDefault(),e.stopPropagation()),JXG$1.isBrowser?(this._getPointerInputDevice(e)!=="touch"?this.mode===this.BOARD_MODE_NONE&&this.mouseOriginMoveStart(e):(this._pointerStorePosition(e),e.touches=this._board_touches,e.touches.length===1&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(e)||e.touches.length===2&&(this.mode===this.BOARD_MODE_NONE||this.mode===this.BOARD_MODE_MOVE_ORIGIN)&&(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(e))),et="none",this.mode===this.BOARD_MODE_NONE&&JXG$1.evaluate(this.attr.browserpan)&&!(JXG$1.evaluate(this.attr.pan.enabled)&&!JXG$1.evaluate(this.attr.pan.needtwofingers))&&(et="pan-x pan-y"),this.containerObj.style.touchAction=et,this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[e]),!0):!1},_handleClicks:function(e,s){var a=this,o,h,c;if(this.selectingMode){e.stopPropagation();return}if(h=JXG$1.evaluate(this.attr.clickdelay),c=JXG$1.evaluate(this.attr.dblclicksuppressclick),c)this._preventSingleClick=!1,this._singleClickTimer=setTimeout(function(){if(!a._preventSingleClick){a.triggerEventHandlers(s,[e]);for(o in a.clickObjects)a.clickObjects.hasOwnProperty(o)&&(a.clickObjects[o].triggerEventHandlers(s,[e]),delete a.clickObjects[o])}},h);else{a.triggerEventHandlers(s,[e]);for(o in a.clickObjects)a.clickObjects.hasOwnProperty(o)&&a.clickObjects[o].triggerEventHandlers(s,[e]);setTimeout(function(){for(o in a.clickObjects)a.clickObjects.hasOwnProperty(o)&&delete a.clickObjects[o]},h)}e.stopPropagation()},_handleDblClicks:function(e,s){var a;if(this.selectingMode){e.stopPropagation();return}this._preventSingleClick=!0,clearTimeout(this._singleClickTimer),this.triggerEventHandlers(s,[e]);for(a in this.clickObjects)this.clickObjects.hasOwnProperty(a)&&(this.clickObjects[a].triggerEventHandlers(s,[e]),delete this.clickObjects[a]);e.stopPropagation()},pointerClickListener:function(e){this._handleClicks(e,["click","pointerclick"])},pointerDblClickListener:function(e){this._handleDblClicks(e,["dblclick","pointerdblclick"])},mouseClickListener:function(e){this._handleClicks(e,["click","mouseclick"])},mouseDblClickListener:function(e){this._handleDblClicks(e,["dblclick","mousedblclick"])},pointerMoveListener:function(e){var s,a,o,h,c,d="mouse";if(this._getPointerInputDevice(e)==="touch"&&!this._isPointerRegistered(e))return this.BOARD_MODE_NONE;if(!this.checkFrameRate(e))return!1;if(this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.mode!==this.BOARD_MODE_NONE&&(e.preventDefault(),e.stopPropagation()),this.updateQuality=this.BOARD_QUALITY_LOW,this._inputDevice=this._getPointerInputDevice(e),d=this._inputDevice,this.options.precision.hasPoint=this.options.precision[d],h=this.options.precision.hasPoint*.3333,o=this.getMousePosition(e),JXG$1.evaluate(this.attr.movetarget)===null&&o[0]<=h||o[1]<=h||o[0]>=this.canvasWidth-h||o[1]>=this.canvasHeight-h)return this.mode===this.BOARD_MODE_NONE;if(this.selectingMode)this._moveSelecting(o),this.triggerEventHandlers(["touchmoveselecting","moveselecting","pointermoveselecting"],[e,this.mode]);else if(!this.mouseOriginMove(e))if(this.mode===this.BOARD_MODE_DRAG){for(s=0;s<this.touches.length;s++)for(c=this.touches[s].targets,a=0;a<c.length;a++)if(c[a].num===e.pointerId){c[a].X=o[0],c[a].Y=o[1],c.length===1?this.moveObject(o[0],o[1],this.touches[s],e,d):c.length===2&&(this.twoFingerMove(this.touches[s],e.pointerId,e),c[a].Xprev=o[0],c[a].Yprev=o[1]);break}}else this._getPointerInputDevice(e)==="touch"&&(this._pointerStorePosition(e),this._board_touches.length===2&&(e.touches=this._board_touches,this.gestureChangeListener(e))),this.highlightElements(o[0],o[1],e,-1);return this.triggerEventHandlers(["pointermove","MSPointerMove","move"],[e,this.mode]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},pointerUpListener:function(e){var s,a,o,h,c,d=!1;if(this.triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[e]),this.displayInfobox(!1),e){for(s=0;s<this.touches.length;s++)for(c=this.touches[s].targets,a=0;a<c.length;a++)if(c[a].num===e.pointerId){c.splice(a,1),c.length===0&&this.touches.splice(s,1);break}}if(this.originMoveEnd(),this.update(),this.selectingMode)this._stopSelecting(e),this.triggerEventHandlers(["touchstopselecting","pointerstopselecting","stopselecting"],[e]),this.stopSelectionMode();else for(s=this.downObjects.length-1;s>-1;s--){for(o=!1,a=0;a<this.touches.length;a++)this.touches[a].obj.id===this.downObjects[s].id&&(o=!0);o||(this.downObjects[s].triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[e]),JXG$1.exists(this.downObjects[s].coords)||(this.downObjects[s].snapToGrid(),this.downObjects[s].snapToPoints(),d=!0),h=this.downObjects[s].eventHandlers,(JXG$1.exists(h.click)&&h.click.length>0||JXG$1.exists(h.pointerclick)&&h.pointerclick.length>0||JXG$1.exists(h.dblclick)&&h.dblclick.length>0||JXG$1.exists(h.pointerdblclick)&&h.pointerdblclick.length>0)&&(this.clickObjects[this.downObjects[s].id]=this.downObjects[s]),this.downObjects.splice(s,1))}return this.hasPointerUp&&(window.navigator.msPointerEnabled?JXG$1.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(JXG$1.removeEvent(this.document,"pointerup",this.pointerUpListener,this),JXG$1.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this._pointerClearTouches(e.pointerId),this._getPointerInputDevice(e)!=="touch"&&this.dehighlightAll(),d&&this.update(),!0},pointerLeaveListener:function(e){return this.displayInfobox(!1),this.dehighlightAll(),!0},touchStartListener:function(e){var s,a,o,h,c,d=this.options.precision.touch,g,_,b,$=e.touches,j,_e;for(this.hasTouchEnd||(JXG$1.addEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!0),this.document.selection&&JXG$1.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,s=0;s<$.length;s++)$[s].jxg_isused=!1;for(s=0;s<this.touches.length;s++)for(_e=this.touches[s].targets,h=0;h<_e.length;h++){_e[h].num=-1,d=this.options.precision.touch;do{for(c=0;c<$.length;c++)if(Math.abs(Math.pow($[c].screenX-_e[h].X,2)+Math.pow($[c].screenY-_e[h].Y,2))<d*d){_e[h].num=c,_e[h].X=$[c].screenX,_e[h].Y=$[c].screenY,$[c].jxg_isused=!0;break}d*=2}while(_e[h].num===-1&&d<this.options.precision.touchMax);_e[h].num===-1&&(JXG$1.debug("i couldn't find a targettouches for target no "+h+" on "+this.touches[s].obj.name+" ("+this.touches[s].obj.id+"). Removed the target."),JXG$1.debug("eps = "+d+", touchMax = "+Options.precision.touchMax),_e.splice(s,1))}for(s=0;s<$.length;s++)if(!$[s].jxg_isused){if(a=this.getMousePosition(e,s),this.selectingMode)return this._startSelecting(a),this.triggerEventHandlers(["touchstartselecting","startselecting"],[e]),e.preventDefault(),e.stopPropagation(),this.options.precision.hasPoint=this.options.precision.mouse,this.touches.length>0;if(o=this.initMoveObject(a[0],a[1],e,"touch"),o.length!==0){if(g=o[o.length-1],j={num:s,X:$[s].screenX,Y:$[s].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},JXG$1.isPoint(g)||g.elementClass===Const.OBJECT_CLASS_TEXT||g.type===Const.OBJECT_TYPE_TICKS||g.type===Const.OBJECT_TYPE_IMAGE)b=[j],this.saveStartPos(g,b[0]),this.touches.push({obj:g,targets:b}),g.highlight(!0);else if(g.elementClass===Const.OBJECT_CLASS_LINE||g.elementClass===Const.OBJECT_CLASS_CIRCLE||g.elementClass===Const.OBJECT_CLASS_CURVE||g.type===Const.OBJECT_TYPE_POLYGON){for(_=!1,h=0;h<this.touches.length;h++)g.id===this.touches[h].obj.id&&(_=!0,this.touches[h].targets.length===1&&(this.saveStartPos(g,j),this.touches[h].targets.push(j)),$[s].jxg_isused=!0);_||(b=[j],this.saveStartPos(g,b[0]),this.touches.push({obj:g,targets:b}),g.highlight(!0))}}$[s].jxg_isused=!0}return this.touches.length>0&&(e.preventDefault(),e.stopPropagation()),$.length===1&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(e)||$.length===2&&(this.mode===this.BOARD_MODE_NONE||this.mode===this.BOARD_MODE_MOVE_ORIGIN)&&(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(e)),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down"],[e]),!1},touchMoveListener:function(e){var s,a,o,h,c=e.touches;if(!this.checkFrameRate(e))return!1;if(this.mode!==this.BOARD_MODE_NONE&&(e.preventDefault(),e.stopPropagation()),this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,this.updateQuality=this.BOARD_QUALITY_LOW,this.selectingMode){for(s=0;s<c.length;s++)if(!c[s].jxg_isused){a=this.getMousePosition(e,s),this._moveSelecting(a),this.triggerEventHandlers(["touchmoves","moveselecting"],[e,this.mode]);break}}else if(!this.touchOriginMove(e))if(this.mode===this.BOARD_MODE_DRAG){for(s=0;s<this.touches.length;s++)if(h=this.touches[s].targets,h.length===1){if(c[h[0].num]){if(a=this.getMousePosition(e,h[0].num),a[0]<0||a[0]>this.canvasWidth||a[1]<0||a[1]>this.canvasHeight)return;h[0].X=a[0],h[0].Y=a[1],this.moveObject(a[0],a[1],this.touches[s],e,"touch")}}else if(h.length===2&&h[0].num>-1&&h[1].num>-1&&c[h[0].num]&&c[h[1].num]){if(a=this.getMousePosition(e,h[0].num),o=this.getMousePosition(e,h[1].num),a[0]<0||a[0]>this.canvasWidth||a[1]<0||a[1]>this.canvasHeight||o[0]<0||o[0]>this.canvasWidth||o[1]<0||o[1]>this.canvasHeight)return;h[0].X=a[0],h[0].Y=a[1],h[1].X=o[0],h[1].Y=o[1],this.twoFingerMove(this.touches[s],h[0].num,e),h[0].Xprev=a[0],h[0].Yprev=a[1],h[1].Xprev=o[0],h[1].Yprev=o[1]}}else c.length===2&&this.gestureChangeListener(e),a=this.getMousePosition(e,0),this.highlightElements(a[0],a[1],e,-1);return this.mode!==this.BOARD_MODE_DRAG&&this.displayInfobox(!1),this.triggerEventHandlers(["touchmove","move"],[e,this.mode]),this.options.precision.hasPoint=this.options.precision.mouse,this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},touchEndListener:function(e){var s,a,o,h=this.options.precision.touch,c=[],d,g,_=e&&e.touches,b,$=!1;if(this.triggerEventHandlers(["touchend","up"],[e]),this.displayInfobox(!1),this.selectingMode)this._stopSelecting(e),this.triggerEventHandlers(["touchstopselecting","stopselecting"],[e]),this.stopSelectionMode();else if(_&&_.length>0){for(s=0;s<this.touches.length;s++)c[s]=this.touches[s];for(this.touches.length=0,s=0;s<_.length;s++)_[s].jxg_isused=!1;for(s=0;s<c.length;s++){for(d=!1,g=0,b=c[s].targets,a=0;a<b.length;a++)for(b[a].found=!1,o=0;o<_.length;o++)if(Math.abs(Math.pow(_[o].screenX-b[a].X,2)+Math.pow(_[o].screenY-b[a].Y,2))<h*h){b[a].found=!0,b[a].num=o,b[a].X=_[o].screenX,b[a].Y=_[o].screenY,g+=1;break}if(JXG$1.isPoint(c[s].obj)?d=b[0]&&b[0].found:c[s].obj.elementClass===Const.OBJECT_CLASS_LINE?d=b[0]&&b[0].found||b[1]&&b[1].found:c[s].obj.elementClass===Const.OBJECT_CLASS_CIRCLE&&(d=g===1||g===3),d)for(this.touches.push({obj:c[s].obj,targets:[]}),a=0;a<b.length;a++)b[a].found&&this.touches[this.touches.length-1].targets.push({num:b[a].num,X:b[a].screenX,Y:b[a].screenY,Xprev:NaN,Yprev:NaN,Xstart:b[a].Xstart,Ystart:b[a].Ystart,Zstart:b[a].Zstart});else c[s].obj.noHighlight()}}else this.touches.length=0;for(s=this.downObjects.length-1;s>-1;s--){for(d=!1,a=0;a<this.touches.length;a++)this.touches[a].obj.id===this.downObjects[s].id&&(d=!0);d||(this.downObjects[s].triggerEventHandlers(["touchup","up"],[e]),JXG$1.exists(this.downObjects[s].coords)||(this.downObjects[s].snapToGrid(),this.downObjects[s].snapToPoints(),$=!0),this.downObjects.splice(s,1))}return(!_||_.length===0)&&(this.hasTouchEnd&&(JXG$1.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),$&&this.update()),!0},mouseDownListener:function(e){var s,a,o;if(this.document.selection&&JXG$1.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!this.hasMouseUp)JXG$1.addEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!0;else return;if(this._inputDevice="mouse",this.options.precision.hasPoint=this.options.precision.mouse,s=this.getMousePosition(e),this._testForSelection(e),this.selectingMode){this._startSelecting(s),this.triggerEventHandlers(["mousestartselecting","startselecting"],[e]);return}return a=this.initMoveObject(s[0],s[1],e,"mouse"),a.length===0?(this.mode=this.BOARD_MODE_NONE,o=!0):(this.mouse={obj:null,targets:[{X:s[0],Y:s[1],Xprev:NaN,Yprev:NaN}]},this.mouse.obj=a[a.length-1],this.dehighlightAll(),this.mouse.obj.highlight(!0),this.mouse.targets[0].Xstart=[],this.mouse.targets[0].Ystart=[],this.mouse.targets[0].Zstart=[],this.saveStartPos(this.mouse.obj,this.mouse.targets[0]),e&&e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1)),this.mode===this.BOARD_MODE_NONE&&(o=this.mouseOriginMoveStart(e)),this.triggerEventHandlers(["mousedown","down"],[e]),o},mouseMoveListener:function(e){var s;if(!this.checkFrameRate(e))return!1;s=this.getMousePosition(e),this.updateQuality=this.BOARD_QUALITY_LOW,this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.selectingMode?(this._moveSelecting(s),this.triggerEventHandlers(["mousemoveselecting","moveselecting"],[e,this.mode])):this.mouseOriginMove(e)||(this.mode===this.BOARD_MODE_DRAG?this.moveObject(s[0],s[1],this.mouse,e,"mouse"):this.highlightElements(s[0],s[1],e,-1),this.triggerEventHandlers(["mousemove","move"],[e,this.mode])),this.updateQuality=this.BOARD_QUALITY_HIGH},mouseUpListener:function(e){var s;if(this.selectingMode===!1&&this.triggerEventHandlers(["mouseup","up"],[e]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mouse&&this.mouse.obj&&(JXG$1.exists(this.mouse.obj.coords)||(this.mouse.obj.snapToGrid(this.mouse.targets[0]),this.mouse.obj.snapToPoints())),this.originMoveEnd(),this.dehighlightAll(),this.update(),this.selectingMode)this._stopSelecting(e),this.triggerEventHandlers(["mousestopselecting","stopselecting"],[e]),this.stopSelectionMode();else for(s=0;s<this.downObjects.length;s++)this.downObjects[s].triggerEventHandlers(["mouseup","up"],[e]);this.downObjects.length=0,this.hasMouseUp&&(JXG$1.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.mouse=null},mouseWheelListener:function(e){var s,a,o;return!this.attr.zoom.enabled||!this.attr.zoom.wheel||!this._isRequiredKeyPressed(e,"zoom")?!0:(e=e||window.event,s=e.detail?-e.detail:e.wheelDelta/40,a=this.attr.zoom.center,a==="board"?o=[]:o=new Coords(Const.COORDS_BY_SCREEN,this.getMousePosition(e),this).usrCoords,s>0?this.zoomIn(o[1],o[2]):this.zoomOut(o[1],o[2]),this.triggerEventHandlers(["mousewheel"],[e]),e.preventDefault(),!1)},keyDownListener:function(e){var s=e.target.id,a,o,h,c,d=0,g=0,_=JXG$1.evaluate(this.attr.keyboard.dx)/this.unitX,b=JXG$1.evaluate(this.attr.keyboard.dy)/this.unitY,$=!1,j=!0,_e,et;return!this.attr.keyboard.enabled||s===""||(c=this.containerObj.shadowRoot||document,c.activeElement&&(o=c.activeElement,o.tagName==="INPUT"||o.tagName==="textarea"))?!1:(a=s.replace(this.containerObj.id+"_",""),o=this.select(a),JXG$1.exists(o.coords)&&(et=o.coords.usrCoords.slice(1)),JXG$1.evaluate(this.attr.keyboard.panshift)&&e.shiftKey||JXG$1.evaluate(this.attr.keyboard.panctrl)&&e.ctrlKey?(JXG$1.evaluate(this.attr.zoom.enabled)===!0&&($=!0),e.keyCode===38?this.clickUpArrow():e.keyCode===40?this.clickDownArrow():e.keyCode===37?this.clickLeftArrow():e.keyCode===39?this.clickRightArrow():$&&e.keyCode===171?this.zoomIn():$&&e.keyCode===173?this.zoomOut():$&&e.keyCode===79?this.zoom100():j=!1):(JXG$1.exists(o.visProp)&&(JXG$1.exists(o.visProp.snaptogrid)&&o.visProp.snaptogrid&&JXG$1.evaluate(o.visProp.snapsizex)&&JXG$1.evaluate(o.visProp.snapsizey)?(h=o.getSnapSizes(),d=h[0],g=h[1],_=d,b=g):JXG$1.exists(o.visProp.attracttogrid)&&o.visProp.attracttogrid&&JXG$1.evaluate(o.visProp.attractordistance)&&JXG$1.evaluate(o.visProp.attractorunit)&&(d=1.1*JXG$1.evaluate(o.visProp.attractordistance),g=d,JXG$1.evaluate(o.visProp.attractorunit)==="screen"&&(d/=this.unitX,g/=this.unitX),_=Math.max(d,_),b=Math.max(g,b))),e.keyCode===38?_e=[0,b]:e.keyCode===40?_e=[0,-b]:e.keyCode===37?_e=[-_,0]:e.keyCode===39?_e=[_,0]:j=!1,_e&&o.isDraggable&&o.visPropCalc.visible&&(this.geonextCompatibilityMode&&(JXG$1.isPoint(o)||o.elementClass===Const.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!JXG$1.evaluate(o.visProp.fixed)&&(this.mode=this.BOARD_MODE_DRAG,JXG$1.exists(o.coords)&&(_e[0]+=et[0],_e[1]+=et[1]),JXG$1.exists(o.coords)?(o.setPosition(JXG$1.COORDS_BY_USER,_e),this.updateInfobox(o)):(this.displayInfobox(!1),o.setPositionDirectly(Const.COORDS_BY_USER,_e,[0,0])),this.triggerEventHandlers(["keymove","move"],[e,this.mode]),o.triggerEventHandlers(["keydrag","drag"],[e]),this.mode=this.BOARD_MODE_NONE)),this.update(),j&&JXG$1.exists(e.preventDefault)&&e.preventDefault(),j)},keyFocusInListener:function(e){var s=e.target.id,a,o;if(!this.attr.keyboard.enabled||s==="")return!1;a=s.replace(this.containerObj.id+"_",""),o=this.select(a),JXG$1.exists(o.highlight)&&(o.highlight(!0),this.focusObjects=[a],o.triggerEventHandlers(["hit"],[e])),JXG$1.exists(o.coords)&&this.updateInfobox(o)},keyFocusOutListener:function(e){if(!this.attr.keyboard.enabled)return!1;this.focusObjects=[],this.dehighlightAll(),this.displayInfobox(!1)},updateContainerDims:function(e,s){var a=e,o=s,h,c,d;e===void 0&&(a=this.containerObj.offsetWidth,o=this.containerObj.offsetHeight),e===void 0&&window&&window.getComputedStyle&&(h=window.getComputedStyle(this.containerObj,null),c=parseFloat(h.getPropertyValue("border-left-width"))+parseFloat(h.getPropertyValue("border-right-width")),isNaN(c)||(a-=c),d=parseFloat(h.getPropertyValue("border-top-width"))+parseFloat(h.getPropertyValue("border-bottom-width")),isNaN(d)||(o-=d)),!(a<=0||o<=0||isNaN(a)||isNaN(o))&&(isNaN(this.getBoundingBox()[0])&&this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"keep"),!(JXG$1.exists(this._prevDim)&&this._prevDim.w===a&&this._prevDim.h===o)&&(this.resizeContainer(a,o,!0),this._prevDim={w:a,h:o}))},startResizeObserver:function(){var e=this;!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled||(this.resizeObserver=new ResizeObserver(function(s){var a;e._isResizing||(e._isResizing=!0,a=s[0].contentRect,window.setTimeout(function(){try{e.updateContainerDims(a.width,a.height)}catch{e.stopResizeObserver()}finally{e._isResizing=!1}},e.attr.resize.throttle))}),this.resizeObserver.observe(this.containerObj))},stopResizeObserver:function(){!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled||JXG$1.exists(this.resizeObserver)&&this.resizeObserver.unobserve(this.containerObj)},resizeListener:function(){var e=this;!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled||!this._isScrolling&&!this._isResizing&&(this._isResizing=!0,window.setTimeout(function(){e.updateContainerDims(),e._isResizing=!1},this.attr.resize.throttle))},scrollListener:function(e){var s=this;JXG$1.isBrowser&&(this._isScrolling||(this._isScrolling=!0,window.setTimeout(function(){s._isScrolling=!1},66)))},startIntersectionObserver:function(){var e=this,s={root:null,rootMargin:"0px",threshold:.8};try{this.intersectionObserver=new IntersectionObserver(function(a){isNaN(e.getBoundingBox()[0])&&e.updateContainerDims()},s),this.intersectionObserver.observe(e.containerObj)}catch{JXG$1.debug("JSXGraph: IntersectionObserver not available in this browser.")}},stopIntersectionObserver:function(){JXG$1.exists(this.intersectionObserver)&&this.intersectionObserver.unobserve(this.containerObj)},printListener:function(e){this.updateContainerDims()},printListenerMatch:function(e){e.matches&&this.printListener()},initInfobox:function(e){var s=JXG$1.copyAttributes(e,this.options,"infobox");return s.id=this.id+"_infobox",this.infobox=this.create("text",[0,0,"0,0"],s),this.infobox.dump=!1,this.displayInfobox(!1),this},updateInfobox:function(e){var s,a,o,h,c,d,g,_=JXG$1.evaluate(e.visProp.showinfobox);return!JXG$1.evaluate(this.attr.showinfobox)&&_==="inherit"||!_?this:(JXG$1.isPoint(e)&&(o=e.coords.usrCoords[1],h=e.coords.usrCoords[2],d=JXG$1.evaluate(this.infobox.visProp.distancex),g=JXG$1.evaluate(this.infobox.visProp.distancey),this.infobox.setCoords(o+d/this.unitX,h+g/this.unitY),c=JXG$1.evaluate(e.visProp.infoboxdigits),typeof e.infoboxText!="string"?(c==="auto"?this.infobox.useLocale()?(s=this.infobox.formatNumberLocale(o),a=this.infobox.formatNumberLocale(h)):(s=JXG$1.autoDigits(o),a=JXG$1.autoDigits(h)):JXG$1.isNumber(c)?this.infobox.useLocale()?(s=this.infobox.formatNumberLocale(o,c),a=this.infobox.formatNumberLocale(h,c)):(s=JXG$1.toFixed(o,c),a=JXG$1.toFixed(h,c)):(s=o,a=h),this.highlightInfobox(s,a,e)):this.highlightCustomInfobox(e.infoboxText,e),this.displayInfobox(!0)),this)},displayInfobox:function(e){return!e&&this.focusObjects.length>0&&this.select(this.focusObjects[0]).elementClass===Const.OBJECT_CLASS_POINT?this:(this.infobox.hiddenByParent===e&&(this.infobox.hiddenByParent=!e,this.infobox.prepareUpdate().updateVisibility(e).updateRenderer()),this)},showInfobox:function(e){return this.displayInfobox(e)},highlightInfobox:function(e,s,a){return this.highlightCustomInfobox("("+e+", "+s+")",a),this},highlightCustomInfobox:function(e,s){return this.infobox.setText(e),this},dehighlightAll:function(){var e,s,a={},o=!1;for(e in this.highlightedObjects)this.highlightedObjects.hasOwnProperty(e)&&(s=this.highlightedObjects[e],this.focusObjects.indexOf(e)<0?((this.hasMouseHandlers||this.hasPointerHandlers)&&s.noHighlight(),o=!0):a[e]=s);return this.highlightedObjects=a,this.renderer.type==="canvas"&&o&&(this.prepareUpdate(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw()),this},getScrCoordsOfMouse:function(e,s){return[e,s]},getUsrCoordsOfMouse:function(e){var s=this.getCoordsTopLeftCorner(),a=JXG$1.getPosition(e,null,this.document),o=a[0]-s[0],h=a[1]-s[1],c=new Coords(Const.COORDS_BY_SCREEN,[o,h],this);return c.usrCoords.slice(1)},getAllUnderMouse:function(e){var s=this.getAllObjectsUnderMouse(e);return s.push(this.getUsrCoordsOfMouse(e)),s},getAllObjectsUnderMouse:function(e){var s=this.getCoordsTopLeftCorner(),a=JXG$1.getPosition(e,null,this.document),o=a[0]-s[0],h=a[1]-s[1],c=[],d,g,_=this.objectsList.length;for(d=0;d<_;d++)g=this.objectsList[d],g.visPropCalc.visible&&g.hasPoint&&g.hasPoint(o,h)&&(c[c.length]=g);return c},updateCoords:function(){var e,s,a=this.objectsList.length;for(s=0;s<a;s++)e=this.objectsList[s],JXG$1.exists(e.coords)&&(JXG$1.evaluate(e.visProp.frozen)?e.is3D?e.element2D.coords.screen2usr():e.coords.screen2usr():e.is3D?e.element2D.coords.usr2screen():e.coords.usr2screen());return this},moveOrigin:function(e,s,a){var o,h,c,d;return JXG$1.exists(e)&&JXG$1.exists(s)&&(o=this.origin.scrCoords[1],h=this.origin.scrCoords[2],this.origin.scrCoords[1]=e,this.origin.scrCoords[2]=s,a&&(this.origin.scrCoords[1]-=this.drag_dx,this.origin.scrCoords[2]-=this.drag_dy),c=new Coords(Const.COORDS_BY_SCREEN,[0,0],this).usrCoords,d=new Coords(Const.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords,(c[1]<this.maxboundingbox[0]||c[2]>this.maxboundingbox[1]||d[1]>this.maxboundingbox[2]||d[2]<this.maxboundingbox[3])&&(this.origin.scrCoords[1]=o,this.origin.scrCoords[2]=h)),this.updateCoords().clearTraces().fullUpdate(),this.triggerEventHandlers(["boundingbox"]),this},addConditions:function(e){var s,a,o,h,c,d,g,_=[],b=e.indexOf("<data>"),$=e.indexOf("</data>"),j=function(at,nt,st,rt){return function(){var lt,ot;lt=at.select(nt.id),ot=lt.coords.usrCoords[rt],rt===2?lt.setPositionDirectly(Const.COORDS_BY_USER,[st(),ot]):lt.setPositionDirectly(Const.COORDS_BY_USER,[ot,st()]),lt.prepareUpdate().update()}},_e=function(at,nt,st){return function(){var rt,lt;rt=at.select(nt.id),lt=st(),rt.setAttribute({visible:lt})}},et=function(at,nt,st,rt){return function(){var lt,ot;lt=at.select(nt.id),ot=st(),rt==="strokewidth"?lt.visProp.strokewidth=ot:(ot=JXG$1.rgba2rgbo(ot),lt.visProp[rt+"color"]=ot[0],lt.visProp[rt+"opacity"]=ot[1])}},tt=function(at,nt,st){return function(){var rt=at.select(nt.id);rt.position=st()}},it=function(at,nt,st){return function(){var rt=at.select(nt.id);rt.setStyle(st())}};if(!(b<0)){for(;b>=0;){if(s=e.slice(b+6,$),a=s.indexOf("="),o=s.slice(0,a),h=s.slice(a+1),a=o.indexOf("."),c=o.slice(0,a),d=this.elementsByName[JXG$1.unescapeHTML(c)],g=o.slice(a+1).replace(/\s+/g,"").toLowerCase(),h=JXG$1.createFunction(h,this,"",!0),!JXG$1.exists(this.elementsByName[c]))JXG$1.debug("debug conditions: |"+c+"| undefined");else switch(g){case"x":_.push(j(this,d,h,2));break;case"y":_.push(j(this,d,h,1));break;case"visible":_.push(_e(this,d,h));break;case"position":_.push(tt(this,d,h));break;case"stroke":_.push(et(this,d,h,"stroke"));break;case"style":_.push(it(this,d,h));break;case"strokewidth":_.push(et(this,d,h,"strokewidth"));break;case"fill":_.push(et(this,d,h,"fill"));break;case"label":break;default:JXG$1.debug('property "'+g+'" in conditions not yet implemented:'+h);break}e=e.slice($+7),b=e.indexOf("<data>"),$=e.indexOf("</data>")}this.updateConditions=function(){var at;for(at=0;at<_.length;at++)_[at]();return this.prepareUpdate().updateElements(),!0},this.updateConditions()}},updateConditions:function(){return!1},calculateSnapSizes:function(){var e,s,a=this.getBoundingBox(),o=JXG$1.evaluate(this.options.grid.majorStep),h=JXG$1.evaluate(this.options.grid.gridX),c=JXG$1.evaluate(this.options.grid.gridY),d,g;for(JXG$1.isArray(o)||(o=[o,o]),o.length<2&&(o=[o[0],o[0]]),JXG$1.exists(h)&&(o[0]=h),JXG$1.exists(c)&&(o[1]=c),o[0]==="auto"?o[0]=1:o[0]=JXG$1.parseNumber(o[0],Math.abs(a[1]-a[3]),1/this.unitX),o[1]==="auto"?o[1]=1:o[1]=JXG$1.parseNumber(o[1],Math.abs(a[0]-a[2]),1/this.unitY),e=new Coords(Const.COORDS_BY_USER,[0,0],this),s=new Coords(Const.COORDS_BY_USER,[o[0],o[1]],this),d=e.scrCoords[1]-s.scrCoords[1],g=e.scrCoords[2]-s.scrCoords[2],this.options.grid.snapSizeX=o[0];Math.abs(d)>25;)this.options.grid.snapSizeX*=2,d/=2;for(this.options.grid.snapSizeY=o[1];Math.abs(g)>25;)this.options.grid.snapSizeY*=2,g/=2;return this},applyZoom:function(){return this.updateCoords().calculateSnapSizes().clearTraces().fullUpdate(),this},zoomIn:function(e,s){var a=this.getBoundingBox(),o=this.attr.zoom.factorx,h=this.attr.zoom.factory,c=(a[2]-a[0])*(1-1/o),d=(a[1]-a[3])*(1-1/h),g=.5,_=.5,b=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX>this.attr.zoom.max&&o>1||this.zoomY>this.attr.zoom.max&&h>1||this.zoomX<b&&o<1||this.zoomY<b&&h<1?this:(JXG$1.isNumber(e)&&JXG$1.isNumber(s)&&(g=(e-a[0])/(a[2]-a[0]),_=(a[1]-s)/(a[1]-a[3])),this.setBoundingBox([a[0]+c*g,a[1]-d*_,a[2]-c*(1-g),a[3]+d*(1-_)],this.keepaspectratio,"update"),this.applyZoom())},zoomOut:function(e,s){var a=this.getBoundingBox(),o=this.attr.zoom.factorx,h=this.attr.zoom.factory,c=(a[2]-a[0])*(1-o),d=(a[1]-a[3])*(1-h),g=.5,_=.5,b=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX<b||this.zoomY<b?this:(JXG$1.isNumber(e)&&JXG$1.isNumber(s)&&(g=(e-a[0])/(a[2]-a[0]),_=(a[1]-s)/(a[1]-a[3])),this.setBoundingBox([a[0]+c*g,a[1]-d*_,a[2]-c*(1-g),a[3]+d*(1-_)],this.keepaspectratio,"update"),this.applyZoom())},zoom100:function(){var e,s,a;return JXG$1.exists(this.attr.boundingbox)?this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"reset"):(e=this.getBoundingBox(),s=(e[2]-e[0])*(1-this.zoomX)*.5,a=(e[1]-e[3])*(1-this.zoomY)*.5,this.setBoundingBox([e[0]+s,e[1]-a,e[2]-s,e[3]+a],this.keepaspectratio,"reset")),this.applyZoom()},zoomAllPoints:function(){var e,s,a,o,h,c=0,d=0,g=0,_=0,b=this.objectsList.length;for(e=0;e<b;e++)h=this.objectsList[e],JXG$1.isPoint(h)&&h.visPropCalc.visible&&(h.coords.usrCoords[1]<c?c=h.coords.usrCoords[1]:h.coords.usrCoords[1]>d&&(d=h.coords.usrCoords[1]),h.coords.usrCoords[2]>_?_=h.coords.usrCoords[2]:h.coords.usrCoords[2]<g&&(g=h.coords.usrCoords[2]));return s=50,a=s/this.unitX,o=s/this.unitY,this.setBoundingBox([c-a,_+o,d+a,g-o],this.keepaspectratio,"update"),this.applyZoom()},zoomElements:function(e){var s,a,o,h=[1/0,-1/0,-1/0,1/0],c,d,g,_,b;if(!JXG$1.isArray(e)||e.length===0)return this;for(s=0;s<e.length;s++)a=this.select(e[s]),o=a.bounds(),JXG$1.isArray(o)&&(o[0]<h[0]&&(h[0]=o[0]),o[1]>h[1]&&(h[1]=o[1]),o[2]>h[2]&&(h[2]=o[2]),o[3]<h[3]&&(h[3]=o[3]));return JXG$1.isArray(h)&&(c=.5*(h[0]+h[2]),d=.5*(h[1]+h[3]),g=1.5*(h[2]-h[0])*.5,_=1.5*(h[1]-h[3])*.5,b=Math.max(g,_),this.setBoundingBox([c-b,d+b,c+b,d-b],this.keepaspectratio,"update")),this},setZoom:function(e,s){var a=this.attr.zoom.factorx,o=this.attr.zoom.factory;return this.attr.zoom.factorx=e/this.zoomX,this.attr.zoom.factory=s/this.zoomY,this.zoomIn(),this.attr.zoom.factorx=a,this.attr.zoom.factory=o,this},_removeObj:function(e,s){var a,o;if(JXG$1.isArray(e)){for(o=0;o<e.length;o++)this._removeObj(e[o],s);return this}if(e=this.select(e),!JXG$1.exists(e)||JXG$1.isString(e))return this;try{for(a in e.childElements)e.childElements.hasOwnProperty(a)&&e.childElements[a].board._removeObj(e.childElements[a]);for(a in e.objects)e.objects.hasOwnProperty(a)&&e.objects[a].board._removeObj(e.objects[a]);if(s)for(a in this.objects)this.objects.hasOwnProperty(a)&&JXG$1.exists(this.objects[a].childElements)&&JXG$1.exists(this.objects[a].childElements.hasOwnProperty(e.id))&&(delete this.objects[a].childElements[e.id],delete this.objects[a].descendants[e.id]);else if(JXG$1.exists(e.ancestors))for(a in e.ancestors)e.ancestors.hasOwnProperty(a)&&JXG$1.exists(e.ancestors[a].childElements)&&JXG$1.exists(e.ancestors[a].childElements.hasOwnProperty(e.id))&&(delete e.ancestors[a].childElements[e.id],delete e.ancestors[a].descendants[e.id]);if(e._pos>-1)for(this.objectsList.splice(e._pos,1),o=e._pos;o<this.objectsList.length;o++)this.objectsList[o]._pos--;else e.type!==Const.OBJECT_TYPE_TURTLE&&JXG$1.debug("Board.removeObject: object "+e.id+" not found in list.");delete this.objects[e.id],delete this.elementsByName[e.name],e.visProp&&JXG$1.evaluate(e.visProp.trace)&&e.clearTrace(),JXG$1.exists(e.remove)&&e.remove()}catch(h){JXG$1.debug(e.id+": Could not be removed: "+h)}return this},removeObject:function(e,s){var a;if(this.renderer.suspendRedraw(this),JXG$1.isArray(e))for(a=0;a<e.length;a++)this._removeObj(e[a],s);else this._removeObj(e,s);return this.renderer.unsuspendRedraw(),this.update(),this},removeAncestors:function(e){var s;for(s in e.ancestors)e.ancestors.hasOwnProperty(s)&&this.removeAncestors(e.ancestors[s]);return this.removeObject(e),this},initGeonextBoard:function(){var e,s,a;return e=this.create("point",[0,0],{id:this.id+"g00e0",name:"Ursprung",withLabel:!1,visible:!1,fixed:!0}),s=this.create("point",[1,0],{id:this.id+"gX0e0",name:"Punkt_1_0",withLabel:!1,visible:!1,fixed:!0}),a=this.create("point",[0,1],{id:this.id+"gY0e0",name:"Punkt_0_1",withLabel:!1,visible:!1,fixed:!0}),this.create("line",[e,s],{id:this.id+"gXLe0",name:"X-Achse",withLabel:!1,visible:!1}),this.create("line",[e,a],{id:this.id+"gYLe0",name:"Y-Achse",withLabel:!1,visible:!1}),this},resizeContainer:function(e,s,a,o){var h,c,d,g,_;return c=this.canvasWidth,d=this.canvasHeight,o||(h=this.getBoundingBox()),this.canvasWidth=parseFloat(e),this.canvasHeight=parseFloat(s),a||(this.containerObj.style.width=this.canvasWidth+"px",this.containerObj.style.height=this.canvasHeight+"px"),this.renderer.resize(this.canvasWidth,this.canvasHeight),o?(g=(this.canvasWidth-c)*.5,_=(this.canvasHeight-d)*.5,this.moveOrigin(this.origin.scrCoords[1]+g,this.origin.scrCoords[2]+_)):this.setBoundingBox(h,this.keepaspectratio,"keep"),this},showDependencies:function(){var e,s,a,o,h;s=`<p>
`;for(e in this.objects)if(this.objects.hasOwnProperty(e)){h=0;for(a in this.objects[e].childElements)this.objects[e].childElements.hasOwnProperty(a)&&(h+=1);h>=0&&(s+="<strong>"+this.objects[e].id+":</strong> ");for(a in this.objects[e].childElements)this.objects[e].childElements.hasOwnProperty(a)&&(s+=this.objects[e].childElements[a].id+"("+this.objects[e].childElements[a].name+"), ");s+=`<p>
`}return s+=`</p>
`,o=window.open(),o.document.open(),o.document.write(s),o.document.close(),this},showXML:function(){var e=window.open("");return e.document.open(),e.document.write("<pre>"+JXG$1.escapeHTML(this.xmlString)+"</pre>"),e.document.close(),this},prepareUpdate:function(){var e,s,a=this.objectsList.length;for(e=0;e<a;e++)s=this.objectsList[e],s.needsUpdate=s.needsRegularUpdate||this.needsFullUpdate;for(e in this.groups)this.groups.hasOwnProperty(e)&&(s=this.groups[e],s.needsUpdate=s.needsRegularUpdate||this.needsFullUpdate);return this},updateElements:function(e){var s,a;for(e=this.select(e),s=0;s<this.objectsList.length;s++)a=this.objectsList[s],this.needsFullUpdate&&a.elementClass===Const.OBJECT_CLASS_TEXT&&a.updateSize(),a.update(!JXG$1.exists(e)||a.id!==e.id).updateVisibility();for(s in this.groups)this.groups.hasOwnProperty(s)&&this.groups[s].update(e);return this},updateRenderer:function(){var e,s=this.objectsList.length;if(this.renderer){if(this.renderer.type==="canvas")this.updateRendererCanvas();else for(e=0;e<s;e++)this.objectsList[e].updateRenderer();return this}},updateRendererCanvas:function(){var e,s,a,o,h,c=this.objectsList.length,d=this.options.layer,g=this.options.layer.numlayers,_=Number.NEGATIVE_INFINITY;for(a=0;a<g;a++){o=Number.POSITIVE_INFINITY;for(h in d)d.hasOwnProperty(h)&&d[h]>_&&d[h]<o&&(o=d[h]);for(_=o,e=0;e<c;e++)s=this.objectsList[e],s.visProp.layer===o&&s.prepareUpdate().updateRenderer()}return this},addHook:function(e,s,a){return JXG$1.deprecated("Board.addHook()","Board.on()"),s=JXG$1.def(s,"update"),a=JXG$1.def(a,this),this.hooks.push([s,e]),this.on(s,e,a),this.hooks.length-1},addEvent:JXG$1.shortcut(JXG$1.Board.prototype,"on"),removeHook:function(e){return JXG$1.deprecated("Board.removeHook()","Board.off()"),this.hooks[e]&&(this.off(this.hooks[e][0],this.hooks[e][1]),this.hooks[e]=null),this},removeEvent:JXG$1.shortcut(JXG$1.Board.prototype,"off"),updateHooks:function(e){var s=Array.prototype.slice.call(arguments,0);return JXG$1.deprecated("Board.updateHooks()","Board.triggerEventHandlers()"),s[0]=JXG$1.def(s[0],"update"),this.triggerEventHandlers([s[0]],arguments),this},addChild:function(e){return JXG$1.exists(e)&&JXG$1.exists(e.containerObj)&&(this.dependentBoards.push(e),this.update()),this},removeChild:function(e){var s;for(s=this.dependentBoards.length-1;s>=0;s--)this.dependentBoards[s]===e&&this.dependentBoards.splice(s,1);return this},update:function(e){var s,a,o,h,c;if(this.inUpdate||this.isSuspendedUpdate)return this;for(this.inUpdate=!0,this.attr.minimizereflow==="all"&&this.containerObj&&this.renderer.type!=="vml"&&(c=this.document.activeElement,h=this.renderer.removeToInsertLater(this.containerObj)),this.attr.minimizereflow==="svg"&&this.renderer.type==="svg"&&(c=this.document.activeElement,h=this.renderer.removeToInsertLater(this.renderer.svgRoot)),this.prepareUpdate().updateElements(e).updateConditions(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw(),this.triggerEventHandlers(["update"],[]),h&&(h(),c.focus()),a=this.dependentBoards.length,s=0;s<a;s++)o=this.dependentBoards[s],JXG$1.exists(o)&&o!==this&&(o.updateQuality=this.updateQuality,o.prepareUpdate().updateElements().updateConditions(),o.renderer.suspendRedraw(this),o.updateRenderer(),o.renderer.unsuspendRedraw(),o.triggerEventHandlers(["update"],[]));return this.inUpdate=!1,this},fullUpdate:function(){return this.needsFullUpdate=!0,this.update(),this.needsFullUpdate=!1,this},addGrid:function(){return this.create("grid",[]),this},removeGrids:function(){var e;for(e=0;e<this.grids.length;e++)this.removeObject(this.grids[e]);return this.grids.length=0,this.update(),this},create:function(e,s,a){var o,h;for(e=e.toLowerCase(),JXG$1.exists(s)||(s=[]),JXG$1.exists(a)||(a={}),h=0;h<s.length;h++)JXG$1.isString(s[h])&&!(e==="text"&&h===2)&&!(e==="solidofrevolution3d"&&h===2)&&!(e==="text3d"&&(h===2||h===4))&&!((e==="input"||e==="checkbox"||e==="button")&&(h===2||h===3))&&e!=="curve"&&e!=="functiongraph"&&e!=="implicitcurve"&&(s[h]=this.select(s[h]));if(JXG$1.isFunction(JXG$1.elements[e]))o=JXG$1.elements[e](this,s,a);else throw new Error("JSXGraph: create: Unknown element type given: "+e);return JXG$1.exists(o)?(o.prepareUpdate&&o.update&&o.updateRenderer&&o.fullUpdate(),o):(JXG$1.debug("JSXGraph: create: failure creating "+e),o)},createElement:function(){return JXG$1.deprecated("Board.createElement()","Board.create()"),this.create.apply(this,arguments)},clearTraces:function(){var e;for(e=0;e<this.objectsList.length;e++)this.objectsList[e].clearTrace();return this.numTraces=0,this},suspendUpdate:function(){return this.inUpdate||(this.isSuspendedUpdate=!0),this},unsuspendUpdate:function(){return this.isSuspendedUpdate&&(this.isSuspendedUpdate=!1,this.fullUpdate()),this},setBoundingBox:function(e,s,a){var o,h,c,d,g=0,_=0,b=1,$,j,_e,et,tt,it=JXG$1.getDimensions(this.containerObj,this.document);return JXG$1.isArray(e)?e[0]<this.maxboundingbox[0]||e[1]>this.maxboundingbox[1]||e[2]>this.maxboundingbox[2]||e[3]<this.maxboundingbox[3]?this:(JXG$1.exists(a)||(a="reset"),c=this.unitX,d=this.unitY,this.canvasWidth=parseFloat(it.width),this.canvasHeight=parseFloat(it.height),h=this.canvasWidth,o=this.canvasHeight,s?(this.keepaspectratio?($=c/d,isNaN($)&&($=1)):$=1,a==="keep"&&(b=this.zoomX/this.zoomY),j=e[2]-e[0],_e=e[1]-e[3],et=c*j,tt=d*_e,h>=o?et>=tt?(this.unitY=o/_e,this.unitX=this.unitY*$):(this.unitY=o/Math.abs(j)*Mat.sign(_e)/b,this.unitX=this.unitY*$):tt>et?(this.unitX=h/j,this.unitY=this.unitX/$):(this.unitX=h/Math.abs(_e)*Mat.sign(j)*b,this.unitY=this.unitX/$),g=(h/this.unitX-j)*.5,_=(o/this.unitY-_e)*.5,this.keepaspectratio=!0):(this.unitX=h/(e[2]-e[0]),this.unitY=o/(e[1]-e[3]),this.keepaspectratio=!1),this.moveOrigin(-this.unitX*(e[0]-g),this.unitY*(e[1]+_)),a==="update"?(this.zoomX*=this.unitX/c,this.zoomY*=this.unitY/d):a==="reset"&&(this.zoomX=JXG$1.exists(this.attr.zoomx)?this.attr.zoomx:1,this.zoomY=JXG$1.exists(this.attr.zoomy)?this.attr.zoomy:1),this):this},getBoundingBox:function(){var e=new Coords(Const.COORDS_BY_SCREEN,[0,0],this).usrCoords,s=new Coords(Const.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords;return[e[1],e[2],s[1],s[2]]},_set:function(e,s){e=e.toLocaleLowerCase(),s!==null&&JXG$1.isObject(s)&&!JXG$1.exists(s.id)&&!JXG$1.exists(s.name)?JXG$1.mergeAttr(this.attr[e],s):this.attr[e]=s},setAttribute:function(e){var s,a,o,h,c,d,g,_={};for(s=0;s<arguments.length;s++)a=arguments[s],JXG$1.isString(a)?(o=a.split(":"),_[JXG$1.trim(o[0])]=JXG$1.trim(o[1])):JXG$1.isArray(a)?_[a[0]]=a[1]:JXG$1.extend(_,a);for(s in _)if(_.hasOwnProperty(s)&&(h=s.replace(/\s+/g,"").toLowerCase(),c=_[s]),c=c.toLowerCase&&c.toLowerCase()==="false"?!1:c,d=this.attr[h],d!==c)switch(h){case"axis":c===!1&&JXG$1.exists(this.defaultAxes)&&(this.defaultAxes.x.setAttribute({visible:!1}),this.defaultAxes.y.setAttribute({visible:!1}));break;case"boundingbox":this.setBoundingBox(c,this.keepaspectratio),this._set(h,c);break;case"defaultaxes":JXG$1.exists(this.defaultAxes.x)&&JXG$1.exists(c.x)&&this.defaultAxes.x.setAttribute(c.x),JXG$1.exists(this.defaultAxes.y)&&JXG$1.exists(c.y)&&this.defaultAxes.y.setAttribute(c.y);break;case"description":this.document.getElementById(this.container+"_ARIAdescription").innerHTML=c,this._set(h,c);break;case"title":this.document.getElementById(this.container+"_ARIAlabel").innerHTML=c,this._set(h,c);break;case"keepaspectratio":this._set(h,c),this.setBoundingBox(this.getBoundingBox(),c,"keep");break;case"document":case"maxboundingbox":this[h]=c,this._set(h,c);break;case"zoomx":case"zoomy":this[h]=c,this._set(h,c),this.setZoom(this.attr.zoomx,this.attr.zoomy);break;case"registerevents":case"renderer":break;case"fullscreen":case"screenshot":g=this.containerObj.ownerDocument.getElementById(this.container+"_navigation_"+h),g&&JXG$1.exists(c.symbol)&&(g.innerHTML=JXG$1.evaluate(c.symbol)),this._set(h,c);break;case"selection":c.visible=!1,c.withLines=!1,c.vertices={visible:!1},this._set(h,c);break;case"showcopyright":this.renderer.type==="svg"&&(g=this.containerObj.ownerDocument.getElementById(this.renderer.uniqName("licenseText")),g?g.style.display=JXG$1.evaluate(c)?"inline":"none":JXG$1.evaluate(c)&&this.renderer.displayCopyright(Const.licenseText,parseInt(this.options.text.fontSize,10)));default:JXG$1.exists(this.attr[h])&&this._set(h,c);break}return this.containerObj.ownerDocument.getElementById(this.container+"_navigationbar").remove(),this.renderer.drawNavigationBar(this,this.attr.navbar),this.triggerEventHandlers(["attribute"],[_,this]),this.fullUpdate(),this},addAnimation:function(e){var s=this;return this.animationObjects[e.id]=e,this.animationIntervalCode||(this.animationIntervalCode=window.setInterval(function(){s.animate()},e.board.attr.animationdelay)),this},stopAllAnimation:function(){var e;for(e in this.animationObjects)this.animationObjects.hasOwnProperty(e)&&JXG$1.exists(this.animationObjects[e])&&(this.animationObjects[e]=null,delete this.animationObjects[e]);return window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode,this},animate:function(){var e,s,a,o,h,c,d,g,_=0,b=null;for(s in this.animationObjects)if(this.animationObjects.hasOwnProperty(s)&&JXG$1.exists(this.animationObjects[s])){if(_+=1,a=this.animationObjects[s],a.animationPath&&(JXG$1.isFunction(a.animationPath)?o=a.animationPath(new Date().getTime()-a.animationStart):o=a.animationPath.pop(),!JXG$1.exists(o)||!JXG$1.isArray(o)&&isNaN(o)?delete a.animationPath:(a.setPositionDirectly(Const.COORDS_BY_USER,o),a.fullUpdate(),b=a)),a.animationData){d=0;for(h in a.animationData)a.animationData.hasOwnProperty(h)&&(c=a.animationData[h].pop(),JXG$1.exists(c)?(d+=1,e={},e[h]=c,a.setAttribute(e)):delete a.animationData[c]);d===0&&delete a.animationData}!JXG$1.exists(a.animationData)&&!JXG$1.exists(a.animationPath)&&(this.animationObjects[s]=null,delete this.animationObjects[s],JXG$1.exists(a.animationCallback)&&(g=a.animationCallback,a.animationCallback=null,g()))}return _===0?(window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode):this.update(b),this},migratePoint:function(e,s,a){var o,h,c,d,g,_,b=!1;e=this.select(e),s=this.select(s),JXG$1.exists(e.label)&&(_=e.label.id,b=!0,this.removeObject(e.label));for(h in e.childElements)if(e.childElements.hasOwnProperty(h)){o=e.childElements[h],d=!1;for(c in o)o.hasOwnProperty(c)&&o[c]===e&&(o[c]=s,d=!0);for(d&&delete e.childElements[h],g=0;g<o.parents.length;g++)o.parents[g]===e.id&&(o.parents[g]=s.id);s.addChild(o)}return a&&(b&&(delete s.childElements[_],delete s.descendants[_]),s.label&&this.removeObject(s.label),delete this.elementsByName[s.name],s.name=e.name,b&&s.createLabel()),this.removeObject(e),JXG$1.exists(s.name)&&s.name!==""&&(this.elementsByName[s.name]=s),this.fullUpdate(),this},emulateColorblindness:function(e){var s,a;if(JXG$1.exists(e)||(e="none"),this.currentCBDef===e)return this;for(s in this.objects)this.objects.hasOwnProperty(s)&&(a=this.objects[s],e!=="none"?(this.currentCBDef==="none"&&(a.visPropOriginal={strokecolor:a.visProp.strokecolor,fillcolor:a.visProp.fillcolor,highlightstrokecolor:a.visProp.highlightstrokecolor,highlightfillcolor:a.visProp.highlightfillcolor}),a.setAttribute({strokecolor:JXG$1.rgb2cb(JXG$1.evaluate(a.visPropOriginal.strokecolor),e),fillcolor:JXG$1.rgb2cb(JXG$1.evaluate(a.visPropOriginal.fillcolor),e),highlightstrokecolor:JXG$1.rgb2cb(JXG$1.evaluate(a.visPropOriginal.highlightstrokecolor),e),highlightfillcolor:JXG$1.rgb2cb(JXG$1.evaluate(a.visPropOriginal.highlightfillcolor),e)})):JXG$1.exists(a.visPropOriginal)&&JXG$1.extend(a.visProp,a.visPropOriginal));return this.currentCBDef=e,this.update(),this},select:function(e,s){var a,o,h,c,d=e;if(d===null)return d;if(JXG$1.isString(d)&&d!=="")JXG$1.exists(this.objects[d])?d=this.objects[d]:JXG$1.exists(this.elementsByName[d])?d=this.elementsByName[d]:JXG$1.exists(this.groups[d])&&(d=this.groups[d]);else if(!s&&(JXG$1.isFunction(d)||JXG$1.isObject(d)&&!JXG$1.isFunction(d.setAttribute))){for(a=JXG$1.filterElements(this.objectsList,d),o={},c=a.length,h=0;h<c;h++)o[a[h].id]=a[h];d=new Composition(o)}else JXG$1.isObject(d)&&JXG$1.exists(d.id)&&!JXG$1.exists(this.objects[d.id])&&(d=null);return d},hasPoint:function(e,s){var a=e,o=s,h=this.getBoundingBox();return JXG$1.exists(e)&&JXG$1.isArray(e.usrCoords)&&(a=e.usrCoords[1],o=e.usrCoords[2]),!!(JXG$1.isNumber(a)&&JXG$1.isNumber(o)&&h[0]<a&&a<h[2]&&h[1]>o&&o>h[3])},updateCSSTransforms:function(){var e=this.containerObj,s=e,a=e;if(this.cssTransMat=JXG$1.getCSSTransformMatrix(s),JXG$1.exists(s.getRootNode)){for(s=s.parentNode===s.getRootNode()?s.parentNode.host:s.parentNode;s;)this.cssTransMat=Mat.matMatMult(JXG$1.getCSSTransformMatrix(s),this.cssTransMat),s=s.parentNode===s.getRootNode()?s.parentNode.host:s.parentNode;this.cssTransMat=Mat.inverse(this.cssTransMat)}else{for(s=s.offsetParent;s;){for(this.cssTransMat=Mat.matMatMult(JXG$1.getCSSTransformMatrix(s),this.cssTransMat),a=a.parentNode;a!==s;)this.cssTransMat=Mat.matMatMult(JXG$1.getCSSTransformMatrix(s),this.cssTransMat),a=a.parentNode;s=s.offsetParent}this.cssTransMat=Mat.inverse(this.cssTransMat)}return this},startSelectionMode:function(){this.selectingMode=!0,this.selectionPolygon.setAttribute({visible:!0}),this.selectingBox=[[0,0],[0,0]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate()},stopSelectionMode:function(){return this.selectingMode=!1,this.selectionPolygon.setAttribute({visible:!1}),[this.selectionPolygon.vertices[0].coords,this.selectionPolygon.vertices[2].coords]},_startSelecting:function(e){this.isSelecting=!0,this.selectingBox=[[e[0],e[1]],[e[0],e[1]]],this._setSelectionPolygonFromBox()},_moveSelecting:function(e){this.isSelecting&&(this.selectingBox[1]=[e[0],e[1]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate())},_stopSelecting:function(e){var s=this.getMousePosition(e);this.isSelecting=!1,this.selectingBox[1]=[s[0],s[1]],this._setSelectionPolygonFromBox()},_setSelectionPolygonFromBox:function(){var e=this.selectingBox[0],s=this.selectingBox[1];this.selectionPolygon.vertices[0].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[e[0],e[1]]),this.selectionPolygon.vertices[1].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[e[0],s[1]]),this.selectionPolygon.vertices[2].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[s[0],s[1]]),this.selectionPolygon.vertices[3].setPositionDirectly(JXG$1.COORDS_BY_SCREEN,[s[0],e[1]])},_testForSelection:function(e){this._isRequiredKeyPressed(e,"selection")&&(JXG$1.exists(this.selectionPolygon)||this._createSelectionPolygon(this.attr),this.startSelectionMode())},_createSelectionPolygon:function(e){var s;return JXG$1.exists(this.selectionPolygon)||(s=JXG$1.copyAttributes(e,Options,"board","selection"),s.enabled===!0&&(this.selectionPolygon=this.create("polygon",[[0,0],[0,0],[0,0],[0,0]],s))),this},__evt__attribute:function(e){},__evt__down:function(e){},__evt__mousedown:function(e){},__evt__pendown:function(e){},__evt__pointerdown:function(e){},__evt__touchstart:function(e){},__evt__up:function(e){},__evt__mouseup:function(e){},__evt__pointerup:function(e){},__evt__touchend:function(e){},__evt__click:function(e){},__evt__dblclick:function(e){},__evt__mouseclick:function(e){},__evt__mousedblclick:function(e){},__evt__pointerclick:function(e){},__evt__pointerdblclick:function(e){},__evt__move:function(e,s){},__evt__mousemove:function(e,s){},__evt__penmove:function(e,s){},__evt__pointermove:function(e,s){},__evt__touchmove:function(e,s){},__evt__keymove:function(e,s){},__evt__hit:function(e,s,a){},__evt__mousehit:function(e,s,a){},__evt__update:function(){},__evt__boundingbox:function(){},__evt__startselecting:function(){},__evt__mousestartselecting:function(){},__evt__pointerstartselecting:function(){},__evt__touchstartselecting:function(){},__evt__stopselecting:function(){},__evt__mousestopselecting:function(){},__evt__pointerstopselecting:function(){},__evt__touchstopselecting:function(){},__evt__moveselecting:function(){},__evt__mousemoveselecting:function(){},__evt__pointermoveselecting:function(){},__evt__touchmoveselecting:function(){},__evt:function(){},toFullscreen:function(e){var s,a,o,h,c=this.document,d;return e=e||this.container,this._fullscreen_inner_id=e,o=c.getElementById(e),s="fullscreenwrap_"+e,JXG$1.exists(o._cssFullscreenStore)||(h=this.containerObj.getBoundingClientRect(),o._cssFullscreenStore={w:h.width,h:h.height}),c.getElementById(s)?a=c.getElementById(s):(a=document.createElement("div"),a.classList.add("JXG_wrap_private"),a.setAttribute("id",s),o.parentNode.insertBefore(a,o),a.appendChild(o)),a.requestFullscreen=a.requestFullscreen||a.webkitRequestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen,c.fullscreenElement!==void 0?d=c.fullscreenElement:c.webkitFullscreenElement!==void 0?d=c.webkitFullscreenElement:d=c.msFullscreenElement,d===null?a.requestFullscreen&&(a.requestFullscreen(),this.startFullscreenResizeObserver(a)):(this.stopFullscreenResizeObserver(a),JXG$1.exists(document.exitFullscreen)?document.exitFullscreen():JXG$1.exists(document.webkitExitFullscreen)&&document.webkitExitFullscreen()),this},fullscreenListener:function(e){var s,a,o,h=this.document;s=this._fullscreen_inner_id,JXG$1.exists(s)&&(h.fullscreenElement!==void 0?o=h.fullscreenElement:h.webkitFullscreenElement!==void 0?o=h.webkitFullscreenElement:o=h.msFullscreenElement,a=h.getElementById(s),o?(a._cssFullscreenStore.id=o.id,a._cssFullscreenStore.isFullscreen=!0,a._cssFullscreenStore.margin=a.style.margin,a._cssFullscreenStore.width=a.style.width,a._cssFullscreenStore.height=a.style.height,a._cssFullscreenStore.transform=a.style.transform,a.style.width=a._cssFullscreenStore.w+"px",a.style.height=a._cssFullscreenStore.h+"px",a.style.margin="",JXG$1.scaleJSXGraphDiv(o.id,s,h,JXG$1.evaluate(this.attr.fullscreen.scale)),o=null):JXG$1.exists(a._cssFullscreenStore)&&(a._cssFullscreenStore.isFullscreen=!1,a.style.margin=a._cssFullscreenStore.margin,a.style.width=a._cssFullscreenStore.width,a.style.height=a._cssFullscreenStore.height,a.style.transform=a._cssFullscreenStore.transform,a._cssFullscreenStore=null,a.parentElement.replaceWith(a)),this.updateCSSTransforms())},startFullscreenResizeObserver:function(e){var s=this;return!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled?this:(this.resizeObserver=new ResizeObserver(function(a){var o,h,c=s.document;s._isResizing||(s._isResizing=!0,window.setTimeout(function(){try{o=s._fullscreen_inner_id,c.fullscreenElement!==void 0?h=c.fullscreenElement:c.webkitFullscreenElement!==void 0?h=c.webkitFullscreenElement:h=c.msFullscreenElement,h!==null&&JXG$1.scaleJSXGraphDiv(h.id,o,c,JXG$1.evaluate(s.attr.fullscreen.scale))}catch{s.stopFullscreenResizeObserver(e)}finally{s._isResizing=!1}},s.attr.resize.throttle))}),this.resizeObserver.observe(e),this)},stopFullscreenResizeObserver:function(e){return!JXG$1.isBrowser||!this.attr.resize||!this.attr.resize.enabled?this:(JXG$1.exists(this.resizeObserver)&&this.resizeObserver.unobserve(e),this)},addLogEntry:function(e,s,a){var o,h,c=this.userLog.length-1;return JXG$1.exists(s.elementClass)&&(h=s.id),JXG$1.evaluate(this.attr.logging.enabled)&&(o=new Date().getTime(),c>=0&&this.userLog[c].type===e&&this.userLog[c].id===h&&o-this.userLog[c].end<500?(this.userLog[c].end=o,this.userLog[c].endpos=a):this.userLog.push({type:e,id:h,start:o,startpos:a,end:o,endpos:a,bbox:this.getBoundingBox(),canvas:[this.canvasWidth,this.canvasHeight],zoom:[this.zoomX,this.zoomY]})),this},createRoulette:function(e,s,a,o,h,c,d){var g=this,_=function(){var b=0,$=0,j=0,_e=a,et=Numerics.root(function(dt){var ft=e.X(_e),gt=e.Y(_e),mt=s.X(dt),vt=s.Y(dt);return(ft-mt)*(ft-mt)+(gt-vt)*(gt-vt)},[0,Math.PI*2]),tt=0,it=0,at,nt=g.create("transform",[function(){return b}],{type:"rotate"}),st=g.create("transform",[function(){return b},function(){return e.X(_e)},function(){return e.Y(_e)}],{type:"rotate"}),rt=g.create("transform",[function(){return $},function(){return j}],{type:"translate"}),lt=function(dt,ft,gt){var mt=Numerics.D(dt.X)(ft),vt=Numerics.D(dt.Y)(ft),Jt=Numerics.D(dt.X)(gt),Pt=Numerics.D(dt.Y)(gt),$t=Numerics.D(dt.X)((ft+gt)*.5),Et=Numerics.D(dt.Y)((ft+gt)*.5),Gt=Mat.hypot(mt,vt),_t=Mat.hypot(Jt,Pt),bt=Mat.hypot($t,Et);return(Gt+4*bt+_t)*(gt-ft)/6},ot=function(dt){return at-lt(s,et,dt)},ht=Math.PI/18,ct=ht*9,ut=null;return this.rolling=function(){var dt,ft,gt,mt,vt;tt=_e+h*o,at=lt(e,_e,tt),it=Numerics.root(ot,et),dt=new Complex(e.X(tt),e.Y(tt)),ft=new Complex(s.X(it),s.Y(it)),gt=new Complex(Numerics.D(e.X)(tt),Numerics.D(e.Y)(tt)),mt=new Complex(Numerics.D(s.X)(it),Numerics.D(s.Y)(it)),vt=Complex.C.div(gt,mt),b=Math.atan2(vt.imaginary,vt.real),vt.div(Complex.C.abs(vt)),vt.mult(ft),$=dt.real-vt.real,j=dt.imaginary-vt.imaginary,b<-ht&&b>-ct?(b=-ht,st.applyOnce(d)):b>ht&&b<ct?(b=ht,st.applyOnce(d)):(nt.applyOnce(d),rt.applyOnce(d),_e=tt,et=it),g.update()},this.start=function(){return c>0&&(ut=window.setInterval(this.rolling,c)),this},this.stop=function(){return window.clearInterval(ut),this},this};return new _}});const Board=JXG$1.Board;JXG$1.SVGRenderer=function(e,s){var a;for(this.type="svg",this.isIE=navigator.appVersion.indexOf("MSIE")!==-1||navigator.userAgent.match(/Trident\//),this.svgRoot=null,this.svgNamespace="http://www.w3.org/2000/svg",this.xlinkNamespace="http://www.w3.org/1999/xlink",this.container=e,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",this.container.style.position===""&&(this.container.style.position="relative"),this.svgRoot=this.container.ownerDocument.createElementNS(this.svgNamespace,"svg"),this.svgRoot.style.overflow="hidden",this.svgRoot.style.display="block",this.resize(s.width,s.height),this.container.appendChild(this.svgRoot),this.defs=this.container.ownerDocument.createElementNS(this.svgNamespace,"defs"),this.svgRoot.appendChild(this.defs),this.createShadowFilter=function(o,h,c,d,g,_){var b=this.container.ownerDocument.createElementNS(this.svgNamespace,"filter"),$,j,_e,et,tt;return b.setAttributeNS(null,"id",o),b.setAttributeNS(null,"width","300%"),b.setAttributeNS(null,"height","300%"),b.setAttributeNS(null,"filterUnits","userSpaceOnUse"),$=this.container.ownerDocument.createElementNS(this.svgNamespace,"feOffset"),$.setAttributeNS(null,"in","SourceGraphic"),$.setAttributeNS(null,"result","offOut"),$.setAttributeNS(null,"dx",_[0]),$.setAttributeNS(null,"dy",_[1]),b.appendChild($),j=this.container.ownerDocument.createElementNS(this.svgNamespace,"feColorMatrix"),j.setAttributeNS(null,"in","offOut"),j.setAttributeNS(null,"result","colorOut"),j.setAttributeNS(null,"type","matrix"),h==="none"||!JXG$1.isArray(h)||h.length<3?j.setAttributeNS(null,"values","0.1 0 0 0 0  0 0.1 0 0 0  0 0 0.1 0 0  0 0 0 "+c+" 0"):(h[0]/=255,h[1]/=255,h[2]/=255,tt=d+" 0 0 0 "+h[0]+"  0 "+d+" 0 0 "+h[1]+"  0 0 "+d+" 0 "+h[2]+"  0 0 0 "+c+" 0",j.setAttributeNS(null,"values",tt)),b.appendChild(j),_e=this.container.ownerDocument.createElementNS(this.svgNamespace,"feGaussianBlur"),_e.setAttributeNS(null,"in","colorOut"),_e.setAttributeNS(null,"result","blurOut"),_e.setAttributeNS(null,"stdDeviation",g),b.appendChild(_e),et=this.container.ownerDocument.createElementNS(this.svgNamespace,"feBlend"),et.setAttributeNS(null,"in","SourceGraphic"),et.setAttributeNS(null,"in2","blurOut"),et.setAttributeNS(null,"mode","normal"),b.appendChild(et),b},this.uniqName=function(){return this.container.id+"_"+Array.prototype.slice.call(arguments).join("_")},this.toStr=function(){var o=Array.prototype.slice.call(arguments).join("");return JXG$1.exists(CSS)&&JXG$1.exists(CSS.escape)&&(o=CSS.escape(o)),o},this.toURL=function(){return"url(#"+this.toStr.apply(this,arguments)+")"},this.defs.appendChild(this.createShadowFilter(this.uniqName("f1"),"none",1,.1,3,[5,5])),this.layer=[],a=0;a<Options.layer.numlayers;a++)this.layer[a]=this.container.ownerDocument.createElementNS(this.svgNamespace,"g"),this.svgRoot.appendChild(this.layer[a]);try{this.foreignObjLayer=this.container.ownerDocument.createElementNS(this.svgNamespace,"foreignObject"),this.foreignObjLayer.setAttribute("display","none"),this.foreignObjLayer.setAttribute("x",0),this.foreignObjLayer.setAttribute("y",0),this.foreignObjLayer.setAttribute("width","100%"),this.foreignObjLayer.setAttribute("height","100%"),this.foreignObjLayer.setAttribute("id",this.uniqName("foreignObj")),this.svgRoot.appendChild(this.foreignObjLayer),this.supportsForeignObject=!0}catch{this.supportsForeignObject=!1}};JXG$1.SVGRenderer.prototype=new AbstractRenderer;JXG$1.extend(JXG$1.SVGRenderer.prototype,{_createArrowHead:function(e,s,a){var o,h,c=e.id+"Triangle",d,g;return JXG$1.exists(s)&&(c+=s),JXG$1.exists(a)&&(c+=a),o=this.createPrim("marker",c),o.setAttributeNS(null,"stroke",JXG$1.evaluate(e.visProp.strokecolor)),o.setAttributeNS(null,"stroke-opacity",JXG$1.evaluate(e.visProp.strokeopacity)),o.setAttributeNS(null,"fill",JXG$1.evaluate(e.visProp.strokecolor)),o.setAttributeNS(null,"fill-opacity",JXG$1.evaluate(e.visProp.strokeopacity)),o.setAttributeNS(null,"stroke-width",0),o.setAttributeNS(null,"orient","auto"),o.setAttributeNS(null,"markerUnits","strokeWidth"),h=this.container.ownerDocument.createElementNS(this.svgNamespace,"path"),g=5,s==="Start"?(d=0,a===2?h.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 L 5,5 z"):a===3?h.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z"):a===4?(g=3.31,h.setAttributeNS(null,"d","M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31")):a===5?(g=3.28,h.setAttributeNS(null,"d","M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28")):a===6?(g=2.84,h.setAttributeNS(null,"d","M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84")):a===7?(g=5.2,h.setAttributeNS(null,"d","M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20")):h.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 z"),e.elementClass===Const.OBJECT_CLASS_LINE&&(a===2?d=4.9:a===3?d=3.3:a===4||a===5||a===6?d=6.66:a===7?d=0:d=10)):(d=10,a===2?h.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 L 5,5 z"):a===3?(d=3.3,h.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z")):a===4?(g=3.31,h.setAttributeNS(null,"d","M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31")):a===5?(g=3.28,h.setAttributeNS(null,"d","M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28")):a===6?(g=2.84,h.setAttributeNS(null,"d","M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84")):a===7?(g=5.2,h.setAttributeNS(null,"d","M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20")):h.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 z"),e.elementClass===Const.OBJECT_CLASS_LINE&&(a===2?d=5.1:a===3?d=.02:a===4||a===5||a===6?d=3.33:a===7?d=10:d=.05)),a===7&&(o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"stroke-width",1)),o.setAttributeNS(null,"refY",g),o.setAttributeNS(null,"refX",d),o.appendChild(h),o},_setArrowColor:function(e,s,a,o,h){e&&(JXG$1.isString(s)&&(h!==7?this._setAttribute(function(){e.setAttributeNS(null,"stroke",s),e.setAttributeNS(null,"fill",s),e.setAttributeNS(null,"stroke-opacity",a),e.setAttributeNS(null,"fill-opacity",a)},o.visPropOld.fillcolor):this._setAttribute(function(){e.setAttributeNS(null,"fill","none"),e.setAttributeNS(null,"stroke",s),e.setAttributeNS(null,"stroke-opacity",a)},o.visPropOld.fillcolor)),this.isIE&&o.rendNode.parentNode.insertBefore(o.rendNode,o.rendNode))},_setArrowWidth:function(e,s,a,o){var h,c;e&&(h=s,c=h*o,e.setAttributeNS(null,"viewBox","0 0 "+h*10+" "+h*10),e.setAttributeNS(null,"markerHeight",c),e.setAttributeNS(null,"markerWidth",c),e.setAttributeNS(null,"display","inherit"),this.isIE&&a.parentNode.insertBefore(a,a))},updateTicks:function(e){var s,a,o,h,c,d,g="",_=e.ticks.length,b,$,j=!0;for(s=0;s<_;s++){for(o=e.ticks[s],c=o[0],d=o[1],b=c.length,$=" M "+c[0]+" "+d[0],JXG$1.isNumber(c[0])||(j=!1),a=1;j&&a<b;++a)JXG$1.isNumber(c[a])?$+=" L "+c[a]+" "+d[a]:j=!1;j&&(g+=$)}h=e.rendNode,JXG$1.exists(h)||(h=this.createPrim("path",e.id),this.appendChildPrim(h,JXG$1.evaluate(e.visProp.layer)),e.rendNode=h),h.setAttributeNS(null,"stroke",JXG$1.evaluate(e.visProp.strokecolor)),h.setAttributeNS(null,"fill","none"),h.setAttributeNS(null,"stroke-opacity",JXG$1.evaluate(e.visProp.strokeopacity)),h.setAttributeNS(null,"stroke-width",JXG$1.evaluate(e.visProp.strokewidth)),this.updatePathPrim(h,g,e.board),this.setObjectViewport(e)},displayCopyright:function(e,s){var a=this.createPrim("text","licenseText"),o;a.setAttributeNS(null,"x","20px"),a.setAttributeNS(null,"y",2+s+"px"),a.setAttributeNS(null,"style","font-family:Arial,Helvetica,sans-serif; font-size:"+s+"px; fill:#356AA0;  opacity:0.3;"),o=this.container.ownerDocument.createTextNode(e),a.appendChild(o),this.appendChildPrim(a,0)},drawInternalText:function(e){var s=this.createPrim("text",e.id);return s.style.whiteSpace="nowrap",e.rendNodeText=this.container.ownerDocument.createTextNode(""),s.appendChild(e.rendNodeText),this.appendChildPrim(s,JXG$1.evaluate(e.visProp.layer)),s},updateInternalText:function(e){var s=e.plaintext,a,o=e.getAnchorX(),h=e.getAnchorY();e.rendNode.getAttributeNS(null,"class")!==e.visProp.cssclass&&(e.rendNode.setAttributeNS(null,"class",JXG$1.evaluate(e.visProp.cssclass)),e.needsSizeUpdate=!0),isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])||(a=e.coords.scrCoords[1],e.visPropOld.left!==o+a&&(e.rendNode.setAttributeNS(null,"x",a+"px"),o==="left"?e.rendNode.setAttributeNS(null,"text-anchor","start"):o==="right"?e.rendNode.setAttributeNS(null,"text-anchor","end"):o==="middle"&&e.rendNode.setAttributeNS(null,"text-anchor","middle"),e.visPropOld.left=o+a),a=e.coords.scrCoords[2],e.visPropOld.top!==h+a&&(e.rendNode.setAttributeNS(null,"y",a+this.vOffsetText*.5+"px"),h==="bottom"?(e.rendNode.setAttributeNS(null,"dy","0"),e.rendNode.setAttributeNS(null,"dominant-baseline","auto")):h==="top"?(e.rendNode.setAttributeNS(null,"dy","1.6ex"),e.rendNode.setAttributeNS(null,"dominant-baseline","auto")):h==="middle"&&(e.rendNode.setAttributeNS(null,"dy","0.6ex"),e.rendNode.setAttributeNS(null,"dominant-baseline","auto")),e.visPropOld.top=h+a)),e.htmlStr!==s&&(e.rendNodeText.data=s,e.htmlStr=s),this.transformImage(e,e.transformations)},updateInternalTextStyle:function(e,s,a,o){this.setObjectViewport(e),this.setObjectFillColor(e,s,a)},drawImage:function(e){var s=this.createPrim("image",e.id);s.setAttributeNS(null,"preserveAspectRatio","none"),this.appendChildPrim(s,JXG$1.evaluate(e.visProp.layer)),e.rendNode=s,this.updateImage(e)},transformImage:function(e,s){var a,o,h=e.rendNode,c="",d,g,_=s.length;if(_>0&&(o=this.joinTransforms(e,s),a=[o[1][1],o[2][1],o[1][2],o[2][2],o[1][0],o[2][0]].join(","),a.indexOf("NaN")===-1))if(c+=" matrix("+a+") ",e.elementClass===Const.OBJECT_CLASS_TEXT&&e.visProp.display==="html"){switch(h.style.transform=c,d=-e.coords.scrCoords[1],g=-e.coords.scrCoords[2],JXG$1.evaluate(e.visProp.anchorx)){case"right":d+=e.size[0];break;case"middle":d+=e.size[0]*.5;break}switch(JXG$1.evaluate(e.visProp.anchory)){case"bottom":g+=e.size[1];break;case"middle":g+=e.size[1]*.5;break}h.style["transform-origin"]=d+"px "+g+"px"}else h.setAttributeNS(null,"transform",c)},updateImageURL:function(e){var s=JXG$1.evaluate(e.url);return e._src!==s?(e.imgIsLoaded=!1,e.rendNode.setAttributeNS(this.xlinkNamespace,"xlink:href",s),e._src=s,!0):!1},updateImageStyle:function(e,s){var a=JXG$1.evaluate(s?e.visProp.highlightcssclass:e.visProp.cssclass);e.rendNode.setAttributeNS(null,"class",a)},drawForeignObject:function(e){e.rendNode=this.appendChildPrim(this.createPrim("foreignObject",e.id),JXG$1.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"foreignObject"),this.updateForeignObject(e)},updateForeignObject:function(e){e._useUserSize?e.rendNode.style.overflow="hidden":e.rendNode.style.overflow="visible",this.updateRectPrim(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1],e.size[0],e.size[1]),e.rendNode.innerHTML=e.content,this._updateVisual(e,{stroke:!0,dash:!0},!0)},appendChildPrim:function(e,s){return JXG$1.exists(s)?s>=Options.layer.numlayers&&(s=Options.layer.numlayers-1):s=0,this.layer[s].appendChild(e),e},createPrim:function(e,s){var a=this.container.ownerDocument.createElementNS(this.svgNamespace,e);return a.setAttributeNS(null,"id",this.uniqName(s)),a.style.position="absolute",e==="path"&&(a.setAttributeNS(null,"stroke-linecap","round"),a.setAttributeNS(null,"stroke-linejoin","round"),a.setAttributeNS(null,"fill-rule","evenodd")),a},remove:function(e){JXG$1.exists(e)&&JXG$1.exists(e.parentNode)&&e.parentNode.removeChild(e)},setLayer:function(e,s){JXG$1.exists(s)?s>=Options.layer.numlayers&&(s=Options.layer.numlayers-1):s=0,this.layer[s].appendChild(e.rendNode)},makeArrows:function(e,s){var a,o,h=s.evFirst,c=s.evLast;if(this.isIE&&e.visPropCalc.visible&&(h||c)){e.rendNode.parentNode.insertBefore(e.rendNode,e.rendNode);return}a=e.rendNodeTriangleStart,h?(o=this.toStr(this.container.id,"_",e.id,"TriangleStart",s.typeFirst),(!JXG$1.exists(a)||a.id!==o)&&(a=this.container.ownerDocument.getElementById(o),a===null&&(a=this._createArrowHead(e,"Start",s.typeFirst),this.defs.appendChild(a)),e.rendNodeTriangleStart=a,e.rendNode.setAttributeNS(null,"marker-start",this.toURL(o)))):(JXG$1.exists(a)&&(this.remove(a),e.rendNodeTriangleStart=null),e.rendNode.setAttributeNS(null,"marker-start",null)),a=e.rendNodeTriangleEnd,c?(o=this.toStr(this.container.id,"_",e.id,"TriangleEnd",s.typeLast),(!JXG$1.exists(a)||a.id!==o)&&(a=this.container.ownerDocument.getElementById(o),a===null&&(a=this._createArrowHead(e,"End",s.typeLast),this.defs.appendChild(a)),e.rendNodeTriangleEnd=a,e.rendNode.setAttributeNS(null,"marker-end",this.toURL(o)))):(JXG$1.exists(a)&&(this.remove(a),e.rendNodeTriangleEnd=null),e.rendNode.setAttributeNS(null,"marker-end",null))},updateEllipsePrim:function(e,s,a,o,h){var c=1e6;c=2e5,s=Math.abs(s)<c?s:c*s/Math.abs(s),a=Math.abs(a)<c?a:c*a/Math.abs(a),o=Math.abs(o)<c?o:c*o/Math.abs(o),h=Math.abs(h)<c?h:c*h/Math.abs(h),e.setAttributeNS(null,"cx",s),e.setAttributeNS(null,"cy",a),e.setAttributeNS(null,"rx",Math.abs(o)),e.setAttributeNS(null,"ry",Math.abs(h))},updateLinePrim:function(e,s,a,o,h){var c=1e6;c=2e5,isNaN(s+a+o+h)||(s=Math.abs(s)<c?s:c*s/Math.abs(s),a=Math.abs(a)<c?a:c*a/Math.abs(a),o=Math.abs(o)<c?o:c*o/Math.abs(o),h=Math.abs(h)<c?h:c*h/Math.abs(h),e.setAttributeNS(null,"x1",s),e.setAttributeNS(null,"y1",a),e.setAttributeNS(null,"x2",o),e.setAttributeNS(null,"y2",h))},updatePathPrim:function(e,s){s===""&&(s="M 0 0"),e.setAttributeNS(null,"d",s)},updatePathStringPoint:function(e,s,a){var o="",h=e.coords.scrCoords,c=s*Math.sqrt(3)*.5,d=s*.5;return a==="x"?o=" M "+(h[1]-s)+" "+(h[2]-s)+" L "+(h[1]+s)+" "+(h[2]+s)+" M "+(h[1]+s)+" "+(h[2]-s)+" L "+(h[1]-s)+" "+(h[2]+s):a==="+"?o=" M "+(h[1]-s)+" "+h[2]+" L "+(h[1]+s)+" "+h[2]+" M "+h[1]+" "+(h[2]-s)+" L "+h[1]+" "+(h[2]+s):a==="|"?o=" M "+h[1]+" "+(h[2]-s)+" L "+h[1]+" "+(h[2]+s):a==="-"?o=" M "+(h[1]-s)+" "+h[2]+" L "+(h[1]+s)+" "+h[2]:a==="<>"||a==="<<>>"?(a==="<<>>"&&(s*=1.41),o=" M "+(h[1]-s)+" "+h[2]+" L "+h[1]+" "+(h[2]+s)+" L "+(h[1]+s)+" "+h[2]+" L "+h[1]+" "+(h[2]-s)+" Z "):a==="^"?o=" M "+h[1]+" "+(h[2]-s)+" L "+(h[1]-c)+" "+(h[2]+d)+" L "+(h[1]+c)+" "+(h[2]+d)+" Z ":a==="v"?o=" M "+h[1]+" "+(h[2]+s)+" L "+(h[1]-c)+" "+(h[2]-d)+" L "+(h[1]+c)+" "+(h[2]-d)+" Z ":a===">"?o=" M "+(h[1]+s)+" "+h[2]+" L "+(h[1]-d)+" "+(h[2]-c)+" L "+(h[1]-d)+" "+(h[2]+c)+" Z ":a==="<"&&(o=" M "+(h[1]-s)+" "+h[2]+" L "+(h[1]+d)+" "+(h[2]-c)+" L "+(h[1]+d)+" "+(h[2]+c)+" Z "),o},updatePathStringPrim:function(e){var s,a,o,h=" M ",c=" L ",d=" C ",g=h,_=5e3,b="";if(e.numberPoints<=0)return"";if(o=Math.min(e.points.length,e.numberPoints),e.bezierDegree===1)for(s=0;s<o;s++)a=e.points[s].scrCoords,isNaN(a[1])||isNaN(a[2])?g=h:(a[1]=Math.max(Math.min(a[1],_),-_),a[2]=Math.max(Math.min(a[2],_),-_),b+=g+a[1]+" "+a[2],g=c);else if(e.bezierDegree===3)for(s=0;s<o;)a=e.points[s].scrCoords,isNaN(a[1])||isNaN(a[2])?g=h:(b+=g+a[1]+" "+a[2],g===d&&(s+=1,a=e.points[s].scrCoords,b+=" "+a[1]+" "+a[2],s+=1,a=e.points[s].scrCoords,b+=" "+a[1]+" "+a[2]),g=d),s+=1;return b},updatePathStringBezierPrim:function(e){var s,a,o,h,c,d,g,_=" M ",b=" C ",$=_,j=5e3,_e="",et=JXG$1.evaluate(e.visProp.strokewidth),tt=JXG$1.evaluate(e.visProp.curvetype)!=="plot";if(e.numberPoints<=0)return"";for(tt&&e.board.options.curve.RDPsmoothing&&(e.points=Numerics.RamerDouglasPeucker(e.points,.5)),g=Math.min(e.points.length,e.numberPoints),a=1;a<3;a++)for($=_,s=0;s<g;s++)h=e.points[s].scrCoords,isNaN(h[1])||isNaN(h[2])?$=_:(h[1]=Math.max(Math.min(h[1],j),-j),h[2]=Math.max(Math.min(h[2],j),-j),$===_?_e+=$+h[1]+" "+h[2]:(o=2*a,_e+=[$,c+(h[1]-c)*.333+et*(o*Math.random()-a)," ",d+(h[2]-d)*.333+et*(o*Math.random()-a)," ",c+(h[1]-c)*.666+et*(o*Math.random()-a)," ",d+(h[2]-d)*.666+et*(o*Math.random()-a)," ",h[1]," ",h[2]].join("")),$=b,c=h[1],d=h[2]);return _e},updatePolygonPrim:function(e,s){var a,o="",h,c=s.vertices.length;for(e.setAttributeNS(null,"stroke","none"),e.setAttributeNS(null,"fill-rule","evenodd"),s.elType==="polygonalchain"&&c++,a=0;a<c-1;a++){if(s.vertices[a].isReal)h=s.vertices[a].coords.scrCoords,o=o+h[1]+","+h[2];else{e.setAttributeNS(null,"points","");return}a<c-2&&(o+=" ")}o.indexOf("NaN")===-1&&e.setAttributeNS(null,"points",o)},updateRectPrim:function(e,s,a,o,h){e.setAttributeNS(null,"x",s),e.setAttributeNS(null,"y",a),e.setAttributeNS(null,"width",o),e.setAttributeNS(null,"height",h)},setPropertyPrim:function(e,s,a){s!=="stroked"&&e.setAttributeNS(null,s,a)},display:function(e,s){var a;e&&e.rendNode&&(e.visPropOld.visible=s,a=e.rendNode,s?(a.setAttributeNS(null,"display","inline"),a.style.visibility="inherit"):(a.setAttributeNS(null,"display","none"),a.style.visibility="hidden"))},show:function(e){JXG$1.deprecated("Board.renderer.show()","Board.renderer.display()"),this.display(e,!0)},hide:function(e){JXG$1.deprecated("Board.renderer.hide()","Board.renderer.display()"),this.display(e,!1)},setBuffering:function(e,s){e.rendNode.setAttribute("buffered-rendering",s)},setDashStyle:function(e){var s=JXG$1.evaluate(e.visProp.dash),a=JXG$1.evaluate(e.visProp.dashscale),o=a?.5*JXG$1.evaluate(e.visProp.strokewidth):1,h=e.rendNode;s>0?h.setAttributeNS(null,"stroke-dasharray",this.dashArray[s-1].map(function(c){return c*o}).join(",")):h.hasAttributeNS(null,"stroke-dasharray")&&h.removeAttributeNS(null,"stroke-dasharray")},setGradient:function(e){var s=e.rendNode,a,o,h,c=JXG$1.evaluate(e.visProp.gradient);c==="linear"||c==="radial"?(a=this.createPrim(c+"Gradient",e.id+"_gradient"),o=this.createPrim("stop",e.id+"_gradient1"),h=this.createPrim("stop",e.id+"_gradient2"),a.appendChild(o),a.appendChild(h),this.defs.appendChild(a),s.setAttributeNS(null,"style","fill:"+this.toURL(this.container.id+"_"+e.id+"_gradient")),e.gradNode1=o,e.gradNode2=h,e.gradNode=a):s.removeAttributeNS(null,"style")},updateGradientAngle:function(e,s){var a=1,o=Math.cos(s),h=Math.sin(s);Math.abs(o)>Math.abs(h)?a/=Math.abs(o):a/=Math.abs(h),o>=0?(e.setAttributeNS(null,"x1",0),e.setAttributeNS(null,"x2",o*a)):(e.setAttributeNS(null,"x1",-o*a),e.setAttributeNS(null,"x2",0)),h>=0?(e.setAttributeNS(null,"y1",0),e.setAttributeNS(null,"y2",h*a)):(e.setAttributeNS(null,"y1",-h*a),e.setAttributeNS(null,"y2",0))},updateGradientCircle:function(e,s,a,o,h,c,d){e.setAttributeNS(null,"cx",s*100+"%"),e.setAttributeNS(null,"cy",a*100+"%"),e.setAttributeNS(null,"r",o*100+"%"),e.setAttributeNS(null,"fx",h*100+"%"),e.setAttributeNS(null,"fy",c*100+"%"),e.setAttributeNS(null,"fr",d*100+"%")},updateGradient:function(e){var s,a,o=e.gradNode1,h=e.gradNode2,c=JXG$1.evaluate(e.visProp.gradient);!JXG$1.exists(o)||!JXG$1.exists(h)||(a=JXG$1.evaluate(e.visProp.fillopacity),a=a>0?a:0,s=JXG$1.evaluate(e.visProp.fillcolor),o.setAttributeNS(null,"style","stop-color:"+s+";stop-opacity:"+a),h.setAttributeNS(null,"style","stop-color:"+JXG$1.evaluate(e.visProp.gradientsecondcolor)+";stop-opacity:"+JXG$1.evaluate(e.visProp.gradientsecondopacity)),o.setAttributeNS(null,"offset",JXG$1.evaluate(e.visProp.gradientstartoffset)*100+"%"),h.setAttributeNS(null,"offset",JXG$1.evaluate(e.visProp.gradientendoffset)*100+"%"),c==="linear"?this.updateGradientAngle(e.gradNode,JXG$1.evaluate(e.visProp.gradientangle)):c==="radial"&&this.updateGradientCircle(e.gradNode,JXG$1.evaluate(e.visProp.gradientcx),JXG$1.evaluate(e.visProp.gradientcy),JXG$1.evaluate(e.visProp.gradientr),JXG$1.evaluate(e.visProp.gradientfx),JXG$1.evaluate(e.visProp.gradientfy),JXG$1.evaluate(e.visProp.gradientfr)))},setObjectTransition:function(e,s){var a,o,h=[],c,d,g=0,_=["rendNode","rendNodeTriangleStart","rendNodeTriangleEnd"];if(s===void 0&&(s=JXG$1.evaluate(e.visProp.transitionduration)),o=JXG$1.evaluate(e.visProp.transitionproperties),!(s===e.visPropOld.transitionduration&&o===e.visPropOld.transitionproperties)){for(JXG$1.exists(o)&&(g=o.length),d=0;d<g;d++)h.push(o[d]+" "+s+"ms");for(c=h.join(", "),g=_.length,d=0;d<g;++d)e[_[d]]&&(a=e[_[d]],a.style.transition=c);e.visPropOld.transitionduration=s,e.visPropOld.transitionproperties=o}},setObjectViewport:function(e,s){},_setAttribute:function(e,s){s===""?e():window.setTimeout(e,1)},setObjectFillColor:function(e,s,a,o){var h,c,d,g,_=JXG$1.evaluate(s),b=JXG$1.evaluate(a),$=JXG$1.evaluate(e.visProp.gradient);b=b>0?b:0,!(e.visPropOld.fillcolor===_&&e.visPropOld.fillopacity===b&&$===null)&&(JXG$1.exists(_)&&_!==!1&&(_.length!==9?(c=_,g=b):(d=JXG$1.rgba2rgbo(_),c=d[0],g=b*d[1]),o===void 0?h=e.rendNode:h=o,c!=="none"&&this._setAttribute(function(){h.setAttributeNS(null,"fill",c)},e.visPropOld.fillcolor),e.type===JXG$1.OBJECT_TYPE_IMAGE?this._setAttribute(function(){h.setAttributeNS(null,"opacity",g)},e.visPropOld.fillopacity):(c==="none"?(g=0,h.setAttributeNS(null,"pointer-events","visibleStroke")):h.setAttributeNS(null,"pointer-events","visiblePainted"),this._setAttribute(function(){h.setAttributeNS(null,"fill-opacity",g)},e.visPropOld.fillopacity)),($==="linear"||$==="radial")&&this.updateGradient(e)),e.visPropOld.fillcolor=_,e.visPropOld.fillopacity=b)},setObjectStrokeColor:function(e,s,a){var o=JXG$1.evaluate(s),h,c,d=JXG$1.evaluate(a),g,_;d=d>0?d:0,!(e.visPropOld.strokecolor===o&&e.visPropOld.strokeopacity===d)&&(JXG$1.exists(o)&&o!==!1&&(o.length!==9?(h=o,g=d):(c=JXG$1.rgba2rgbo(o),h=c[0],g=d*c[1]),_=e.rendNode,e.elementClass===Const.OBJECT_CLASS_TEXT?JXG$1.evaluate(e.visProp.display)==="html"?this._setAttribute(function(){_.style.color=h,_.style.opacity=g},e.visPropOld.strokecolor):this._setAttribute(function(){_.setAttributeNS(null,"style","fill:"+h),_.setAttributeNS(null,"style","fill-opacity:"+g)},e.visPropOld.strokecolor):this._setAttribute(function(){_.setAttributeNS(null,"stroke",h),_.setAttributeNS(null,"stroke-opacity",g)},e.visPropOld.strokecolor),(e.elementClass===Const.OBJECT_CLASS_CURVE||e.elementClass===Const.OBJECT_CLASS_LINE)&&(JXG$1.evaluate(e.visProp.firstarrow)&&this._setArrowColor(e.rendNodeTriangleStart,h,g,e,e.visPropCalc.typeFirst),JXG$1.evaluate(e.visProp.lastarrow)&&this._setArrowColor(e.rendNodeTriangleEnd,h,g,e,e.visPropCalc.typeLast))),e.visPropOld.strokecolor=o,e.visPropOld.strokeopacity=d)},setObjectStrokeWidth:function(e,s){var a,o=JXG$1.evaluate(s);isNaN(o)||e.visPropOld.strokewidth===o||(a=e.rendNode,this.setPropertyPrim(a,"stroked","true"),JXG$1.exists(o)&&this.setPropertyPrim(a,"stroke-width",o+"px"),e.visPropOld.strokewidth=o)},setLineCap:function(e){var s=JXG$1.evaluate(e.visProp.linecap);s===void 0||s===""||e.visPropOld.linecap===s||!JXG$1.exists(e.rendNode)||(this.setPropertyPrim(e.rendNode,"stroke-linecap",s),e.visPropOld.linecap=s)},setShadow:function(e){var s=JXG$1.evaluate(e.visProp.shadow),a,o,h,c,d,g,_,b,$=!0,j=!1;a=JSON.stringify(s),a!==e.visPropOld.shadow&&(typeof s=="boolean"?($=!0,j=s,o="none",h=3,c=.1,d=[5,5],g=1):JXG$1.evaluate(s.enabled)?($=!1,j=!0,o=JXG$1.rgbParser(JXG$1.evaluate(s.color)),h=JXG$1.evaluate(s.blur),c=JXG$1.evaluate(s.blend),d=JXG$1.evaluate(s.offset),g=JXG$1.evaluate(s.opacity)):j=!1,JXG$1.exists(e.rendNode)&&(j?$?e.rendNode.setAttributeNS(null,"filter",this.toURL(this.container.id+"_f1")):(b=this.container.ownerDocument.getElementById(_),b&&this.defs.removeChild(b),_=e.rendNode.id+"_f1",this.defs.appendChild(this.createShadowFilter(_,o,g,c,h,d)),e.rendNode.setAttributeNS(null,"filter",this.toURL(_))):e.rendNode.removeAttributeNS(null,"filter")),e.visPropOld.shadow=a)},suspendRedraw:function(){this.suspendHandle=this.svgRoot.suspendRedraw(1e4)},unsuspendRedraw:function(){this.svgRoot.unsuspendRedraw(this.suspendHandle)},resize:function(e,s){this.svgRoot.setAttribute("width",parseFloat(e)),this.svgRoot.setAttribute("height",parseFloat(s))},createTouchpoints:function(e){var s,a,o,h;for(this.touchpoints=[],s=0;s<e;s++)a="touchpoint1_"+s,h=this.createPrim("path",a),this.appendChildPrim(h,19),h.setAttributeNS(null,"d","M 0 0"),this.touchpoints.push(h),this.setPropertyPrim(h,"stroked","true"),this.setPropertyPrim(h,"stroke-width","1px"),h.setAttributeNS(null,"stroke","#000000"),h.setAttributeNS(null,"stroke-opacity",1),h.setAttributeNS(null,"display","none"),o="touchpoint2_"+s,h=this.createPrim("ellipse",o),this.appendChildPrim(h,19),this.updateEllipsePrim(h,0,0,0,0),this.touchpoints.push(h),this.setPropertyPrim(h,"stroked","true"),this.setPropertyPrim(h,"stroke-width","1px"),h.setAttributeNS(null,"stroke","#000000"),h.setAttributeNS(null,"stroke-opacity",1),h.setAttributeNS(null,"fill","#ffffff"),h.setAttributeNS(null,"fill-opacity",0),h.setAttributeNS(null,"display","none")},showTouchpoint:function(e){this.touchpoints&&e>=0&&2*e<this.touchpoints.length&&(this.touchpoints[2*e].setAttributeNS(null,"display","inline"),this.touchpoints[2*e+1].setAttributeNS(null,"display","inline"))},hideTouchpoint:function(e){this.touchpoints&&e>=0&&2*e<this.touchpoints.length&&(this.touchpoints[2*e].setAttributeNS(null,"display","none"),this.touchpoints[2*e+1].setAttributeNS(null,"display","none"))},updateTouchpoint:function(e,s){var a,o,h=37;this.touchpoints&&e>=0&&2*e<this.touchpoints.length&&(a=s[0],o=s[1],this.touchpoints[2*e].setAttributeNS(null,"d","M "+(a-h)+" "+o+" L "+(a+h)+" "+o+" M "+a+" "+(o-h)+" L "+a+" "+(o+h)),this.updateEllipsePrim(this.touchpoints[2*e+1],s[0],s[1],25,25))},_getValuesOfDOMElements:function(e){var s=[];if(e.nodeType===1)for(e=e.firstChild;e;)e.id!==void 0&&e.value!==void 0&&s.push([e.id,e.value]),JXG$1.concat(s,this._getValuesOfDOMElements(e)),e=e.nextSibling;return s},_getImgDataURL:function(e){var s,a,o,h,c,d;if(s=e.getElementsByTagName("image"),a=s.length,a>0)for(o=document.createElement("canvas"),d=0;d<a;d++){s[d].setAttribute("crossorigin","anonymous"),h=o.getContext("2d"),o.width=s[d].getAttribute("width"),o.height=s[d].getAttribute("height");try{h.drawImage(s[d],0,0,o.width,o.height),c=o.toDataURL(),s[d].setAttribute("xlink:href",c)}catch(g){console.log("CORS problem! Image can not be used",g)}}return!0},dumpToDataURI:function(e){var s=this.svgRoot,a=window.btoa||Base64.encode,o,h,c,d=[];if(this.container.hasChildNodes()&&JXG$1.exists(this.foreignObjLayer))for(e||this.foreignObjLayer.setAttribute("display","inline");s.nextSibling;)JXG$1.concat(d,this._getValuesOfDOMElements(s.nextSibling)),this.foreignObjLayer.appendChild(s.nextSibling);if(this._getImgDataURL(s),s.setAttribute("xmlns","http://www.w3.org/2000/svg"),o=new XMLSerializer().serializeToString(s),e!==!0)for(c=d.length,h=0;h<c;h++)o=o.replace('id="'+d[h][0]+'"','id="'+d[h][0]+'" value="'+d[h][1]+'"');if(this.isIE&&(o.match(/xmlns="http:\/\/www.w3.org\/2000\/svg"\s+xmlns="http:\/\/www.w3.org\/2000\/svg"/g)||[]).length>1&&(o=o.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"\s+xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"")),o=o.replace(/&nbsp;/g," "),o=o.replace(/url\(&quot;(.*)&quot;\)/g,"url($1)"),JXG$1.exists(this.foreignObjLayer)&&this.foreignObjLayer.hasChildNodes()){for(;this.foreignObjLayer.firstChild;)this.container.appendChild(this.foreignObjLayer.firstChild);this.foreignObjLayer.setAttribute("display","none")}return"data:image/svg+xml;base64,"+a(unescape(encodeURIComponent(o)))},dumpToCanvas:function(e,s,a,o){var h,c,d,g,_=this.container.ownerDocument;return d=_.getElementById(e),d.width=d.width,g=d.getContext("2d"),s!==void 0&&a!==void 0&&(d.style.width=parseFloat(s)+"px",d.style.height=parseFloat(a)+"px",d.setAttribute("width",parseFloat(s)),d.setAttribute("height",parseFloat(a))),c=new Image,h=this.dumpToDataURI(o),c.src=h,"Promise"in window?new Promise(function(b,$){try{c.onload=function(){g.drawImage(c,0,0,s,a),b()}}catch(j){$(j)}}):(c.onload=function(){window.setTimeout(function(){try{g.drawImage(c,0,0,s,a)}catch{console.log("screenshots not longer supported on IE")}},200)},this)},screenshot:function(e,s,a){var o,h=this.container.ownerDocument,c=this.container.parentNode,d,g,_,b,$,j,_e,et=e.attr.screenshot,tt,it,at,nt=!1,st;return this.type==="no"?this:(j=et.scale*this.container.getBoundingClientRect().width,_e=et.scale*this.container.getBoundingClientRect().height,s===void 0||s===""?(nt=!0,_=new Image,_.style.width=j+"px",_.style.height=_e+"px"):(nt=!1,_=h.getElementById(s)),nt&&(o=h.createElement("div"),o.style.cssText=et.css,o.style.width=j+"px",o.style.height=_e+"px",o.style.zIndex=this.container.style.zIndex+120,o.style.position="absolute",o.style.top=this.container.offsetTop+"px",o.style.left=this.container.offsetLeft+"px"),d=h.createElement("canvas"),g=Math.random().toString(36).slice(2,7),d.setAttribute("id",g),d.setAttribute("width",j),d.setAttribute("height",_e),d.style.width=j+"px",d.style.height=j+"px",d.style.display="none",c.appendChild(d),nt&&(b=h.createElement("span"),$=h.createTextNode("✖"),b.style.cssText=et.cssButton,b.appendChild($),b.onclick=function(){o.parentNode.removeChild(o)},o.appendChild(_),o.appendChild(b),c.insertBefore(o,this.container.nextSibling)),tt=h.getElementById(this.uniqName("navigationbar")),JXG$1.exists(tt)&&(it=tt.style.display,tt.style.display="none",at=this.removeToInsertLater(tt)),st=function(){_.src=d.toDataURL("image/png"),c.removeChild(d)},"Promise"in window?this.dumpToCanvas(g,j,_e,a).then(st):(this.dumpToCanvas(g,j,_e,a),window.setTimeout(st,200)),JXG$1.exists(tt)&&(tt.style.display=it,at()),this)}});const SVGRenderer=JXG$1.SVGRenderer;JXG$1.VMLRenderer=function(e){this.type="vml",this.container=e,this.container.style.overflow="hidden",this.container.style.position===""&&(this.container.style.position="relative"),this.container.onselectstart=function(){return!1},this.resolution=10,JXG$1.exists(JXG$1.vmlStylesheet)||(e.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),JXG$1.vmlStylesheet=this.container.ownerDocument.createStyleSheet(),JXG$1.vmlStylesheet.addRule(".jxgvml","behavior:url(#default#VML)"));try{e.ownerDocument.namespaces.jxgvml||e.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),this.createNode=function(s){return e.ownerDocument.createElement("<jxgvml:"+s+' class="jxgvml">')}}catch{this.createNode=function(a){return e.ownerDocument.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="jxgvml">')}}this.dashArray=["Solid","1 1","ShortDash","Dash","LongDash","ShortDashDot","LongDashDot"]};JXG$1.VMLRenderer.prototype=new AbstractRenderer;JXG$1.extend(JXG$1.VMLRenderer.prototype,{_setAttr:function(e,s,a,o){try{this.container.ownerDocument.documentMode===8?e[s]=a:e.setAttribute(s,a,o)}catch{JXG$1.debug("_setAttr: "+s+" "+a+`<br>
`)}},updateTicks:function(e){var s,a,o,h,c,d=this.resolution,g=[];for(a=e.ticks.length,s=0;s<a;s++)o=e.ticks[s],h=o[0],c=o[1],JXG$1.isNumber(h[0])&&JXG$1.isNumber(h[1])&&g.push(" m "+Math.round(d*h[0])+", "+Math.round(d*c[0])+" l "+Math.round(d*h[1])+", "+Math.round(d*c[1])+" ");JXG$1.exists(e.rendNode)||(e.rendNode=this.createPrim("path",e.id),this.appendChildPrim(e.rendNode,JXG$1.evaluate(e.visProp.layer))),this._setAttr(e.rendNode,"stroked","true"),this._setAttr(e.rendNode,"strokecolor",JXG$1.evaluate(e.visProp.strokecolor),1),this._setAttr(e.rendNode,"strokeweight",JXG$1.evaluate(e.visProp.strokewidth)),this._setAttr(e.rendNodeStroke,"opacity",JXG$1.evaluate(e.visProp.strokeopacity)*100+"%"),this.updatePathPrim(e.rendNode,g,e.board)},displayCopyright:function(e,s){var a,o;a=this.createNode("textbox"),a.style.position="absolute",this._setAttr(a,"id",this.container.id+"_licenseText"),a.style.left=20,a.style.top=2,a.style.fontSize=s,a.style.color="#356AA0",a.style.fontFamily="Arial,Helvetica,sans-serif",this._setAttr(a,"opacity","30%"),a.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)",o=this.container.ownerDocument.createTextNode(e),a.appendChild(o),this.appendChildPrim(a,0)},drawInternalText:function(e){var s;return s=this.createNode("textbox"),s.style.position="absolute",e.rendNodeText=this.container.ownerDocument.createTextNode(""),s.appendChild(e.rendNodeText),this.appendChildPrim(s,9),s.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",s},updateInternalText:function(e){var s,a=e.plaintext,o=this.joinTransforms(e,e.transformations),h=[0,0],c,d,g,_,b,$=e.rendNode,j=[],_e=e.getAnchorX(),et=e.getAnchorY();if(!isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])){for(_e==="right"?h[0]=1:_e==="middle"&&(h[0]=.5),et==="bottom"?h[1]=1:et==="middle"&&(h[1]=.5),j[0]=Mat.matVecMult(o,[1,e.coords.scrCoords[1]-h[0]*e.size[0],e.coords.scrCoords[2]+(1-h[1])*e.size[1]+this.vOffsetText]),j[0][1]/=j[0][0],j[0][2]/=j[0][0],j[1]=Mat.matVecMult(o,[1,e.coords.scrCoords[1]+(1-h[0])*e.size[0],e.coords.scrCoords[2]+(1-h[1])*e.size[1]+this.vOffsetText]),j[1][1]/=j[1][0],j[1][2]/=j[1][0],j[2]=Mat.matVecMult(o,[1,e.coords.scrCoords[1]+(1-h[0])*e.size[0],e.coords.scrCoords[2]-h[1]*e.size[1]+this.vOffsetText]),j[2][1]/=j[2][0],j[2][2]/=j[2][0],j[3]=Mat.matVecMult(o,[1,e.coords.scrCoords[1]-h[0]*e.size[0],e.coords.scrCoords[2]-h[1]*e.size[1]+this.vOffsetText]),j[3][1]/=j[3][0],j[3][2]/=j[3][0],c=j[0][1],g=j[0][1],d=j[0][2],_=j[0][2],b=1;b<4;b++)c=Math.max(c,j[b][1]),g=Math.min(g,j[b][1]),d=Math.max(d,j[b][2]),_=Math.min(_,j[b][2]);s=h[0]===1?Math.floor(e.board.canvasWidth-c):Math.floor(g),e.visPropOld.left!==_e+s&&(h[0]===1?(e.rendNode.style.right=s+"px",e.rendNode.style.left="auto"):(e.rendNode.style.left=s+"px",e.rendNode.style.right="auto"),e.visPropOld.left=_e+s),s=h[1]===1?Math.floor(e.board.canvasHeight-d):Math.floor(_),e.visPropOld.top!==et+s&&(h[1]===1?(e.rendNode.style.bottom=s+"px",e.rendNode.style.top="auto"):(e.rendNode.style.top=s+"px",e.rendNode.style.bottom="auto"),e.visPropOld.top=et+s)}e.htmlStr!==a&&(e.rendNodeText.data=a,e.htmlStr=a),$.filters.item(0).M11=o[1][1],$.filters.item(0).M12=o[1][2],$.filters.item(0).M21=o[2][1],$.filters.item(0).M22=o[2][2],$.filters.item(0).enabled=!0},drawImage:function(e){var s;s=this.container.ownerDocument.createElement("img"),s.style.position="absolute",this._setAttr(s,"id",this.container.id+"_"+e.id),this.container.appendChild(s),this.appendChildPrim(s,JXG$1.evaluate(e.visProp.layer)),s.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",e.rendNode=s,this.updateImage(e)},transformImage:function(e,s){var a,o,h,c,d,g,_=e.rendNode,b=[],$=s.length;if($>0){for(a=this.joinTransforms(e,s),b[0]=Mat.matVecMult(a,e.coords.scrCoords),b[0][1]/=b[0][0],b[0][2]/=b[0][0],b[1]=Mat.matVecMult(a,[1,e.coords.scrCoords[1]+e.size[0],e.coords.scrCoords[2]]),b[1][1]/=b[1][0],b[1][2]/=b[1][0],b[2]=Mat.matVecMult(a,[1,e.coords.scrCoords[1]+e.size[0],e.coords.scrCoords[2]-e.size[1]]),b[2][1]/=b[2][0],b[2][2]/=b[2][0],b[3]=Mat.matVecMult(a,[1,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1]]),b[3][1]/=b[3][0],b[3][2]/=b[3][0],o=b[0][1],c=b[0][1],h=b[0][2],d=b[0][2],g=1;g<4;g++)o=Math.max(o,b[g][1]),c=Math.min(c,b[g][1]),h=Math.max(h,b[g][2]),d=Math.min(d,b[g][2]);_.style.left=Math.floor(c)+"px",_.style.top=Math.floor(d)+"px",_.filters.item(0).M11=a[1][1],_.filters.item(0).M12=a[1][2],_.filters.item(0).M21=a[2][1],_.filters.item(0).M22=a[2][2],_.filters.item(0).enabled=!0}},updateImageURL:function(e){var s=JXG$1.evaluate(e.url);this._setAttr(e.rendNode,"src",s)},appendChildPrim:function(e,s){return JXG$1.exists(s)||(s=0),e.style.zIndex=s,this.container.appendChild(e),e},appendNodesToElement:function(e,s){(s==="shape"||s==="path"||s==="polygon")&&(e.rendNodePath=this.getElementById(e.id+"_path")),e.rendNodeFill=this.getElementById(e.id+"_fill"),e.rendNodeStroke=this.getElementById(e.id+"_stroke"),e.rendNodeShadow=this.getElementById(e.id+"_shadow"),e.rendNode=this.getElementById(e.id)},createPrim:function(e,s){var a,o,h=this.createNode("fill"),c=this.createNode("stroke"),d=this.createNode("shadow");return this._setAttr(h,"id",this.container.id+"_"+s+"_fill"),this._setAttr(c,"id",this.container.id+"_"+s+"_stroke"),this._setAttr(d,"id",this.container.id+"_"+s+"_shadow"),e==="circle"||e==="ellipse"?(a=this.createNode("oval"),a.appendChild(h),a.appendChild(c),a.appendChild(d)):e==="polygon"||e==="path"||e==="shape"||e==="line"?(a=this.createNode("shape"),a.appendChild(h),a.appendChild(c),a.appendChild(d),o=this.createNode("path"),this._setAttr(o,"id",this.container.id+"_"+s+"_path"),a.appendChild(o)):(a=this.createNode(e),a.appendChild(h),a.appendChild(c),a.appendChild(d)),a.style.position="absolute",a.style.left="0px",a.style.top="0px",this._setAttr(a,"id",this.container.id+"_"+s),a},remove:function(e){JXG$1.exists(e)&&e.removeNode(!0)},makeArrows:function(e){var s,a=JXG$1.evaluate(e.visProp.firstarrow),o=JXG$1.evaluate(e.visProp.lastarrow);e.visPropOld.firstarrow===a&&e.visPropOld.lastarrow===o||(a?(s=e.rendNodeStroke,this._setAttr(s,"startarrow","block"),this._setAttr(s,"startarrowlength","long")):(s=e.rendNodeStroke,JXG$1.exists(s)&&this._setAttr(s,"startarrow","none")),o?(s=e.rendNodeStroke,this._setAttr(s,"id",this.container.id+"_"+e.id+"stroke"),this._setAttr(s,"endarrow","block"),this._setAttr(s,"endarrowlength","long")):(s=e.rendNodeStroke,JXG$1.exists(s)&&this._setAttr(s,"endarrow","none")),e.visPropOld.firstarrow=a,e.visPropOld.lastarrow=o)},updateEllipsePrim:function(e,s,a,o,h){e.style.left=Math.floor(s-o)+"px",e.style.top=Math.floor(a-h)+"px",e.style.width=Math.floor(Math.abs(o)*2)+"px",e.style.height=Math.floor(Math.abs(h)*2)+"px"},updateLinePrim:function(e,s,a,o,h,c){var d,g=this.resolution;isNaN(s+a+o+h)||(d=["m ",Math.floor(g*s),", ",Math.floor(g*a)," l ",Math.floor(g*o),", ",Math.floor(g*h)],this.updatePathPrim(e,d,c))},updatePathPrim:function(e,s,a){var o=a.canvasWidth,h=a.canvasHeight;s.length<=0&&(s=["m 0,0"]),e.style.width=o,e.style.height=h,this._setAttr(e,"coordsize",[Math.floor(this.resolution*o),Math.floor(this.resolution*h)].join(",")),this._setAttr(e,"path",s.join(""))},updatePathStringPoint:function(e,s,a){var o=[],h=Math.round,c=e.coords.scrCoords,d=s*Math.sqrt(3)*.5,g=s*.5,_=this.resolution;return a==="x"?o.push([" m ",h(_*(c[1]-s)),", ",h(_*(c[2]-s))," l ",h(_*(c[1]+s)),", ",h(_*(c[2]+s))," m ",h(_*(c[1]+s)),", ",h(_*(c[2]-s))," l ",h(_*(c[1]-s)),", ",h(_*(c[2]+s))].join("")):a==="+"?o.push([" m ",h(_*(c[1]-s)),", ",h(_*c[2])," l ",h(_*(c[1]+s)),", ",h(_*c[2])," m ",h(_*c[1]),", ",h(_*(c[2]-s))," l ",h(_*c[1]),", ",h(_*(c[2]+s))].join("")):a==="<>"||a==="<<>>"?(a==="<<>>"&&(s*=1.41),o.push([" m ",h(_*(c[1]-s)),", ",h(_*c[2])," l ",h(_*c[1]),", ",h(_*(c[2]+s))," l ",h(_*(c[1]+s)),", ",h(_*c[2])," l ",h(_*c[1]),", ",h(_*(c[2]-s))," x e "].join(""))):a==="^"?o.push([" m ",h(_*c[1]),", ",h(_*(c[2]-s))," l ",h(_*(c[1]-d)),", ",h(_*(c[2]+g))," l ",h(_*(c[1]+d)),", ",h(_*(c[2]+g))," x e "].join("")):a==="v"?o.push([" m ",h(_*c[1]),", ",h(_*(c[2]+s))," l ",h(_*(c[1]-d)),", ",h(_*(c[2]-g))," l ",h(_*(c[1]+d)),", ",h(_*(c[2]-g))," x e "].join("")):a===">"?o.push([" m ",h(_*(c[1]+s)),", ",h(_*c[2])," l ",h(_*(c[1]-g)),", ",h(_*(c[2]-d))," l ",h(_*(c[1]-g)),", ",h(_*(c[2]+d))," l ",h(_*(c[1]+s)),", ",h(_*c[2])].join("")):a==="<"&&o.push([" m ",h(_*(c[1]-s)),", ",h(_*c[2])," l ",h(_*(c[1]+g)),", ",h(_*(c[2]-d))," l ",h(_*(c[1]+g)),", ",h(_*(c[2]+d))," x e "].join("")),o},updatePathStringPrim:function(e){var s,a,o=[],h=this.resolution,c=Math.round,d=" m ",g=" l ",_=" c ",b=d,$=Math.min(e.numberPoints,8192);if(e.numberPoints<=0)return"";if($=Math.min($,e.points.length),e.bezierDegree===1)for(s=0;s<$;s++)a=e.points[s].scrCoords,isNaN(a[1])||isNaN(a[2])?b=d:(a[1]>2e4?a[1]=2e4:a[1]<-2e4&&(a[1]=-2e4),a[2]>2e4?a[2]=2e4:a[2]<-2e4&&(a[2]=-2e4),o.push([b,c(h*a[1]),", ",c(h*a[2])].join("")),b=g);else if(e.bezierDegree===3)for(s=0;s<$;)a=e.points[s].scrCoords,isNaN(a[1])||isNaN(a[2])?b=d:(o.push([b,c(h*a[1]),", ",c(h*a[2])].join("")),b===_&&(s+=1,a=e.points[s].scrCoords,o.push([" ",c(h*a[1]),", ",c(h*a[2])].join("")),s+=1,a=e.points[s].scrCoords,o.push([" ",c(h*a[1]),", ",c(h*a[2])].join(""))),b=_),s+=1;return o.push(" e"),o},updatePathStringBezierPrim:function(e){var s,a,o,h,c,d,g=[],_=JXG$1.evaluate(e.visProp.strokewidth),b=this.resolution,$=Math.round,j=" m ",_e=" c ",et=j,tt=JXG$1.evaluate(e.visProp.curvetype)!=="plot",it=Math.min(e.numberPoints,8192);if(e.numberPoints<=0)return"";for(tt&&e.board.options.curve.RDPsmoothing&&(e.points=Numerics.RamerDouglasPeucker(e.points,1)),it=Math.min(it,e.points.length),a=1;a<3;a++)for(et=j,s=0;s<it;s++)h=e.points[s].scrCoords,isNaN(h[1])||isNaN(h[2])?et=j:(h[1]>2e4?h[1]=2e4:h[1]<-2e4&&(h[1]=-2e4),h[2]>2e4?h[2]=2e4:h[2]<-2e4&&(h[2]=-2e4),et===j?g.push([et,$(b*h[1])," ",$(b*h[2])].join("")):(o=2*a,g.push([et,$(b*(c+(h[1]-c)*.333+_*(o*Math.random()-a)))," ",$(b*(d+(h[2]-d)*.333+_*(o*Math.random()-a)))," ",$(b*(c+(h[1]-c)*.666+_*(o*Math.random()-a)))," ",$(b*(d+(h[2]-d)*.666+_*(o*Math.random()-a)))," ",$(b*h[1])," ",$(b*h[2])].join(""))),et=_e,c=h[1],d=h[2]);return g.push(" e"),g},updatePolygonPrim:function(e,s){var a,o=s.vertices.length,h=this.resolution,c,d=[];if(this._setAttr(e,"stroked","false"),c=s.vertices[0].coords.scrCoords,!isNaN(c[1]+c[2])){for(d.push(["m ",Math.floor(h*c[1]),",",Math.floor(h*c[2])," l "].join("")),a=1;a<o-1;a++){if(s.vertices[a].isReal){if(c=s.vertices[a].coords.scrCoords,isNaN(c[1]+c[2]))return;d.push(Math.floor(h*c[1])+","+Math.floor(h*c[2]))}else{this.updatePathPrim(e,"",s.board);return}a<o-2&&d.push(", ")}d.push(" x e"),this.updatePathPrim(e,d,s.board)}},updateRectPrim:function(e,s,a,o,h){e.style.left=Math.floor(s)+"px",e.style.top=Math.floor(a)+"px",o>=0&&(e.style.width=o+"px"),h>=0&&(e.style.height=h+"px")},setPropertyPrim:function(e,s,a){var o="",h;switch(s){case"stroke":o="strokecolor";break;case"stroke-width":o="strokeweight";break;case"stroke-dasharray":o="dashstyle";break}o!==""&&(h=JXG$1.evaluate(a),this._setAttr(e,o,h))},display:function(e,s){e&&e.rendNode&&(e.visPropOld.visible=s,s?e.rendNode.style.visibility="inherit":e.rendNode.style.visibility="hidden")},show:function(e){JXG$1.deprecated("Board.renderer.show()","Board.renderer.display()"),e&&e.rendNode&&(e.rendNode.style.visibility="inherit")},hide:function(e){JXG$1.deprecated("Board.renderer.hide()","Board.renderer.display()"),e&&e.rendNode&&(e.rendNode.style.visibility="hidden")},setDashStyle:function(e,s){var a;s.dash>=0&&(a=e.rendNodeStroke,this._setAttr(a,"dashstyle",this.dashArray[s.dash]))},setGradient:function(e){var s=e.rendNodeFill,a=JXG$1.evaluate(e.visProp.gradient);a==="linear"?(this._setAttr(s,"type","gradient"),this._setAttr(s,"color2",JXG$1.evaluate(e.visProp.gradientsecondcolor)),this._setAttr(s,"opacity2",JXG$1.evaluate(e.visProp.gradientsecondopacity)),this._setAttr(s,"angle",JXG$1.evaluate(e.visProp.gradientangle))):a==="radial"?(this._setAttr(s,"type","gradientradial"),this._setAttr(s,"color2",JXG$1.evaluate(e.visProp.gradientsecondcolor)),this._setAttr(s,"opacity2",JXG$1.evaluate(e.visProp.gradientsecondopacity)),this._setAttr(s,"focusposition",JXG$1.evaluate(e.visProp.gradientpositionx)*100+"%,"+JXG$1.evaluate(e.visProp.gradientpositiony)*100+"%"),this._setAttr(s,"focussize","0,0")):this._setAttr(s,"type","solid")},setObjectFillColor:function(e,s,a){var o=JXG$1.evaluate(s),h,c,d=JXG$1.evaluate(a),g,_=e.rendNode;d=d>0?d:0,!(e.visPropOld.fillcolor===o&&e.visPropOld.fillopacity===d)&&(JXG$1.exists(o)&&o!==!1&&(o.length!==9?(h=o,g=d):(c=JXG$1.rgba2rgbo(o),h=c[0],g=d*c[1]),h==="none"||h===!1?this._setAttr(e.rendNode,"filled","false"):(this._setAttr(e.rendNode,"filled","true"),this._setAttr(e.rendNode,"fillcolor",h),JXG$1.exists(g)&&e.rendNodeFill&&this._setAttr(e.rendNodeFill,"opacity",g*100+"%")),e.type===Const.OBJECT_TYPE_IMAGE&&_.filters.length>1&&(_.filters.item(1).opacity=Math.round(g*100),_.filters.item(1).enabled=!0)),e.visPropOld.fillcolor=o,e.visPropOld.fillopacity=d)},setObjectStrokeColor:function(e,s,a){var o=JXG$1.evaluate(s),h,c,d=JXG$1.evaluate(a),g,_=e.rendNode,b;d=d>0?d:0,!(e.visPropOld.strokecolor===o&&e.visPropOld.strokeopacity===d)&&(JXG$1.exists(o)&&o!==!1&&(o.length!==9?(h=o,g=d):(c=s.rgba2rgbo(o),h=c[0],g=d*c[1]),e.elementClass===Const.OBJECT_CLASS_TEXT?(_.filters.length>1&&(_.filters.item(1).opacity=Math.round(g*100),_.filters.item(1).enabled=!0),_.style.color=h):(h!==!1&&(this._setAttr(_,"stroked","true"),this._setAttr(_,"strokecolor",h)),b=e.rendNodeStroke,JXG$1.exists(g)&&e.type!==Const.OBJECT_TYPE_IMAGE&&this._setAttr(b,"opacity",g*100+"%"))),e.visPropOld.strokecolor=o,e.visPropOld.strokeopacity=d)},setObjectStrokeWidth:function(e,s){var a=JXG$1.evaluate(s),o;isNaN(a)||e.visPropOld.strokewidth===a||(o=e.rendNode,this.setPropertyPrim(o,"stroked","true"),JXG$1.exists(a)&&(this.setPropertyPrim(o,"stroke-width",a),a===0&&JXG$1.exists(e.rendNodeStroke)&&this._setAttr(o,"stroked","false")),e.visPropOld.strokewidth=a)},setShadow:function(e){var s=e.rendNodeShadow,a=JXG$1.evaluate(e.visProp.shadow);!s||e.visPropOld.shadow===a||(a?(this._setAttr(s,"On","True"),this._setAttr(s,"Offset","3pt,3pt"),this._setAttr(s,"Opacity","60%"),this._setAttr(s,"Color","#aaaaaa")):this._setAttr(s,"On","False"),e.visPropOld.shadow=a)},suspendRedraw:function(){this.container.style.display="none"},unsuspendRedraw:function(){this.container.style.display=""}});const VMLRenderer=JXG$1.VMLRenderer;var uuidCharsStr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",uuidChars=uuidCharsStr.split("");JXG$1.Util=JXG$1.Util||{};JXG$1.Util.genUUID=function(e){var s,a,o=[],h=0;for(e=e||"",e!==""&&e.slice(e.length-1)!=="-"&&(e=e+"-"),a=0;a<36;a++)a===8||a===13||a===18||a===23?o[a]="-":a===14?o[a]="4":(h<=2&&(h=33554432+Math.random()*16777216|0),s=h&15,h=h>>4,o[a]=uuidChars[a===19?s&3|8:s]);return e+o.join("")};const UUID=JXG$1.Util;JXG$1.CanvasRenderer=function(e,s){if(this.type="canvas",this.canvasRoot=null,this.suspendHandle=null,this.canvasId=UUID.genUUID(),this.canvasNamespace=null,JXG$1.isBrowser)this.container=e,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",this.container.style.position===""&&(this.container.style.position="relative"),this.container.innerHTML=['<canvas id="',this.canvasId,'" width="',s.width,'px" height="',s.height,'px"></canvas>'].join(""),this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.canvasRoot.style.display="block",this.context=this.canvasRoot.getContext("2d");else if(JXG$1.isNode())try{this.canvasRoot=JXG$1.createCanvas(500,500),this.context=this.canvasRoot.getContext("2d")}catch{throw new Error(`JXG.createCanvas not available.
Install the npm package \`canvas\`
and call:
    import { createCanvas } from "canvas.js";
    JXG.createCanvas = createCanvas;
`)}};JXG$1.CanvasRenderer.prototype=new AbstractRenderer;JXG$1.extend(JXG$1.CanvasRenderer.prototype,{_drawPolygon:function(e,s,a){var o,h=e.length,c=this.context;if(h>0){if(a&&(c.lineWidth=0),c.beginPath(),c.moveTo(e[0][0],e[0][1]),s===1)for(o=1;o<h;o++)c.lineTo(e[o][0],e[o][1]);else for(o=1;o<h;o+=3)c.bezierCurveTo(e[o][0],e[o][1],e[o+1][0],e[o+1][1],e[o+2][0],e[o+2][1]);a?(c.lineTo(e[0][0],e[0][1]),c.closePath(),c.fill("evenodd")):c.stroke()}},_fill:function(e){var s=this.context;s.save(),this._setColor(e,"fill")&&s.fill("evenodd"),s.restore()},_rotatePoint:function(e,s,a){return[s*Math.cos(e)-a*Math.sin(e),s*Math.sin(e)+a*Math.cos(e)]},_rotateShape:function(e,s){var a,o=[],h=e.length;if(h<=0)return e;for(a=0;a<h;a++)o.push(this._rotatePoint(s,e[a][0],e[a][1]));return o},updateGradientAngle:function(e,s){var a=1,o=Math.cos(-s),h=Math.sin(-s),c=e.getBoundingBox(),d,g,_,b,$,j,_e,et,tt,it,at,nt;return Math.abs(o)>Math.abs(h)?a/=Math.abs(o):a/=Math.abs(h),o>=0?(_=0,b=o*a):(_=-o*a,b=0),h>=0?($=0,j=h*a):($=-h*a,j=0),d=new Coords(Const.COORDS_BY_USER,[c[0],c[1]],e.board),g=new Coords(Const.COORDS_BY_USER,[c[2],c[3]],e.board),at=g.scrCoords[1]-d.scrCoords[1],nt=g.scrCoords[2]-d.scrCoords[2],_e=d.scrCoords[1]+at*_,tt=d.scrCoords[2]+nt*$,et=d.scrCoords[1]+at*b,it=d.scrCoords[2]+nt*j,this.context.createLinearGradient(_e,tt,et,it)},updateGradientCircle:function(e,s,a,o,h,c,d){var g=e.getBoundingBox(),_,b,$,j,_e,et,tt,it,at,nt;return _=new Coords(Const.COORDS_BY_USER,[g[0],g[1]],e.board),b=new Coords(Const.COORDS_BY_USER,[g[2],g[3]],e.board),at=b.scrCoords[1]-_.scrCoords[1],nt=_.scrCoords[2]-b.scrCoords[2],$=_.scrCoords[1]+at*s,j=b.scrCoords[2]+nt*a,et=_.scrCoords[1]+at*h,tt=b.scrCoords[2]+nt*c,_e=o*(at+nt)*.5,it=d*(at+nt)*.5,this.context.createRadialGradient(et,tt,it,$,j,_e)},updateGradient:function(e){var s,a=JXG$1.evaluate(e.visProp.gradient),o;return s=JXG$1.evaluate(e.visProp.fillcolor),a==="linear"?o=this.updateGradientAngle(e,JXG$1.evaluate(e.visProp.gradientangle)):a==="radial"&&(o=this.updateGradientCircle(e,JXG$1.evaluate(e.visProp.gradientcx),JXG$1.evaluate(e.visProp.gradientcy),JXG$1.evaluate(e.visProp.gradientr),JXG$1.evaluate(e.visProp.gradientfx),JXG$1.evaluate(e.visProp.gradientfy),JXG$1.evaluate(e.visProp.gradientfr))),o.addColorStop(JXG$1.evaluate(e.visProp.gradientstartoffset),s),o.addColorStop(JXG$1.evaluate(e.visProp.gradientendoffset),JXG$1.evaluate(e.visProp.gradientsecondcolor)),o},_setColor:function(e,s,a){var o=!0,h=e.visProp,c,d,g,_,b,$,j,_e;return s=s||"stroke",a=a||s,c=this._getHighlighted(e),_e=JXG$1.evaluate(e.visProp.gradient),_e==="linear"||_e==="radial"?(this.context[a+"Style"]=this.updateGradient(e),o):(g=JXG$1.evaluate(h[c+s+"color"]),g!=="none"&&g!==!1?($=JXG$1.evaluate(h[c+s+"opacity"]),$=$>0?$:0,g.length!==9?(b=g,j=$):(_=JXG$1.rgba2rgbo(g),b=_[0],j=$*_[1]),this.context.globalAlpha=j,this.context[a+"Style"]=b):o=!1,d=parseFloat(JXG$1.evaluate(h[c+"strokewidth"])),s==="stroke"&&!isNaN(d)&&(d===0?this.context.globalAlpha=0:this.context.lineWidth=d),s==="stroke"&&h.linecap!==void 0&&h.linecap!==""&&(this.context.lineCap=h.linecap),o)},_stroke:function(e){var s=this.context,a=JXG$1.evaluate(e.visProp.dash),o=JXG$1.evaluate(e.visProp.dashscale),h=o?.5*JXG$1.evaluate(e.visProp.strokewidth):1;s.save(),a>0?s.setLineDash&&s.setLineDash(this.dashArray[a-1].map(function(c){return c*h})):this.context.lineDashArray=[],this._setColor(e,"stroke")&&s.stroke(),s.restore()},_translateShape:function(e,s,a){var o,h=[],c=e.length;if(c<=0)return e;for(o=0;o<c;o++)h.push([e[o][0]+s,e[o][1]+a]);return h},drawPoint:function(e){var s=JXG$1.evaluate(e.visProp.face),a=JXG$1.evaluate(e.visProp.size),o=e.coords.scrCoords,h=a*Math.sqrt(3)*.5,c=a*.5,d=parseFloat(JXG$1.evaluate(e.visProp.strokewidth))/2,g=this.context;if(e.visPropCalc.visible)switch(s){case"cross":case"x":g.beginPath(),g.moveTo(o[1]-a,o[2]-a),g.lineTo(o[1]+a,o[2]+a),g.moveTo(o[1]+a,o[2]-a),g.lineTo(o[1]-a,o[2]+a),g.lineCap="round",g.lineJoin="round",g.closePath(),this._stroke(e);break;case"circle":case"o":g.beginPath(),g.arc(o[1],o[2],a+1+d,0,2*Math.PI,!1),g.closePath(),this._fill(e),this._stroke(e);break;case"square":case"[]":if(a<=0)break;g.save(),this._setColor(e,"stroke","fill")&&g.fillRect(o[1]-a-d,o[2]-a-d,a*2+3*d,a*2+3*d),g.restore(),g.save(),this._setColor(e,"fill"),g.fillRect(o[1]-a+d,o[2]-a+d,a*2-d,a*2-d),g.restore();break;case"plus":case"+":g.beginPath(),g.moveTo(o[1]-a,o[2]),g.lineTo(o[1]+a,o[2]),g.moveTo(o[1],o[2]-a),g.lineTo(o[1],o[2]+a),g.lineCap="round",g.lineJoin="round",g.closePath(),this._stroke(e);break;case"divide":case"|":g.beginPath(),g.moveTo(o[1],o[2]-a),g.lineTo(o[1],o[2]+a),g.lineCap="round",g.lineJoin="round",g.closePath(),this._stroke(e);break;case"minus":case"-":g.beginPath(),g.moveTo(o[1]-a,o[2]),g.lineTo(o[1]+a,o[2]),g.lineCap="round",g.lineJoin="round",g.closePath(),this._stroke(e);break;case"diamond2":case"<<>>":a*=1.41;case"diamond":case"<>":g.beginPath(),g.moveTo(o[1]-a,o[2]),g.lineTo(o[1],o[2]+a),g.lineTo(o[1]+a,o[2]),g.lineTo(o[1],o[2]-a),g.closePath(),this._fill(e),this._stroke(e);break;case"triangleup":case"A":case"a":case"^":g.beginPath(),g.moveTo(o[1],o[2]-a),g.lineTo(o[1]-h,o[2]+c),g.lineTo(o[1]+h,o[2]+c),g.closePath(),this._fill(e),this._stroke(e);break;case"triangledown":case"v":g.beginPath(),g.moveTo(o[1],o[2]+a),g.lineTo(o[1]-h,o[2]-c),g.lineTo(o[1]+h,o[2]-c),g.closePath(),this._fill(e),this._stroke(e);break;case"triangleleft":case"<":g.beginPath(),g.moveTo(o[1]-a,o[2]),g.lineTo(o[1]+c,o[2]-h),g.lineTo(o[1]+c,o[2]+h),g.closePath(),this._fill(e),this._stroke(e);break;case"triangleright":case">":g.beginPath(),g.moveTo(o[1]+a,o[2]),g.lineTo(o[1]-c,o[2]-h),g.lineTo(o[1]-c,o[2]+h),g.closePath(),this._fill(e),this._stroke(e);break}},updatePoint:function(e){this.drawPoint(e)},drawArrows:function(e,s,a,o,h){var c,d,g,_,b,$,j,_e,et=this.context,tt=6,it=1,at,nt,st=1,rt=1,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt=h.evFirst,Pt=h.evLast;if(JXG$1.evaluate(e.visProp.strokecolor)!=="none"&&(Jt||Pt)){if(e.elementClass===Const.OBJECT_CLASS_LINE)c=s.scrCoords[1],d=s.scrCoords[2],g=a.scrCoords[1],_=a.scrCoords[2],mt=vt=Math.atan2(_-d,g-c);else{if(c=e.points[0].scrCoords[1],d=e.points[0].scrCoords[2],gt=e.points.length-1,gt<1)return;g=e.points[e.points.length-1].scrCoords[1],_=e.points[e.points.length-1].scrCoords[2],ct=e.points[1].scrCoords[1]-e.points[0].scrCoords[1],ut=e.points[1].scrCoords[2]-e.points[0].scrCoords[2],dt=e.points[gt].scrCoords[1]-e.points[gt-1].scrCoords[1],ft=e.points[gt].scrCoords[2]-e.points[gt-1].scrCoords[2],Jt&&(mt=Math.atan2(ut,ct)),Pt&&(vt=Math.atan2(ft,dt))}if(b=JXG$1.evaluate(e.visProp[o+"strokewidth"]),Jt)if(tt=h.sizeFirst,$=b*tt,it=h.typeFirst,at=it,it===2)_e=[[$,-$*.5],[0,0],[$,$*.5],[$*.5,0]];else if(it===3)_e=[[$/3,-$*.5],[0,-$*.5],[0,$*.5],[$/3,$*.5]];else if(it===4)for($/=10,st=3,_e=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]],ht=_e.length,ot=0;ot<ht;ot++)_e[ot][0]*=-$,_e[ot][1]*=$,_e[ot][0]+=10*$,_e[ot][1]-=3.31*$;else if(it===5)for($/=10,st=3,_e=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]],ht=_e.length,ot=0;ot<ht;ot++)_e[ot][0]*=-$,_e[ot][1]*=$,_e[ot][0]+=10*$,_e[ot][1]-=3.28*$;else if(it===6)for($/=10,st=3,_e=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]],ht=_e.length,ot=0;ot<ht;ot++)_e[ot][0]*=-$,_e[ot][1]*=$,_e[ot][0]+=10*$,_e[ot][1]-=2.84*$;else if(it===7)for($=b,st=3,_e=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]],ht=_e.length,ot=0;ot<ht;ot++)_e[ot][0]*=-$,_e[ot][1]*=$,_e[ot][0]+=10*$,_e[ot][1]-=5.2*$;else _e=[[$,-$*.5],[0,0],[$,$*.5]];if(Pt)if(tt=h.sizeLast,$=b*tt,it=h.typeLast,nt=it,it===2)j=[[-$,-$*.5],[0,0],[-$,$*.5],[-$*.5,0]];else if(it===3)j=[[-$/3,-$*.5],[0,-$*.5],[0,$*.5],[-$/3,$*.5]];else if(it===4)for($/=10,rt=3,j=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]],ht=j.length,ot=0;ot<ht;ot++)j[ot][0]*=$,j[ot][1]*=$,j[ot][0]-=10*$,j[ot][1]-=3.31*$;else if(it===5)for($/=10,rt=3,j=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]],ht=j.length,ot=0;ot<ht;ot++)j[ot][0]*=$,j[ot][1]*=$,j[ot][0]-=10*$,j[ot][1]-=3.28*$;else if(it===6)for($/=10,rt=3,j=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]],ht=j.length,ot=0;ot<ht;ot++)j[ot][0]*=$,j[ot][1]*=$,j[ot][0]-=10*$,j[ot][1]-=2.84*$;else if(it===7)for($=b,rt=3,j=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]],ht=j.length,ot=0;ot<ht;ot++)j[ot][0]*=$,j[ot][1]*=$,j[ot][0]-=10*$,j[ot][1]-=5.2*$;else j=[[-$,-$*.5],[0,0],[-$,$*.5]];et.save(),this._setColor(e,"stroke","fill")&&(this._setColor(e,"stroke"),Jt&&(at===7?lt=!1:lt=!0,this._drawPolygon(this._translateShape(this._rotateShape(_e,mt),c,d),st,lt)),Pt&&(nt===7?lt=!1:lt=!0,this._drawPolygon(this._translateShape(this._rotateShape(j,vt),g,_),rt,lt))),et.restore()}},drawLine:function(e){var s,a,o=new Coords(Const.COORDS_BY_USER,e.point1.coords.usrCoords,e.board),h=new Coords(Const.COORDS_BY_USER,e.point2.coords.usrCoords,e.board),c=null,d,g,_;e.visPropCalc.visible&&(d=this._getHighlighted(e),g=JXG$1.evaluate(e.visProp[d+"strokewidth"]),_=this.getArrowHeadData(e,g,d),(_.evFirst||_.evLast)&&(c=-4),Geometry.calcStraight(e,o,h,c),this.handleTouchpoints(e,o,h,_),s=new Coords(Const.COORDS_BY_USER,o.usrCoords,e.board),a=new Coords(Const.COORDS_BY_USER,h.usrCoords,e.board),this.getPositionArrowHead(e,o,h,_),this.context.beginPath(),this.context.moveTo(o.scrCoords[1],o.scrCoords[2]),this.context.lineTo(h.scrCoords[1],h.scrCoords[2]),this._stroke(e),(_.evFirst||_.evLast)&&this.drawArrows(e,s,a,d,_))},updateLine:function(e){this.drawLine(e)},drawTicks:function(){},updateTicks:function(e){var s,a,o,h,c=e.ticks.length,d,g,_=this.context;for(_.beginPath(),s=0;s<c;s++)for(a=e.ticks[s],o=a[0],h=a[1],d=o.length,_.moveTo(o[0],h[0]),g=1;g<d;++g)_.lineTo(o[g],h[g]);_.lineCap="round",this._stroke(e)},drawCurve:function(e){var s,a,o;JXG$1.evaluate(e.visProp.handdrawing)?this.updatePathStringBezierPrim(e):this.updatePathStringPrim(e),e.numberPoints>1&&(s=this._getHighlighted(e),a=JXG$1.evaluate(e.visProp[s+"strokewidth"]),o=this.getArrowHeadData(e,a,s),(o.evFirst||o.evLast)&&this.drawArrows(e,null,null,s,o))},updateCurve:function(e){this.drawCurve(e)},drawEllipse:function(e){var s=e.center.coords.scrCoords[1],a=e.center.coords.scrCoords[2],o=e.board.unitX,h=e.board.unitY,c=2*e.Radius(),d=2*e.Radius(),g=c*o,_=d*h,b=s-g/2,$=a-_/2,j=g/2*.5522848,_e=_/2*.5522848,et=b+g,tt=$+_,it=b+g/2,at=$+_/2,nt=this.context;c>0&&d>0&&!isNaN(s+a)&&(nt.beginPath(),nt.moveTo(b,at),nt.bezierCurveTo(b,at-_e,it-j,$,it,$),nt.bezierCurveTo(it+j,$,et,at-_e,et,at),nt.bezierCurveTo(et,at+_e,it+j,tt,it,tt),nt.bezierCurveTo(it-j,tt,b,at+_e,b,at),nt.closePath(),this._fill(e),this._stroke(e))},updateEllipse:function(e){return this.drawEllipse(e)},displayCopyright:function(e,s){var a=this.context;a.save(),a.font=s+"px Arial",a.fillStyle="#aaa",a.lineWidth=.5,a.fillText(e,10,2+s),a.restore()},drawInternalText:function(e){var s=JXG$1.evaluate(e.visProp.fontsize),a=JXG$1.evaluate(e.visProp.fontunit),o=e.getAnchorX(),h=e.getAnchorY(),c=this.context;return c.save(),this._setColor(e,"stroke","fill")&&!isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])&&(c.font=(s>0?s:0)+a+" Arial",this.transformImage(e,e.transformations),o==="left"?c.textAlign="left":o==="right"?c.textAlign="right":o==="middle"&&(c.textAlign="center"),h==="bottom"?c.textBaseline="bottom":h==="top"?c.textBaseline="top":h==="middle"&&(c.textBaseline="middle"),c.fillText(e.plaintext,e.coords.scrCoords[1],e.coords.scrCoords[2])),c.restore(),null},updateInternalText:function(e){this.drawInternalText(e)},setObjectStrokeColor:function(e,s,a){var o=JXG$1.evaluate(s),h,c,d=JXG$1.evaluate(a),g,_;d=d>0?d:0,!(e.visPropOld.strokecolor===o&&e.visPropOld.strokeopacity===d)&&(JXG$1.exists(o)&&o!==!1&&(o.length!==9?(h=o,g=d):(c=JXG$1.rgba2rgbo(o),h=c[0],g=d*c[1]),_=e.rendNode,e.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(e.visProp.display)==="html"&&(_.style.color=h,_.style.opacity=g)),e.visPropOld.strokecolor=o,e.visPropOld.strokeopacity=d)},drawImage:function(e){e.rendNode=new Image,e._src="",this.updateImage(e)},updateImage:function(e){var s=this.context,a=JXG$1.evaluate(e.visProp.fillopacity),o=JXG$1.bind(function(){e.imgIsLoaded=!0,!(e.size[0]<=0||e.size[1]<=0)&&(s.save(),s.globalAlpha=a,this.transformImage(e,e.transformations),s.drawImage(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1],e.size[0],e.size[1]),s.restore())},this);this.updateImageURL(e)?e.rendNode.onload=o:e.imgIsLoaded&&o()},transformImage:function(e,s){var a,o,h,c,d,g=s.length,_=this.context;if(g>0)if(a=this.joinTransforms(e,s),e.elementClass===Const.OBJECT_CLASS_TEXT&&e.visProp.display==="html"){if(o=" matrix("+[a[1][1],a[2][1],a[1][2],a[2][2],a[1][0],a[2][0]].join(",")+") ",o.indexOf("NaN")===-1){switch(d=e.rendNode,d.style.transform=o,h=-e.coords.scrCoords[1],c=-e.coords.scrCoords[2],JXG$1.evaluate(e.visProp.anchorx)){case"right":h+=e.size[0];break;case"middle":h+=e.size[0]*.5;break}switch(JXG$1.evaluate(e.visProp.anchory)){case"bottom":c+=e.size[1];break;case"middle":c+=e.size[1]*.5;break}d.style["transform-origin"]=h+"px "+c+"px"}}else Math.abs(Numerics.det(a))>=Mat.eps&&_.transform(a[1][1],a[2][1],a[1][2],a[2][2],a[1][0],a[2][0])},updateImageURL:function(e){var s;return s=JXG$1.evaluate(e.url),e._src!==s?(e.imgIsLoaded=!1,e.rendNode.src=s,e._src=s,!0):!1},remove:function(e){JXG$1.exists(e)&&JXG$1.exists(e.parentNode)&&e.parentNode.removeChild(e)},updatePathStringPrim:function(e){var s,a,o,h,c,d="M",g="L",_="C",b=d,$=5e3,j=this.context;if(!(e.numberPoints<=0)){if(c=Math.min(e.points.length,e.numberPoints),j.beginPath(),e.bezierDegree===1)for(s=0;s<c;s++)a=e.points[s].scrCoords,isNaN(a[1])||isNaN(a[2])?b=d:(a[1]>$?a[1]=$:a[1]<-$&&(a[1]=-$),a[2]>$?a[2]=$:a[2]<-$&&(a[2]=-$),b===d?j.moveTo(a[1],a[2]):j.lineTo(a[1],a[2]),b=g);else if(e.bezierDegree===3)for(s=0;s<c;)a=e.points[s].scrCoords,isNaN(a[1])||isNaN(a[2])?b=d:(b===d?j.moveTo(a[1],a[2]):(s+=1,o=e.points[s].scrCoords,s+=1,h=e.points[s].scrCoords,j.bezierCurveTo(a[1],a[2],o[1],o[2],h[1],h[2])),b=_),s+=1;j.lineCap="round",this._fill(e),this._stroke(e)}},updatePathStringBezierPrim:function(e){var s,a,o,h,c,d,g,_="M",b="C",$=_,j=5e3,_e=JXG$1.evaluate(e.visProp.strokewidth),et=JXG$1.evaluate(e.visProp.curvetype)!=="plot",tt=this.context;if(!(e.numberPoints<=0)){for(et&&e.board.options.curve.RDPsmoothing&&(e.points=Numerics.RamerDouglasPeucker(e.points,.5)),g=Math.min(e.points.length,e.numberPoints),tt.beginPath(),a=1;a<3;a++)for($=_,s=0;s<g;s++)h=e.points[s].scrCoords,isNaN(h[1])||isNaN(h[2])?$=_:(h[1]>j?h[1]=j:h[1]<-j&&(h[1]=-j),h[2]>j?h[2]=j:h[2]<-j&&(h[2]=-j),$===_?tt.moveTo(h[1],h[2]):(o=2*a,tt.bezierCurveTo(c+(h[1]-c)*.333+_e*(o*Math.random()-a),d+(h[2]-d)*.333+_e*(o*Math.random()-a),c+(h[1]-c)*.666+_e*(o*Math.random()-a),d+(h[2]-d)*.666+_e*(o*Math.random()-a),h[1],h[2])),$=b,c=h[1],d=h[2]);tt.lineCap="round",this._fill(e),this._stroke(e)}},updatePolygonPrim:function(e,s){var a,o,h,c=s.vertices.length,d=this.context,g=!0;if(!(c<=0||!s.visPropCalc.visible)){for(s.elType==="polygonalchain"&&c++,d.beginPath(),o=0;!s.vertices[o].isReal&&o<c-1;)o++,g=!1;for(a=s.vertices[o].coords.scrCoords,d.moveTo(a[1],a[2]),h=o;h<c-1;h++)s.vertices[h].isReal||(g=!1),a=s.vertices[h].coords.scrCoords,d.lineTo(a[1],a[2]);d.closePath(),g&&this._fill(s)}},display:function(e,s){e&&e.rendNode&&(e.visPropOld.visible=s,s?e.rendNode.style.visibility="inherit":e.rendNode.style.visibility="hidden")},show:function(e){JXG$1.deprecated("Board.renderer.show()","Board.renderer.display()"),JXG$1.exists(e.rendNode)&&(e.rendNode.style.visibility="inherit")},hide:function(e){JXG$1.deprecated("Board.renderer.hide()","Board.renderer.display()"),JXG$1.exists(e.rendNode)&&(e.rendNode.style.visibility="hidden")},setGradient:function(e){},setShadow:function(e){e.visPropOld.shadow!==e.visProp.shadow&&(e.visPropOld.shadow=e.visProp.shadow)},highlight:function(e){return e.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(e.visProp.display)==="html"?this.updateTextStyle(e,!0):(e.board.prepareUpdate(),e.board.renderer.suspendRedraw(e.board),e.board.updateRenderer(),e.board.renderer.unsuspendRedraw()),this},noHighlight:function(e){return e.elementClass===Const.OBJECT_CLASS_TEXT&&JXG$1.evaluate(e.visProp.display)==="html"?this.updateTextStyle(e,!1):(e.board.prepareUpdate(),e.board.renderer.suspendRedraw(e.board),e.board.updateRenderer(),e.board.renderer.unsuspendRedraw()),this},suspendRedraw:function(e){this.context.save(),this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height),e&&e.attr.showcopyright&&this.displayCopyright(JXG$1.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(e,s){this.container?(this.canvasRoot.style.width=parseFloat(e)+"px",this.canvasRoot.style.height=parseFloat(s)+"px",this.canvasRoot.setAttribute("width",2*parseFloat(e)+"px"),this.canvasRoot.setAttribute("height",2*parseFloat(s)+"px")):(this.canvasRoot.width=2*parseFloat(e),this.canvasRoot.height=2*parseFloat(s)),this.context=this.canvasRoot.getContext("2d"),this.context.scale(2,2)},removeToInsertLater:function(){return function(){}}});const CanvasRenderer=JXG$1.CanvasRenderer;JXG$1.NoRenderer=function(){this.enhancedRendering=!1,this.type="no"};JXG$1.extend(JXG$1.NoRenderer.prototype,{drawPoint:function(e){},updatePoint:function(e){},changePointStyle:function(e){},drawLine:function(e){},updateLine:function(e){},drawTicks:function(e){},updateTicks:function(e){},drawCurve:function(e){},updateCurve:function(e){},drawEllipse:function(e){},updateEllipse:function(e){},drawPolygon:function(e){},updatePolygon:function(e){},displayCopyright:function(e,s){},drawInternalText:function(e){},updateInternalText:function(e){},drawText:function(e){},updateText:function(e){},updateTextStyle:function(e,s){},updateInternalTextStyle:function(e,s,a){},drawImage:function(e){},updateImage:function(e){},transformImage:function(e,s){},updateImageURL:function(e){},appendChildPrim:function(e,s){},appendNodesToElement:function(e,s){},createPrim:function(e,s){return null},remove:function(e){},makeArrows:function(e){},updateEllipsePrim:function(e,s,a,o,h){},updateLinePrim:function(e,s,a,o,h,c){},updatePathPrim:function(e,s,a){},updatePathStringPoint:function(e,s,a){},updatePathStringPrim:function(e){},updatePathStringBezierPrim:function(e){},updatePolygonPrim:function(e,s){},updateRectPrim:function(e,s,a,o,h){},setPropertyPrim:function(e,s,a){},display:function(e,s){e&&(e.visPropOld.visible=s)},show:function(e){},hide:function(e){},setBuffering:function(e,s){},setDashStyle:function(e){},setDraft:function(e){},removeDraft:function(e){},setGradient:function(e){},updateGradient:function(e){},setObjectTransition:function(e,s){},setObjectFillColor:function(e,s,a){},setObjectStrokeColor:function(e,s,a){},setObjectStrokeWidth:function(e,s){},setShadow:function(e){},highlight:function(e){},noHighlight:function(e){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawNavigationBar:function(e){},getElementById:function(e){return null},resize:function(e,s){},removeToInsertLater:function(){return function(){}}});JXG$1.NoRenderer.prototype=new AbstractRenderer;const NoRenderer=JXG$1.NoRenderer;JXG$1.JSXGraph={rendererType:function(){return Options.board.renderer="no",JXG$1.supportsVML()&&(Options.board.renderer="vml",document.onmousemove=function(){var e;return document.body&&(e=document.body.scrollLeft,e+=document.body.scrollTop),e}),JXG$1.supportsCanvas()&&(Options.board.renderer="canvas"),JXG$1.supportsSVG()&&(Options.board.renderer="svg"),JXG$1.isNode()&&JXG$1.supportsCanvas()&&(Options.board.renderer="canvas"),(JXG$1.isNode()||Options.renderer==="no")&&(Options.text.display="internal",Options.infobox.display="internal"),Options.board.renderer}(),initRenderer:function(e,s,a,o){var h,c;if((!JXG$1.exists(a)||a===!1)&&typeof document=="object"&&(a=document),typeof a=="object"&&e!==null)for(h=JXG$1.isString(e)?a.getElementById(e):e;h.firstChild;)h.removeChild(h.firstChild);else h=e;return(o===void 0||o==="auto")&&(o=this.rendererType),o==="svg"?c=new SVGRenderer(h,s):o==="vml"?c=new VMLRenderer(h):o==="canvas"?c=new CanvasRenderer(h,s):c=new NoRenderer,c},_setAttributes:function(e,s){var a=JXG$1.copyAttributes(e,s,"board"),o=["drag","fullscreen","intl","keyboard","logging","pan","resize","screenshot","selection","zoom"],h=o.length,c,d;for(c=0;c<h;c++)d=o[c],a[d]=JXG$1.copyAttributes(a,s,"board",d);return a.navbar=JXG$1.copyAttributes(a.navbar,s,"navbar"),a.movetarget=e.moveTarget||e.movetarget||s.board.moveTarget,a},_fillBoard:function(e,s,a){e.initInfobox(s.infobox),e.maxboundingbox=s.maxboundingbox,e.resizeContainer(a.width,a.height,!0,!0),e._createSelectionPolygon(s),e.renderer.drawNavigationBar(e,s.navbar),JXG$1.boards[e.id]=e},_setARIA:function(e,s){var a=s.document,o,h,c,d,g,_;if(typeof a!="object"){if(!JXG$1.isBrowser)return;a=document}h=JXG$1.isString(e)?a.getElementById(e):e,o=h.ownerDocument,d=h.parentNode,g=e+"_ARIAlabel",_=e+"_ARIAdescription",c=o.createElement("div"),c.innerHTML=s.title,c.setAttribute("id",g),c.style.display="none",d.insertBefore(c,h),c=o.createElement("div"),c.innerHTML=s.description,c.setAttribute("id",_),c.style.display="none",d.insertBefore(c,h),h.setAttribute("aria-labelledby",g),h.setAttribute("aria-describedby",_)},_removeARIANodes:function(e){var s,a,o;o=e.document||document,typeof o=="object"&&(a=e.containerObj.getAttribute("aria-labelledby"),s=o.getElementById(a),s&&s.parentNode&&s.parentNode.removeChild(s),a=e.containerObj.getAttribute("aria-describedby"),s=o.getElementById(a),s&&s.parentNode&&s.parentNode.removeChild(s))},initBoard:function(e,s){var a,o,h,c,d,g,_=0,b=0,$,j,_e,et,tt,it,at,nt,st={},rt;return s=s||{},s.theme!=="default"&&JXG$1.exists(JXG$1.themes[s.theme])&&(st=JXG$1.themes[s.theme]),nt=JXG$1.deepCopy(Options,st,!0),et=this._setAttributes(s,nt),j=JXG$1.getDimensions(e,et.document),et.unitx||et.unity?(a=JXG$1.def(et.originx,150),o=JXG$1.def(et.originy,150),h=JXG$1.def(et.unitx,50),c=JXG$1.def(et.unity,50)):(_e=et.boundingbox,_e[0]<et.maxboundingbox[0]&&(_e[0]=et.maxboundingbox[0]),_e[1]>et.maxboundingbox[1]&&(_e[1]=et.maxboundingbox[1]),_e[2]>et.maxboundingbox[2]&&(_e[2]=et.maxboundingbox[2]),_e[3]<et.maxboundingbox[3]&&(_e[3]=et.maxboundingbox[3]),d=parseInt(j.width,10),g=parseInt(j.height,10),JXG$1.exists(_e)&&et.keepaspectratio?(h=d/(_e[2]-_e[0]),c=g/(_e[1]-_e[3]),Math.abs(h)<Math.abs(c)?(c=Math.abs(h)*c/Math.abs(c),b=(g/c-(_e[1]-_e[3]))*.5):(h=Math.abs(c)*h/Math.abs(h),_=(d/h-(_e[2]-_e[0]))*.5)):(h=d/(_e[2]-_e[0]),c=g/(_e[1]-_e[3])),a=-h*(_e[0]-_),o=c*(_e[1]+b)),$=this.initRenderer(e,j,et.document,et.renderer),this._setARIA(e,et),rt=new Board(e,$,et.id,[a,o],et.zoomx,et.zoomy,h,c,j.width,j.height,et),rt.keepaspectratio=et.keepaspectratio,this._fillBoard(rt,et,j),rt.suspendUpdate(),et=rt.attr,et.axis&&(tt=typeof et.axis=="object"?et.axis:{},it=JXG$1.deepCopy(nt.board.defaultaxes.x,tt),at=JXG$1.deepCopy(nt.board.defaultaxes.y,tt),et.defaultaxes.x&&(it=JXG$1.deepCopy(it,et.defaultaxes.x)),et.defaultaxes.y&&(at=JXG$1.deepCopy(at,et.defaultaxes.y)),rt.defaultAxes={},rt.defaultAxes.x=rt.create("axis",[[0,0],[1,0]],it),rt.defaultAxes.y=rt.create("axis",[[0,0],[0,1]],at)),et.grid&&rt.create("grid",[],typeof et.grid=="object"?et.grid:{}),rt.unsuspendUpdate(),rt},loadBoardFromFile:function(e,s,a,o,h){var c,d,g,_,b;return o=o||{},c=this._setAttributes(o),_=JXG$1.getDimensions(e,c.document),d=this.initRenderer(e,_,c.document,c.renderer),this._setARIA(e,c),g=new Board(e,d,"",[150,150],1,1,50,50,_.width,_.height,c),this._fillBoard(g,c,_),b=c.encoding||"iso-8859-1",FileReader$1.parseFileContent(s,g,a,!0,b,h),g},loadBoardFromString:function(e,s,a,o,h){var c,d,g,_;return o=o||{},c=this._setAttributes(o),_=JXG$1.getDimensions(e,c.document),d=this.initRenderer(e,_,c.document,c.renderer),this._setARIA(e,c),g=new Board(e,d,"",[150,150],1,1,50,50,_.width,_.height,c),this._fillBoard(g,c,_),FileReader$1.parseString(s,g,a,!0,h),g},freeBoard:function(e){var s;typeof e=="string"&&(e=JXG$1.boards[e]),this._removeARIANodes(e),e.removeEventHandlers(),e.suspendUpdate();for(s in e.objects)e.objects.hasOwnProperty(s)&&e.objects[s].remove();for(;e.containerObj.firstChild;)e.containerObj.removeChild(e.containerObj.firstChild);for(s in e.objects)e.objects.hasOwnProperty(s)&&delete e.objects[s];delete e.renderer,e.jc.creator.clearCache(),delete e.jc,delete JXG$1.boards[e.id]},registerElement:function(e,s){JXG$1.deprecated("JXG.JSXGraph.registerElement()","JXG.registerElement()"),JXG$1.registerElement(e,s)}};JXG$1.isBrowser&&typeof window=="object"&&typeof document=="object"&&JXG$1.addEvent(window,"load",function(){var e,s,a,o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st=!1,rt=document.getElementsByTagName("script"),lt=function(ht,ct,ut){var dt=JXG$1.JSXGraph.initBoard(h,{boundingbox:ut,keepaspectratio:!0,grid:tt,axis:et,showReload:!0});if(ct.toLowerCase().indexOf("script")>-1)dt.construct(ht);else try{dt.jc.parse(ht)}catch(ft){JXG$1.debug(ft)}return dt},ot=function(ht,ct,ut,dt){return function(){var ft;JXG$1.JSXGraph.freeBoard(ht),ft=lt(ct,ut,dt),ft.reload=ot(ft,ct,ut,dt)}};for(s=0;s<rt.length;s++)if(e=rt[s].getAttribute("type",!1),JXG$1.exists(e)&&(e.toLowerCase()==="text/jessiescript"||e.toLowerCase()==="jessiescript"||e.toLowerCase()==="text/jessiecode"||e.toLowerCase()==="jessiecode")){if(j=rt[s].getAttribute("class",!1)||"",g=rt[s].getAttribute("width",!1)||"",_=rt[s].getAttribute("height",!1)||"",b=rt[s].getAttribute("maxwidth",!1)||"100%",$=rt[s].getAttribute("aspectratio",!1)||"1/1",_e=rt[s].getAttribute("boundingbox",!1)||"-5, 5, 5, -5",h=rt[s].getAttribute("container",!1),at=rt[s].getAttribute("src",!1),_e=_e.split(","),_e.length!==4)_e=[-5,5,5,-5];else for(a=0;a<_e.length;a++)_e[a]=parseFloat(_e[a]);if(et=JXG$1.str2Bool(rt[s].getAttribute("axis",!1)||"false"),tt=JXG$1.str2Bool(rt[s].getAttribute("grid",!1)||"false"),JXG$1.exists(h))o=document.getElementById(h);else{h="jessiescript_autgen_jxg_"+s,o=document.createElement("div"),o.setAttribute("id",h),d=g!==""?"width:"+g+";":"",d+=_!==""?"height:"+_+";":"",d+=b!==""?"max-width:"+b+";":"",d+=$!==""?"aspect-ratio:"+$+";":"",o.setAttribute("style",d),o.setAttribute("class","jxgbox "+j);try{document.body.insertBefore(o,rt[s])}catch{typeof jQuery=="object"&&jQuery(o).insertBefore(rt[s])}}it="",JXG$1.exists(at)?(st=!0,nt=new XMLHttpRequest,nt.open("GET",at),nt.overrideMimeType("text/plain; charset=x-user-defined"),nt.addEventListener("load",function(){if(this.status<400)it=this.responseText+`
`+it,c=lt(it,e,_e),c.reload=ot(c,it,e,_e);else throw new Error(`
JSXGraph: failed to load file`,at,":",this.responseText)}),nt.addEventListener("error",function(ht){throw new Error(`
JSXGraph: failed to load file`,at,":",ht)}),nt.send()):st=!1,document.getElementById(h)?(it=rt[s].innerHTML,it=it.replace(/<!\[CDATA\[/g,"").replace(/\]\]>/g,""),rt[s].innerHTML=it,st||(c=lt(it,e,_e),c.reload=ot(c,it,e,_e))):JXG$1.debug("JSXGraph: Apparently the div injection failed. Can't create a board, sorry.")}},window);JXG$1.JSXGraph;JXG$1.Point=function(e,s,a){this.constructor(e,a,Const.OBJECT_TYPE_POINT,Const.OBJECT_CLASS_POINT),this.element=this.board.select(a.anchor),this.coordsConstructor(s),this.elType="point",this.id=this.board.setId(this,"P"),this.board.renderer.drawPoint(this),this.board.finalizeAdding(this),this.createGradient(),this.createLabel()};JXG$1.Point.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Point,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.Point.prototype,{hasPoint:function(e,s){var a=this.coords.scrCoords,o,h,c,d=JXG$1.evaluate(this.visProp.sizeunit);return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(c=this.board._inputDevice,h=JXG$1.evaluate(this.visProp.precision[c])):h=this.board.options.precision.hasPoint,o=parseFloat(JXG$1.evaluate(this.visProp.size)),d==="user"&&(o*=Math.sqrt(Math.abs(this.board.unitX*this.board.unitY))),o+=parseFloat(JXG$1.evaluate(this.visProp.strokewidth))*.5,o<h&&(o=h),Math.abs(a[1]-e)<o+2&&Math.abs(a[2]-s)<o+2},update:function(e){return this.needsUpdate?(this.updateCoords(e),JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateTransform:function(e){var s,a;if(this.transformations.length===0||this.baseElement===null)return this;for(this===this.baseElement?(s=this.transformations[0].apply(this.baseElement,"self"),this.coords.setCoordinates(Const.COORDS_BY_USER,s)):s=this.transformations[0].apply(this.baseElement),this.coords.setCoordinates(Const.COORDS_BY_USER,s),a=1;a<this.transformations.length;a++)this.coords.setCoordinates(Const.COORDS_BY_USER,this.transformations[a].apply(this));return this},updateRenderer:function(){return this.updateRendererGeneric("updatePoint"),this},bounds:function(){return this.coords.usrCoords.slice(1).concat(this.coords.usrCoords.slice(1))},makeIntersection:function(e,s,a,o){var h;e=this.board.select(e),s=this.board.select(s),h=Geometry.intersectionFunction(this.board,e,s,a,o,this.visProp.alwaysintersect),this.addConstraint([h]);try{e.addChild(this),s.addChild(this)}catch{throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof e+"' and '"+typeof s+"'.")}this.type=Const.OBJECT_TYPE_INTERSECTION,this.elType="intersection",this.parents=[e.id,s.id,a,o],this.generatePolynomial=function(){var c=e.generatePolynomial(this),d=s.generatePolynomial(this);return c.length===0||d.length===0?[]:[c[0],d[0]]},this.prepareUpdate().update()},setStyle:function(e){var s=["cross","cross","cross","circle","circle","circle","circle","square","square","square","plus","plus","plus"],a=[2,3,4,1,2,3,4,2,3,4,2,3,4];return this.visProp.face=s[e],this.visProp.size=a[e],this.board.renderer.changePointStyle(this),this},normalizeFace:function(e){return JXG$1.deprecated("Point.normalizeFace()","JXG.normalizePointFace()"),Options.normalizePointFace(e)},face:function(e){JXG$1.deprecated("Point.face()","Point.setAttribute()"),this.setAttribute({face:e})},size:function(e){JXG$1.deprecated("Point.size()","Point.setAttribute()"),this.setAttribute({size:e})},isOn:function(e,s){var a,o;return s=s||Mat.eps,JXG$1.isPoint(e)?this.Dist(e)<s:e.elementClass===Const.OBJECT_CLASS_LINE?e.elType==="segment"&&!JXG$1.evaluate(this.visProp.alwaysintersect)?(a=JXG$1.Math.Geometry.projectCoordsToSegment(this.coords.usrCoords,e.point1.coords.usrCoords,e.point2.coords.usrCoords),a[1]>=0&&a[1]<=1&&Geometry.distPointLine(this.coords.usrCoords,e.stdform)<s):Geometry.distPointLine(this.coords.usrCoords,e.stdform)<s:e.elementClass===Const.OBJECT_CLASS_CIRCLE?JXG$1.evaluate(e.visProp.hasinnerpoints)?this.Dist(e.center)<e.Radius()+s:Math.abs(this.Dist(e.center)-e.Radius())<s:e.elementClass===Const.OBJECT_CLASS_CURVE?(o=Geometry.projectPointToCurve(this,e,this.board)[0],Geometry.distance(this.coords.usrCoords,o.usrCoords,3)<s):e.type===Const.OBJECT_TYPE_POLYGON?JXG$1.evaluate(e.visProp.hasinnerpoints)&&e.pnpoly(this.coords.usrCoords[1],this.coords.usrCoords[2],JXG$1.COORDS_BY_USER)?!0:(a=Geometry.projectCoordsToPolygon(this.coords.usrCoords,e),Geometry.distance(this.coords.usrCoords,a,3)<s):e.type===Const.OBJECT_TYPE_TURTLE?(o=Geometry.projectPointToTurtle(this,e,this.board),Geometry.distance(this.coords.usrCoords,o.usrCoords,3)<s):!1},cloneToBackground:function(){var e={};return e.id=this.id+"T"+this.numTraces,this.numTraces+=1,e.coords=this.coords,e.visProp=JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0),e.visProp.layer=this.board.options.layer.trace,e.elementClass=Const.OBJECT_CLASS_POINT,e.board=this.board,JXG$1.clearVisPropOld(e),e.visPropCalc={visible:JXG$1.evaluate(e.visProp.visible)},this.board.renderer.drawPoint(e),this.traces[e.id]=e.rendNode,this}});JXG$1.createPoint=function(e,s,a){var o,h;if(h=JXG$1.copyAttributes(a,e.options,"point"),o=CoordsElement.create(JXG$1.Point,e,s,h),!o)throw new Error("JSXGraph: Can't create point with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [x,y], [z,x,y], [element,transformation]`);return o};JXG$1.createGlider=function(e,s,a){var o,h,c=JXG$1.copyAttributes(a,e.options,"glider");return s.length===1?h=[0,0]:h=s.slice(0,2),o=e.create("point",h,c),o.makeGlider(s[s.length-1]),o};JXG$1.createIntersectionPoint=function(e,s,a){var o,h,c,d,g,_,b=JXG$1.copyAttributes(a,e.options,"intersection");s.push(0,0),h=e.select(s[0]),c=e.select(s[1]),g=s[2]||0,_=s[3]||0,o=e.create("point",[0,0,0],b),d=Geometry.intersectionFunction(e,h,c,g,_,o.visProp.alwaysintersect),o.addConstraint([d]);try{h.addChild(o),c.addChild(o)}catch{throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'.")}return o.type=Const.OBJECT_TYPE_INTERSECTION,o.elType="intersection",o.setParents([h.id,c.id]),o.intersectionNumbers=[g,_],o.getParents=function(){return this.parents.concat(this.intersectionNumbers)},o.generatePolynomial=function(){var $=h.generatePolynomial(o),j=c.generatePolynomial(o);return $.length===0||j.length===0?[]:[$[0],j[0]]},o};JXG$1.createOtherIntersectionPoint=function(e,s,a){var o,h,c,d,g,_,b,$=!0,j=JXG$1.copyAttributes(a,e.options,"otherintersection");if(s.length!==3)$=!1;else{for(h=e.select(s[0]),c=e.select(s[1]),JXG$1.isArray(s[2])?g=s[2]:g=[s[2]],d=0;d<g.length;d++)if(g[d]=e.select(g[d]),!JXG$1.isPoint(g[d])){$=!1;break}$&&(b=[h,c],b.sort(function(_e,et){return et.elementClass-_e.elementClass}),([Const.OBJECT_CLASS_CIRCLE,Const.OBJECT_CLASS_CURVE].indexOf(b[0].elementClass)<0||[Const.OBJECT_CLASS_CIRCLE,Const.OBJECT_CLASS_CURVE,Const.OBJECT_CLASS_LINE].indexOf(b[1].elementClass)<0)&&($=!1))}if(!$)throw new Error("JSXGraph: Can't create 'other intersection point' with parent types '"+typeof s[0]+"',  '"+typeof s[1]+"'and  '"+typeof s[2]+`'.
Possible parent types: [circle|curve|line,circle|curve|line, point], not two lines`);return o=e.create("point",[0,0,0],j),_=Geometry.otherIntersectionFunction(b,g,o.visProp.alwaysintersect,o.visProp.precision),o.addConstraint([_]),o.type=Const.OBJECT_TYPE_INTERSECTION,o.elType="otherintersection",o.setParents([h.id,c.id]),o.addParents(g),h.addChild(o),c.addChild(o),h.elementClass===Const.OBJECT_CLASS_CIRCLE&&(o.generatePolynomial=function(){var _e=h.generatePolynomial(o),et=c.generatePolynomial(o);return _e.length===0||et.length===0?[]:[_e[0],et[0]]}),o};JXG$1.createPolePoint=function(e,s,a){var o,h,c,d,g,_,b;if(s.length>1&&(d=s[0].type===Const.OBJECT_TYPE_CONIC||s[0].elementClass===Const.OBJECT_CLASS_CIRCLE,g=s[1].type===Const.OBJECT_TYPE_CONIC||s[1].elementClass===Const.OBJECT_CLASS_CIRCLE,_=s[0].elementClass===Const.OBJECT_CLASS_LINE,b=s[1].elementClass===Const.OBJECT_CLASS_LINE),s.length!==2||!(d&&b||_&&g))throw new Error("JSXGraph: Can't create 'pole point' with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent type: [conic|circle,line], [line,conic|circle]`);return b?(h=e.select(s[0]),c=e.select(s[1])):(h=e.select(s[1]),c=e.select(s[0])),o=e.create("point",[function(){var $=h.quadraticform,j=c.stdform.slice(0,3);return[JXG$1.Math.Numerics.det([j,$[1],$[2]]),JXG$1.Math.Numerics.det([$[0],j,$[2]]),JXG$1.Math.Numerics.det([$[0],$[1],j])]}],a),o.elType="polepoint",o.setParents([h.id,c.id]),h.addChild(o),c.addChild(o),o};JXG$1.registerElement("point",JXG$1.createPoint);JXG$1.registerElement("glider",JXG$1.createGlider);JXG$1.registerElement("intersection",JXG$1.createIntersectionPoint);JXG$1.registerElement("otherintersection",JXG$1.createOtherIntersectionPoint);JXG$1.registerElement("polepoint",JXG$1.createPolePoint);const Point=JXG$1.Point;JXG$1.Line=function(e,s,a,o){this.constructor(e,o,Const.OBJECT_TYPE_LINE,Const.OBJECT_CLASS_LINE),this.point1=this.board.select(s),this.point2=this.board.select(a),this.ticks=[],this.defaultTicks=null,this.parentPolygon=null,this.id=this.board.setId(this,"L"),this.board.renderer.drawLine(this),this.board.finalizeAdding(this),this.elType="line",this.point1._is_new?(this.addChild(this.point1),delete this.point1._is_new):this.point1.addChild(this),this.point2._is_new?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this),this.inherits.push(this.point1,this.point2),this.updateStdform(),this.createLabel(),this.methodMap=JXG$1.deepCopy(this.methodMap,{point1:"point1",point2:"point2",getSlope:"Slope",Slope:"Slope",Direction:"Direction",getRise:"getRise",Rise:"getRise",getYIntersect:"getRise",YIntersect:"getRise",getAngle:"getAngle",Angle:"getAngle",L:"L",length:"L",setFixedLength:"setFixedLength",setStraight:"setStraight"})};JXG$1.Line.prototype=new GeometryElement;JXG$1.extend(JXG$1.Line.prototype,{hasPoint:function(e,s){var a=[],o=[1,e,s],h,c,d,g,_,b,$,j,_e,et=JXG$1.evaluate(this.visProp.strokewidth);return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(_e=this.board._inputDevice,j=JXG$1.evaluate(this.visProp.precision[_e])):j=this.board.options.precision.hasPoint,j+=et*.5,a[0]=this.stdform[0]-this.stdform[1]*this.board.origin.scrCoords[1]/this.board.unitX+this.stdform[2]*this.board.origin.scrCoords[2]/this.board.unitY,a[1]=this.stdform[1]/this.board.unitX,a[2]=this.stdform[2]/-this.board.unitY,h=Geometry.distPointLine(o,a),isNaN(h)||h>j?!1:JXG$1.evaluate(this.visProp.straightfirst)&&JXG$1.evaluate(this.visProp.straightlast)?!0:(d=this.point1.coords,g=this.point2.coords,c=[0,a[1],a[2]],c=Mat.crossProduct(c,o),c=Mat.crossProduct(c,a),c[1]/=c[0],c[2]/=c[0],c[0]=1,c=new Coords(Const.COORDS_BY_SCREEN,c.slice(1),this.board).usrCoords,_=d.distance(Const.COORDS_BY_USER,g),d=d.usrCoords.slice(0),g=g.usrCoords.slice(0),_<Mat.eps?b=0:(_===Number.POSITIVE_INFINITY&&(_=1/Mat.eps,Math.abs(g[0])<Mat.eps?(_/=Geometry.distance([0,0,0],g),g=[1,d[1]+g[1]*_,d[2]+g[2]*_]):(_/=Geometry.distance([0,0,0],d),d=[1,g[1]+d[1]*_,g[2]+d[2]*_])),$=1,_=g[$]-d[$],Math.abs(_)<Mat.eps&&($=2,_=g[$]-d[$]),b=(c[$]-d[$])/_),!JXG$1.evaluate(this.visProp.straightfirst)&&b<0?!1:!(!JXG$1.evaluate(this.visProp.straightlast)&&b>1))},update:function(){var e;return this.needsUpdate?(this.constrained&&(JXG$1.isFunction(this.funps)?(e=this.funps(),e&&e.length&&e.length===2&&(this.point1=e[0],this.point2=e[1])):(JXG$1.isFunction(this.funp1)&&(e=this.funp1(),JXG$1.isPoint(e)?this.point1=e:e&&e.length&&e.length===2&&this.point1.setPositionDirectly(Const.COORDS_BY_USER,e)),JXG$1.isFunction(this.funp2)&&(e=this.funp2(),JXG$1.isPoint(e)?this.point2=e:e&&e.length&&e.length===2&&this.point2.setPositionDirectly(Const.COORDS_BY_USER,e)))),this.updateSegmentFixedLength(),this.updateStdform(),JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateSegmentFixedLength:function(){var e,s,a,o,h,c,d,g;return this.hasFixedLength?(e=this.point1.Dist(this.point2),s=JXG$1.evaluate(this.visProp.nonnegativeonly)?Math.max(0,this.fixedLength()):Math.abs(this.fixedLength()),a=this.fixedLengthOldCoords[0].distance(Const.COORDS_BY_USER,this.point1.coords),o=this.fixedLengthOldCoords[1].distance(Const.COORDS_BY_USER,this.point2.coords),(a>Mat.eps||o>Mat.eps||e!==s)&&(h=this.point1.isDraggable&&this.point1.type!==Const.OBJECT_TYPE_GLIDER&&!JXG$1.evaluate(this.point1.visProp.fixed),c=this.point2.isDraggable&&this.point2.type!==Const.OBJECT_TYPE_GLIDER&&!JXG$1.evaluate(this.point2.visProp.fixed),e>Mat.eps?a>o&&c||a<=o&&c&&!h?(this.point2.setPositionDirectly(Const.COORDS_BY_USER,[this.point1.X()+(this.point2.X()-this.point1.X())*s/e,this.point1.Y()+(this.point2.Y()-this.point1.Y())*s/e]),this.point2.fullUpdate()):(a<=o&&h||a>o&&h&&!c)&&(this.point1.setPositionDirectly(Const.COORDS_BY_USER,[this.point2.X()+(this.point1.X()-this.point2.X())*s/e,this.point2.Y()+(this.point1.Y()-this.point2.Y())*s/e]),this.point1.fullUpdate()):(d=Math.random()-.5,g=Math.random()-.5,e=Mat.hypot(d,g),c?(this.point2.setPositionDirectly(Const.COORDS_BY_USER,[this.point1.X()+d*s/e,this.point1.Y()+g*s/e]),this.point2.fullUpdate()):h&&(this.point1.setPositionDirectly(Const.COORDS_BY_USER,[this.point2.X()+d*s/e,this.point2.Y()+g*s/e]),this.point1.fullUpdate())),this.fixedLengthOldCoords[0].setCoordinates(Const.COORDS_BY_USER,this.point1.coords.usrCoords),this.fixedLengthOldCoords[1].setCoordinates(Const.COORDS_BY_USER,this.point2.coords.usrCoords)),this):this},updateStdform:function(){var e=Mat.crossProduct(this.point1.coords.usrCoords,this.point2.coords.usrCoords);this.stdform[0]=e[0],this.stdform[1]=e[1],this.stdform[2]=e[2],this.stdform[3]=0,this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.point1.coords.usrCoords[1]+this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[1]+this.point2.coords.usrCoords[2])&&Mat.innerProduct(this.stdform,this.stdform,3)>=Mat.eps*Mat.eps,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateLine(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},generatePolynomial:function(e){var s=this.point1.symbolic.x,a=this.point1.symbolic.y,o=this.point2.symbolic.x,h=this.point2.symbolic.y,c=e.symbolic.x,d=e.symbolic.y;return[["(",a,")*(",c,")-(",a,")*(",o,")+(",d,")*(",o,")-(",s,")*(",d,")+(",s,")*(",h,")-(",c,")*(",h,")"].join("")]},getRise:function(){return Math.abs(this.stdform[2])>=Mat.eps?-this.stdform[0]/this.stdform[2]:1/0},Slope:function(){return Math.abs(this.stdform[2])>=Mat.eps?-this.stdform[1]/this.stdform[2]:1/0},getSlope:function(){return this.Slope()},getAngle:function(){return Math.atan2(-this.stdform[1],this.stdform[2])},Direction:function(){var e=this.point1.coords.usrCoords,s=this.point2.coords.usrCoords;return s[0]===0&&e[0]!==0?s.slice(1):e[0]===0&&s[0]!==0?[-e[1],-e[2]]:[s[1]-e[1],s[2]-e[2]]},isVertical:function(){var e=this.Direction();return e[0]===0&&e[1]!==0},isHorizontal:function(){var e=this.Direction();return e[1]===0&&e[0]!==0},setStraight:function(e,s){return this.visProp.straightfirst=e,this.visProp.straightlast=s,this.board.renderer.updateLine(this),this},getTextAnchor:function(){return new Coords(Const.COORDS_BY_USER,[.5*(this.point2.X()+this.point1.X()),.5*(this.point2.Y()+this.point1.Y())],this.board)},setLabelRelativeCoords:function(e){JXG$1.exists(this.label)&&(this.label.relativeCoords=new Coords(Const.COORDS_BY_SCREEN,[e[0],-e[1]],this.board))},getLabelAnchor:function(){var e,s,a,o,h,c,d,g,_=1.5,b=0,$=new Coords(Const.COORDS_BY_USER,this.point1.coords.usrCoords,this.board),j=new Coords(Const.COORDS_BY_USER,this.point2.coords.usrCoords,this.board),_e=JXG$1.evaluate(this.visProp.straightfirst),et=JXG$1.evaluate(this.visProp.straightlast);if((_e||et)&&Geometry.calcStraight(this,$,j,0),$=$.scrCoords,j=j.scrCoords,!JXG$1.exists(this.label))return new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(a=JXG$1.evaluate(this.label.visProp.position),!JXG$1.isString(a))return new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(a.indexOf("right")<0&&a.indexOf("left")<0)switch(a){case"last":e=j[1],s=j[2];break;case"first":e=$[1],s=$[2];break;case"lft":case"llft":case"ulft":$[1]<j[1]+Mat.eps?(e=$[1],s=$[2]):(e=j[1],s=j[2]);break;case"rt":case"lrt":case"urt":$[1]>j[1]+Mat.eps?(e=$[1],s=$[2]):(e=j[1],s=j[2]);break;default:e=.5*($[1]+j[1]),s=.5*($[2]+j[2])}else o=JXG$1.parsePosition(a),h=JXG$1.parseNumber(o.pos,1,1),c=j[1]-$[1],d=j[2]-$[2],g=Mat.hypot(c,d),o.pos.indexOf("px")>=0||o.pos.indexOf("fr")>=0||o.pos.indexOf("%")>=0?(o.pos.indexOf("px")>=0&&(h/=g),e=$[1]+h*c,s=$[2]+h*d):(e=$[1]+h*this.board.unitX*c/g,s=$[2]+h*this.board.unitY*d/g),o.side==="left"?c*=-1:d*=-1,JXG$1.exists(this.label)&&(_=.5*JXG$1.evaluate(this.label.visProp.distance)/g),e+=d*this.label.size[0]*_,s+=c*this.label.size[1]*_;return(_e||et)&&(JXG$1.exists(this.label)&&(b=JXG$1.evaluate(this.label.visProp.fontsize)),Math.abs(e)<Mat.eps?e=b:this.board.canvasWidth+Mat.eps>e&&e>this.board.canvasWidth-b-Mat.eps&&(e=this.board.canvasWidth-b),Mat.eps+b>s&&s>-Mat.eps?s=b:this.board.canvasHeight+Mat.eps>s&&s>this.board.canvasHeight-b-Mat.eps&&(s=this.board.canvasHeight-b)),new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board)},cloneToBackground:function(){var e={},s,a,o;return e.id=this.id+"T"+this.numTraces,e.elementClass=Const.OBJECT_CLASS_LINE,this.numTraces++,e.point1=this.point1,e.point2=this.point2,e.stdform=this.stdform,e.board=this.board,e.visProp=JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0),e.visProp.layer=this.board.options.layer.trace,JXG$1.clearVisPropOld(e),e.visPropCalc={visible:JXG$1.evaluate(e.visProp.visible)},a=this.getSlope(),s=this.getRise(),e.getSlope=function(){return a},e.getRise=function(){return s},o=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawLine(e),this.board.renderer.enhancedRendering=o,this.traces[e.id]=e.rendNode,this},addTransform:function(e){var s,a=JXG$1.isArray(e)?e:[e],o=a.length;for(s=0;s<o;s++)this.point1.transformations.push(a[s]),this.point2.transformations.push(a[s]);return this},snapToGrid:function(e){var s,a,o,h,c,d,g,_,b;return JXG$1.evaluate(this.visProp.snaptogrid)?this.parents.length<3?(this.point1.handleSnapToGrid(!0,!0),this.point2.handleSnapToGrid(!0,!0)):JXG$1.exists(e)&&(_=JXG$1.evaluate(this.visProp.snapsizex),b=JXG$1.evaluate(this.visProp.snapsizey),s=new Coords(Const.COORDS_BY_SCREEN,[e.Xprev,e.Yprev],this.board),d=s.usrCoords[1],g=s.usrCoords[2],_<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(c=this.board.defaultAxes.x.defaultTicks,_=c.ticksDelta*(JXG$1.evaluate(c.visProp.minorticks)+1)),b<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(c=this.board.defaultAxes.y.defaultTicks,b=c.ticksDelta*(JXG$1.evaluate(c.visProp.minorticks)+1)),_>0&&b>0&&(a=Geometry.projectPointToLine({coords:s},this,this.board),o=Statistics.subtract([1,Math.round(d/_)*_,Math.round(g/b)*b],a.usrCoords),h=this.board.create("transform",o.slice(1),{type:"translate"}),h.applyOnce([this.point1,this.point2]))):(this.point1.handleSnapToGrid(!1,!0),this.point2.handleSnapToGrid(!1,!0)),this},snapToPoints:function(){var e=JXG$1.evaluate(this.visProp.snaptopoints);return this.parents.length<3&&(this.point1.handleSnapToPoints(e),this.point2.handleSnapToPoints(e)),this},X:function(e){var s,a=this.stdform[2];return s=Math.abs(this.point1.coords.usrCoords[0])>Mat.eps?this.point1.coords.usrCoords[1]:this.point2.coords.usrCoords[1],e=(e-.5)*2,(1-Math.abs(e))*s-e*a},Y:function(e){var s,a=this.stdform[1];return s=Math.abs(this.point1.coords.usrCoords[0])>Mat.eps?this.point1.coords.usrCoords[2]:this.point2.coords.usrCoords[2],e=(e-.5)*2,(1-Math.abs(e))*s+e*a},Z:function(e){var s=Math.abs(this.point1.coords.usrCoords[0])>Mat.eps?this.point1.coords.usrCoords[0]:this.point2.coords.usrCoords[0];return e=(e-.5)*2,(1-Math.abs(e))*s},L:function(){return this.point1.Dist(this.point2)},setFixedLength:function(e){return this.hasFixedLength?(this.fixedLength=JXG$1.createFunction(e,this.board),this.hasFixedLength=!0,this.addParentsFromJCFunctions([this.fixedLength]),this.board.update(),this):this},minX:function(){return 0},maxX:function(){return 1},bounds:function(){var e=this.point1.coords.usrCoords,s=this.point2.coords.usrCoords;return[Math.min(e[1],s[1]),Math.max(e[2],s[2]),Math.max(e[1],s[1]),Math.min(e[2],s[2])]},remove:function(){this.removeAllTicks(),GeometryElement.prototype.remove.call(this)}});JXG$1.createLine=function(e,s,a){var o,h,c,d,g,_,b=[],$=!1,j=!1,_e;if(s.length===2){if(_=JXG$1.copyAttributes(a,e.options,"line","point1"),JXG$1.isArray(s[0])&&s[0].length>1)c=e.create("point",s[0],_);else if(JXG$1.isString(s[0])||JXG$1.isPoint(s[0]))c=e.select(s[0]);else if(JXG$1.isFunction(s[0])&&JXG$1.isPoint(s[0]()))c=s[0](),j=!0;else if(JXG$1.isFunction(s[0])&&s[0]().length&&s[0]().length>=2)c=JXG$1.createPoint(e,s[0](),_),j=!0;else if(JXG$1.isObject(s[0])&&JXG$1.isTransformationOrArray(s[1]))$=!0,c=e.create("point",[s[0].point1,s[1]],_);else throw new Error("JSXGraph: Can't create line with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);if(_=JXG$1.copyAttributes(a,e.options,"line","point2"),$)d=e.create("point",[s[0].point2,s[1]],_);else if(JXG$1.isArray(s[1])&&s[1].length>1)d=e.create("point",s[1],_);else if(JXG$1.isString(s[1])||JXG$1.isPoint(s[1]))d=e.select(s[1]);else if(JXG$1.isFunction(s[1])&&JXG$1.isPoint(s[1]()))d=s[1](),j=!0;else if(JXG$1.isFunction(s[1])&&s[1]().length&&s[1]().length>=2)d=JXG$1.createPoint(e,s[1](),_),j=!0;else throw new Error("JSXGraph: Can't create line with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);_=JXG$1.copyAttributes(a,e.options,"line"),h=new JXG$1.Line(e,c,d,_),j?(h.constrained=!0,h.funp1=s[0],h.funp2=s[1]):$||(h.isDraggable=!0),h.setParents([c.id,d.id])}else if(s.length===3){for(_e=!0,g=0;g<3;g++)if(JXG$1.isNumber(s[g]))b[g]=JXG$1.createFunction(s[g]);else if(JXG$1.isFunction(s[g]))b[g]=s[g],_e=!1;else throw new Error("JSXGraph: Can't create line with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);_=JXG$1.copyAttributes(a,e.options,"line","point1"),_e?c=e.create("point",[b[2]()*b[2]()+b[1]()*b[1](),b[2]()-b[1]()*b[0]()+b[2](),-b[1]()-b[2]()*b[0]()-b[1]()],_):c=e.create("point",[function(){return(b[2]()*b[2]()+b[1]()*b[1]())*.5},function(){return(b[2]()-b[1]()*b[0]()+b[2]())*.5},function(){return(-b[1]()-b[2]()*b[0]()-b[1]())*.5}],_),_=JXG$1.copyAttributes(a,e.options,"line","point2"),_e?d=e.create("point",[b[2]()*b[2]()+b[1]()*b[1](),-b[1]()*b[0]()+b[2](),-b[2]()*b[0]()-b[1]()],_):d=e.create("point",[function(){return b[2]()*b[2]()+b[1]()*b[1]()},function(){return-b[1]()*b[0]()+b[2]()},function(){return-b[2]()*b[0]()-b[1]()}],_),c.prepareUpdate().update(),d.prepareUpdate().update(),_=JXG$1.copyAttributes(a,e.options,"line"),h=new JXG$1.Line(e,c,d,_),h.isDraggable=_e,h.setParents([c,d])}else if(s.length===1&&JXG$1.isFunction(s[0])&&s[0]().length===2&&JXG$1.isPoint(s[0]()[0])&&JXG$1.isPoint(s[0]()[1]))o=s[0](),_=JXG$1.copyAttributes(a,e.options,"line"),h=new JXG$1.Line(e,o[0],o[1],_),h.constrained=!0,h.funps=s[0],h.setParents(o);else if(s.length===1&&JXG$1.isFunction(s[0])&&s[0]().length===3&&JXG$1.isNumber(s[0]()[0])&&JXG$1.isNumber(s[0]()[1])&&JXG$1.isNumber(s[0]()[2]))o=s[0],_=JXG$1.copyAttributes(a,e.options,"line","point1"),c=e.create("point",[function(){var et=o();return[(et[2]*et[2]+et[1]*et[1])*.5,(et[2]-et[1]*et[0]+et[2])*.5,(-et[1]-et[2]*et[0]-et[1])*.5]}],_),_=JXG$1.copyAttributes(a,e.options,"line","point2"),d=e.create("point",[function(){var et=o();return[et[2]*et[2]+et[1]*et[1],-et[1]*et[0]+et[2],-et[2]*et[0]-et[1]]}],_),_=JXG$1.copyAttributes(a,e.options,"line"),h=new JXG$1.Line(e,c,d,_),h.constrained=!0,h.funps=s[0],h.setParents([c,d]);else throw new Error("JSXGraph: Can't create line with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]`);return h};JXG$1.registerElement("line",JXG$1.createLine);JXG$1.createSegment=function(e,s,a){var o,h;if(a.straightFirst=!1,a.straightLast=!1,h=JXG$1.copyAttributes(a,e.options,"segment"),o=e.create("line",s.slice(0,2),h),s.length===3){try{o.hasFixedLength=!0,o.fixedLengthOldCoords=[],o.fixedLengthOldCoords[0]=new Coords(Const.COORDS_BY_USER,o.point1.coords.usrCoords.slice(1,3),e),o.fixedLengthOldCoords[1]=new Coords(Const.COORDS_BY_USER,o.point2.coords.usrCoords.slice(1,3),e),o.setFixedLength(s[2])}catch{throw new Error("JSXGraph: Can't create segment with third parent type '"+typeof s[2]+`'.
Possible third parent types: number or function`)}o.getParents=function(){return this.parents.concat(this.fixedLength())}}return o.elType="segment",o};JXG$1.registerElement("segment",JXG$1.createSegment);JXG$1.createArrow=function(e,s,a){var o,h;return a.straightFirst=!1,a.straightLast=!1,h=JXG$1.copyAttributes(a,e.options,"arrow"),o=e.create("line",s,h),o.type=Const.OBJECT_TYPE_VECTOR,o.elType="arrow",o};JXG$1.registerElement("arrow",JXG$1.createArrow);JXG$1.createAxis=function(e,s,a){var o,h,c,d;h=JXG$1.copyAttributes(a,e.options,"axis");try{o=e.create("line",s,h)}catch{throw new Error("JSXGraph: Can't create axis with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`)}o.type=Const.OBJECT_TYPE_AXIS,o.isDraggable=!1,o.point1.isDraggable=!1,o.point2.isDraggable=!1,o._point1UsrCoordsOrg=o.point1.coords.usrCoords.slice(),o._point2UsrCoordsOrg=o.point2.coords.usrCoords.slice();for(c in o.ancestors)o.ancestors.hasOwnProperty(c)&&(o.ancestors[c].type=Const.OBJECT_TYPE_AXISPOINT);return JXG$1.exists(h.ticks.ticksdistance)?d=h.ticks.ticksdistance:JXG$1.isArray(h.ticks.ticks)?d=h.ticks.ticks:d=1,o.defaultTicks=e.create("ticks",[o,d],h.ticks),o.defaultTicks.dump=!1,o.elType="axis",o.subs={ticks:o.defaultTicks},o.inherits.push(o.defaultTicks),o.update=function(){var g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt;if(g=this.board.getBoundingBox(),_=JXG$1.evaluate(this.visProp.position),$=this.Direction(),j=this.isHorizontal(),_e=this.isVertical(),et=JXG$1.evaluate(this.visProp.ticksautopos),tt=JXG$1.evaluate(this.visProp.ticksautoposthreshold),j?tt=JXG$1.parseNumber(tt,Math.abs(g[1]-g[3]),1/this.board.unitX)*this.board.unitX:_e?tt=JXG$1.parseNumber(tt,Math.abs(g[1]-g[3]),1/this.board.unitY)*this.board.unitY:tt=JXG$1.parseNumber(tt,1,1),at=JXG$1.evaluate(this.visProp.anchor),nt=at.indexOf("left")>-1,st=at.indexOf("right")>-1,rt=JXG$1.evaluate(this.visProp.anchordist),j?rt=JXG$1.parseNumber(rt,Math.abs(g[1]-g[3]),1/this.board.unitX):_e?rt=JXG$1.parseNumber(rt,Math.abs(g[0]-g[2]),1/this.board.unitY):rt=0,ht=this.board.getPointLoc(this._point1UsrCoordsOrg,rt),lt=this.point1.coords.usrCoords.slice(),ot=this.point2.coords.usrCoords.slice(),_==="static"||!_e&&!j||(_==="fixed"?(j&&($[0]>0&&st||$[0]<0&&nt?(lt[2]=g[3]+rt,ot[2]=g[3]+rt):$[0]>0&&nt||$[0]<0&&st?(lt[2]=g[1]-rt,ot[2]=g[1]-rt):(lt=this._point1UsrCoordsOrg.slice(),ot=this._point2UsrCoordsOrg.slice())),_e&&($[1]>0&&nt||$[1]<0&&st?(lt[1]=g[0]+rt,ot[1]=g[0]+rt):$[1]>0&&st||$[1]<0&&nt?(lt[1]=g[2]-rt,ot[1]=g[2]-rt):(lt=this._point1UsrCoordsOrg.slice(),ot=this._point2UsrCoordsOrg.slice()))):_==="sticky"&&(j&&(ht[1]<0&&($[0]>0&&st||$[0]<0&&nt)?(lt[2]=g[3]+rt,ot[2]=g[3]+rt):ht[1]>0&&($[0]>0&&nt||$[0]<0&&st)?(lt[2]=g[1]-rt,ot[2]=g[1]-rt):(lt=this._point1UsrCoordsOrg.slice(),ot=this._point2UsrCoordsOrg.slice())),_e&&(ht[0]<0&&($[1]>0&&nt||$[1]<0&&st)?(lt[1]=g[0]+rt,ot[1]=g[0]+rt):ht[0]>0&&($[1]>0&&st||$[1]<0&&nt)?(lt[1]=g[2]-rt,ot[1]=g[2]-rt):(lt=this._point1UsrCoordsOrg.slice(),ot=this._point2UsrCoordsOrg.slice())))),this.point1.setPositionDirectly(JXG$1.COORDS_BY_USER,lt),this.point2.setPositionDirectly(JXG$1.COORDS_BY_USER,ot),JXG$1.exists(this.defaultTicks)){if(ct=this.defaultTicks.visProp.label,et&&(j||_e)){if(JXG$1.exists(ct._anchorx_org)||(ct._anchorx_org=JXG$1.def(ct.anchorx,this.board.options.text.anchorX)),JXG$1.exists(ct._anchory_org)||(ct._anchory_org=JXG$1.def(ct.anchory,this.board.options.text.anchorY)),JXG$1.exists(ct._offset_org)||(ct._offset_org=ct.offset.slice()),dt=ct.offset,j){for(it=o.point1.coords.scrCoords[2]-this.board.canvasHeight*.5,ut=ct.anchory,it<0&&Math.abs(it)>tt?ct._side==="bottom"&&(ct.anchory==="top"&&(ut="bottom"),dt[1]*=-1,ct._side="top"):it>0&&Math.abs(it)>tt?ct._side==="top"&&(ct.anchory==="bottom"&&(ut="top"),dt[1]*=-1,ct._side="bottom"):(ut=ct._anchory_org,dt=ct._offset_org.slice(),ut==="top"?ct._side="bottom":ut==="bottom"?ct._side="top":dt[1]<0?ct._side="bottom":ct._side="top"),b=0;b<o.defaultTicks.labels.length;b++)this.defaultTicks.labels[b].visProp.anchory=ut;ct.anchory=ut}else if(_e){for(it=o.point1.coords.scrCoords[1]-this.board.canvasWidth*.5,it<0&&Math.abs(it)>tt?ct._side==="right"&&(ct.anchorx==="left"&&(ut="right"),dt[0]*=-1,ct._side="left"):it>0&&Math.abs(it)>tt?ct._side==="left"&&(ct.anchorx==="right"&&(ut="left"),dt[0]*=-1,ct._side="right"):(ut=ct._anchorx_org,dt=ct._offset_org.slice(),ut==="left"?ct._side="right":ut==="right"||dt[0]<0?ct._side="left":ct._side="right"),b=0;b<o.defaultTicks.labels.length;b++)this.defaultTicks.labels[b].visProp.anchorx=ut;ct.anchorx=ut}ct.offset=dt}else delete ct._anchorx_org,delete ct._anchory_org,delete ct._offset_org;this.defaultTicks.needsUpdate=!0}return JXG$1.Line.prototype.update.call(this),this},o};JXG$1.registerElement("axis",JXG$1.createAxis);JXG$1.createTangent=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e=[];if(s.length===1)o=s[0],h=o.slideObject;else if(s.length===2)if(JXG$1.isPoint(s[0]))o=s[0],h=s[1];else if(JXG$1.isPoint(s[1]))h=s[0],o=s[1];else throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [glider|point], [point,line|curve|circle|conic]`);else throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [glider|point], [point,line|curve|circle|conic]`);if(_=JXG$1.copyAttributes(a,e.options,"tangent"),h.elementClass===Const.OBJECT_CLASS_LINE)g=e.create("line",[h.point1,h.point2],_),g.glider=o;else if(h.elementClass===Const.OBJECT_CLASS_CURVE&&h.type!==Const.OBJECT_TYPE_CONIC){if($=h.getTransformationSource(),j=$[0],j)for(_e.push(h);$[0]&&JXG$1.exists($[1]._transformationSource);)_e.push($[1]),$=$[1].getTransformationSource();JXG$1.evaluate(h.visProp.curvetype)!=="plot"||j?(g=e.create("line",[function(){var et=h.X,tt=h.Y,it,at,nt,st,rt,lt,ot,ht;if(o.type===Const.OBJECT_TYPE_GLIDER?ht=o.position:JXG$1.evaluate(h.visProp.curvetype)==="functiongraph"?ht=o.X():ht=Geometry.projectPointToCurve(o,h,e)[1],ot=o.Coords(!0),j){for(rt=_e[_e.length-1]._transformationSource,et=rt.X,tt=rt.Y,st=0;st<_e.length;st++)_e[st].updateTransformMatrix(),lt=Mat.inverse(_e[st].transformMat),ot=Mat.matVecMult(lt,ot);o.type!==Const.OBJECT_TYPE_GLIDER&&(ot[1]/=ot[0],ot[2]/=ot[0],ot[0]/=ot[0],ht=Geometry.projectCoordsToCurve(ot[1],ot[2],0,rt,e)[1])}if(it=Numerics.D(tt)(ht),at=Numerics.D(et)(ht),nt=[-ot[1]*it+ot[2]*at,ot[0]*it,-ot[0]*at],j)for(st=_e.length-1;st>=0;st--)lt=Mat.transpose(Mat.inverse(_e[st].transformMat)),nt=Mat.matVecMult(lt,nt);return nt}],_),o.addChild(g),g.glider=o):(b=function(et,tt,it){var at=Math.floor(et),nt,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt;if(tt.bezierDegree===1)at===tt.numberPoints-1&&at--;else if(tt.bezierDegree===3)tt.elType==="sector"?(gt=tt.points.slice(3,tt.numberPoints-3),mt=gt.length):(gt=tt.points,mt=gt.length),at=Math.floor(et*(mt-1)/3)*3,rt=(et*(mt-1)-at)/3,at>=mt-1&&(at=mt-4,rt=1);else return 0;if(at<0)return 1;switch(tt.bezierDegree===1?(nt=tt.points[at].usrCoords,st=tt.points[at+1].usrCoords):(lt=gt[at].usrCoords,ot=gt[at+1].usrCoords,ht=gt[at+2].usrCoords,ct=gt[at+3].usrCoords,ut=(1-rt)*(1-rt)*(ot[1]-lt[1])+2*(1-rt)*rt*(ht[1]-ot[1])+rt*rt*(ct[1]-ht[1]),dt=(1-rt)*(1-rt)*(ot[2]-lt[2])+2*(1-rt)*rt*(ht[2]-ot[2])+rt*rt*(ct[2]-ht[2]),ft=Mat.hypot(ut,dt),ut/=ft,dt/=ft,nt=o.coords.usrCoords,st=[1,nt[1]+ut,nt[2]+dt]),it){case 0:return nt[2]*st[1]-nt[1]*st[2];case 1:return st[2]-nt[2];case 2:return nt[1]-st[1];default:return[nt[2]*st[1]-nt[1]*st[2],st[2]-nt[2],nt[1]-st[1]]}},g=e.create("line",[function(){var et;return o.type===Const.OBJECT_TYPE_GLIDER?et=o.position:et=Geometry.projectPointToCurve(o,h,e)[1],b(et,h)}],_),o.addChild(g),g.glider=o)}else h.type===Const.OBJECT_TYPE_TURTLE?(g=e.create("line",[function(){var et,tt;for(o.type===Const.OBJECT_TYPE_GLIDER?tt=o.position:tt=Geometry.projectPointToTurtle(o,h,e)[1],et=Math.floor(tt),c=0;c<h.objects.length;c++)if(d=h.objects[c],d.type===Const.OBJECT_TYPE_CURVE){if(et<d.numberPoints)break;et-=d.numberPoints}return et===d.numberPoints-1&&et--,et<0?[1,0,0]:[d.Y(et)*d.X(et+1)-d.X(et)*d.Y(et+1),d.Y(et+1)-d.Y(et),d.X(et)-d.X(et+1)]}],_),o.addChild(g),g.glider=o):(h.elementClass===Const.OBJECT_CLASS_CIRCLE||h.type===Const.OBJECT_TYPE_CONIC)&&(g=e.create("line",[function(){return Mat.matVecMult(h.quadraticform,o.coords.usrCoords)}],_),o.addChild(g),g.glider=o);if(!JXG$1.exists(g))throw new Error("JSXGraph: Couldn't create tangent with the given parents.");return g.elType="tangent",g.type=Const.OBJECT_TYPE_TANGENT,g.setParents(s),g};JXG$1.createNormal=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et=[];for(d=0;d<s.length;++d)s[d]=e.select(s[d]);if(s.length===1)o=s[0],h=o.slideObject;else if(s.length===2)if(JXG$1.isPointType(e,s[0]))o=JXG$1.providePoints(e,[s[0]],a,"point")[0],h=s[1];else if(JXG$1.isPointType(e,s[1]))h=s[0],o=JXG$1.providePoints(e,[s[1]],a,"point")[0];else throw new Error("JSXGraph: Can't create normal with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,line], [point,circle], [glider]`);else throw new Error("JSXGraph: Can't create normal with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,line], [point,circle], [glider]`);if(g=JXG$1.copyAttributes(a,e.options,"normal"),h.elementClass===Const.OBJECT_CLASS_LINE)b=JXG$1.copyAttributes(a,e.options,"normal","point"),_=e.create("point",[function(){var tt=Mat.crossProduct([1,0,0],h.stdform);return[tt[0],-tt[2],tt[1]]}],b),_.isDraggable=!0,c=e.create("line",[o,_],g),c.point=_,c.subs={point:_},c.inherits.push(_);else if(h.elementClass===Const.OBJECT_CLASS_CIRCLE)c=e.create("line",[h.midpoint,o],g);else if(h.elementClass===Const.OBJECT_CLASS_CURVE){if(j=h.getTransformationSource(),_e=j[0],_e)for(et.push(h);j[0]&&JXG$1.exists(j[1]._transformationSource);)et.push(j[1]),j=j[1].getTransformationSource();JXG$1.evaluate(h.visProp.curvetype)!=="plot"||_e?c=e.create("line",[function(){var tt=h.X,it=h.Y,at,nt,st,rt,lt,ot,ht,ct;if(o.type===Const.OBJECT_TYPE_GLIDER?ct=o.position:JXG$1.evaluate(h.visProp.curvetype)==="functiongraph"?ct=o.X():ct=Geometry.projectPointToCurve(o,h,e)[1],ht=o.Coords(!0),_e){for(lt=et[et.length-1]._transformationSource,tt=lt.X,it=lt.Y,rt=0;rt<et.length;rt++)et[rt].updateTransformMatrix(),ot=Mat.inverse(et[rt].transformMat),ht=Mat.matVecMult(ot,ht);o.type!==Const.OBJECT_TYPE_GLIDER&&(ht[1]/=ht[0],ht[2]/=ht[0],ht[0]/=ht[0],ct=Geometry.projectCoordsToCurve(ht[1],ht[2],0,lt,e)[1])}if(at=Numerics.D(it)(ct),nt=Numerics.D(tt)(ct),st=[-ht[1]*nt-ht[2]*at,ht[0]*nt,ht[0]*at],_e)for(rt=et.length-1;rt>=0;rt--)ot=Mat.transpose(Mat.inverse(et[rt].transformMat)),st=Mat.matVecMult(ot,st);return st}],g):($=function(tt,it,at){var nt=Math.floor(tt),st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt,Pt,$t,Et;if(it.bezierDegree===1)nt===it.numberPoints-1&&nt--,ot=tt;else if(it.bezierDegree===3)it.elType==="sector"?($t=it.points.slice(3,it.numberPoints-3),Et=$t.length):($t=it.points,Et=$t.length),nt=Math.floor(tt*(Et-1)/3)*3,ot=(tt*(Et-1)-nt)/3,nt>=Et-1&&(nt=Et-4,ot=1);else return 0;if(nt<0)return 1;switch(st=ot-nt,it.bezierDegree===1?(rt=it.points[nt].usrCoords,lt=it.points[nt+1].usrCoords,Jt=[rt[0]+st*(lt[0]-rt[0]),rt[1]+st*(lt[1]-rt[1]),rt[2]+st*(lt[2]-rt[2])],vt=Mat.crossProduct(rt,lt),Pt=Mat.crossProduct([1,0,0],vt),Pt=[Pt[0],-Pt[2],Pt[1]],vt=Mat.crossProduct(Jt,Pt)):(ht=$t[nt].usrCoords,ct=$t[nt+1].usrCoords,ut=$t[nt+2].usrCoords,dt=$t[nt+3].usrCoords,ft=(1-ot)*(1-ot)*(ct[1]-ht[1])+2*(1-ot)*ot*(ut[1]-ct[1])+ot*ot*(dt[1]-ut[1]),gt=(1-ot)*(1-ot)*(ct[2]-ht[2])+2*(1-ot)*ot*(ut[2]-ct[2])+ot*ot*(dt[2]-ut[2]),mt=Mat.hypot(ft,gt),ft/=mt,gt/=mt,rt=o.coords.usrCoords,lt=[1,rt[1]-gt,rt[2]+ft],vt=[rt[2]*lt[1]-rt[1]*lt[2],lt[2]-rt[2],rt[1]-lt[1]]),at){case 0:return vt[0];case 1:return vt[1];case 2:return vt[2];default:return vt}},c=e.create("line",[function(){var tt;return o.type===Const.OBJECT_TYPE_GLIDER?tt=o.position:tt=Geometry.projectPointToCurve(o,h,e)[1],$(tt,h)}],g),o.addChild(c),c.glider=o)}else if(h.type===Const.OBJECT_TYPE_TURTLE)c=e.create("line",[function(){var tt,it,at=Math.floor(o.position),nt=o.position-at;for(it=0;it<h.objects.length;it++)if(tt=h.objects[it],tt.type===Const.OBJECT_TYPE_CURVE){if(at<tt.numberPoints)break;at-=tt.numberPoints}return at===tt.numberPoints-1&&(at-=1,nt=1),at<0?1:(tt.Y(at)+nt*(tt.Y(at+1)-tt.Y(at)))*(tt.Y(at)-tt.Y(at+1))-(tt.X(at)+nt*(tt.X(at+1)-tt.X(at)))*(tt.X(at+1)-tt.X(at))},function(){var tt,it,at=Math.floor(o.position);for(it=0;it<h.objects.length;it++)if(tt=h.objects[it],tt.type===Const.OBJECT_TYPE_CURVE){if(at<tt.numberPoints)break;at-=tt.numberPoints}return at===tt.numberPoints-1&&(at-=1),at<0?0:tt.X(at+1)-tt.X(at)},function(){var tt,it,at=Math.floor(o.position);for(it=0;it<h.objects.length;it++)if(tt=h.objects[it],tt.type===Const.OBJECT_TYPE_CURVE){if(at<tt.numberPoints)break;at-=tt.numberPoints}return at===tt.numberPoints-1&&(at-=1),at<0?0:tt.Y(at+1)-tt.Y(at)}],g);else throw new Error("JSXGraph: Can't create normal with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,line], [point,circle], [glider]`);return c.elType="normal",c.setParents(s),JXG$1.exists(o._is_new)?(c.addChild(o),delete o._is_new):o.addChild(c),h.addChild(c),c};JXG$1.createRadicalAxis=function(e,s,a){var o,h,c;if(s.length!==2||s[0].elementClass!==Const.OBJECT_CLASS_CIRCLE||s[1].elementClass!==Const.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'radical axis' with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent type: [circle,circle]`);return h=e.select(s[0]),c=e.select(s[1]),o=e.create("line",[function(){var d=h.stdform,g=c.stdform;return Mat.matVecMult(Mat.transpose([d.slice(0,3),g.slice(0,3)]),[g[3],-d[3]])}],a),o.elType="radicalaxis",o.setParents([h.id,c.id]),h.addChild(o),c.addChild(o),o};JXG$1.createPolarLine=function(e,s,a){var o,h,c,d,g,_,b;if(s.length>1&&(d=s[0].type===Const.OBJECT_TYPE_CONIC||s[0].elementClass===Const.OBJECT_CLASS_CIRCLE,g=s[1].type===Const.OBJECT_TYPE_CONIC||s[1].elementClass===Const.OBJECT_CLASS_CIRCLE,_=JXG$1.isPoint(s[0]),b=JXG$1.isPoint(s[1])),s.length!==2||!(d&&b||_&&g))throw new Error("JSXGraph: Can't create 'polar line' with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent type: [conic|circle,point], [point,conic|circle]`);return b?(h=e.select(s[0]),c=e.select(s[1])):(h=e.select(s[1]),c=e.select(s[0])),o=e.create("tangent",[h,c],a),o.elType="polarline",o};JXG$1.createTangentTo=function(e,s,a){var o,h,c,d,g,_,b;if(c=e.select(s[0]),d=JXG$1.providePoints(e,s[1],a,"point")[0],g=JXG$1.def(s[2],0),c.type!==Const.OBJECT_TYPE_CIRCLE&&c.type!==Const.OBJECT_TYPE_CONIC||d.elementClass!==Const.OBJECT_CLASS_POINT)throw new Error("JSXGraph: Can't create tangentto with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [circle|conic,point,number]`);return h=JXG$1.copyAttributes(a,e.options,"tangentto"),b=e.create("polar",[c,d],h.polar),_=e.create("intersection",[b,c,g],h.point),o=e.create("tangent",[c,_],h),o.point=_,o.polar=b,o.elType="tangentto",o};JXG$1.registerElement("tangent",JXG$1.createTangent);JXG$1.registerElement("normal",JXG$1.createNormal);JXG$1.registerElement("tangentto",JXG$1.createTangentTo);JXG$1.registerElement("polar",JXG$1.createTangent);JXG$1.registerElement("radicalaxis",JXG$1.createRadicalAxis);JXG$1.registerElement("polarline",JXG$1.createPolarLine);JXG$1.Line;JXG$1.Group=function(e,s,a,o,h){var c,d,g,_;for(this.board=e,this.objects={},c=this.board.numObjects,this.board.numObjects+=1,s===""||!JXG$1.exists(s)?this.id=this.board.id+"Group"+c:this.id=s,this.board.groups[this.id]=this,this.type=Const.OBJECT_TYPE_POINT,this.elementClass=Const.OBJECT_CLASS_POINT,a===""||!JXG$1.exists(a)?this.name="group_"+this.board.generateName(this):this.name=a,delete this.type,this.coords={},this.needsRegularUpdate=h.needsregularupdate,this.rotationCenter="centroid",this.scaleCenter=null,this.rotationPoints=[],this.translationPoints=[],this.scalePoints=[],this.scaleDirections={},this.parents=[],JXG$1.isArray(o)?d=o:d=Array.prototype.slice.call(arguments,3),g=0;g<d.length;g++)_=this.board.select(d[g]),!JXG$1.evaluate(_.visProp.fixed)&&JXG$1.exists(_.coords)&&this.addPoint(_);this.methodMap={ungroup:"ungroup",add:"addPoint",addPoint:"addPoint",addPoints:"addPoints",addGroup:"addGroup",remove:"removePoint",removePoint:"removePoint",setAttribute:"setAttribute",setProperty:"setAttribute"}};JXG$1.extend(JXG$1.Group.prototype,{ungroup:function(){var e,s,a;for(e in this.objects)this.objects.hasOwnProperty(e)&&(s=this.objects[e].point,JXG$1.isArray(s.groups)&&(a=JXG$1.indexOf(s.groups,this.id),a>=0&&delete s.groups[a]));return this.objects={},this},addParents:function(e){var s,a,o;for(JXG$1.isArray(e)?o=e:o=arguments,a=o.length,s=0;s<a;++s)JXG$1.isId(this.board,o[s])?this.parents.push(o[s]):JXG$1.exists(o[s].id)&&this.parents.push(o[s].id);this.parents=JXG$1.uniqueArray(this.parents)},setParents:function(e){return this.parents=[],this.addParents(e),this},getParents:function(){return JXG$1.isArray(this.parents)?this.parents:[]},_updateCoordsCache:function(e){var s;e!==""&&JXG$1.exists(this.objects[e])&&(s=this.objects[e].point,this.coords[s.id]={usrCoords:s.coords.usrCoords.slice(0)})},update:function(){var e,s,a,o,h,c,d,g,_,b,$=null;if(!this.needsUpdate)return this;if(e=this._update_find_drag_type(),e.action==="nothing")return this._updateCoordsCache(e.id),this;if($=this.objects[e.id].point,e.action==="translation")_=[$.coords.usrCoords[1]-this.coords[e.id].usrCoords[1],$.coords.usrCoords[2]-this.coords[e.id].usrCoords[2]];else if(e.action==="rotation"||e.action==="scaling"){if(e.action==="rotation"?a="rotationCenter":a="scaleCenter",JXG$1.isPoint(this[a]))b=this[a].coords.usrCoords.slice(1);else if(this[a]==="centroid")b=this._update_centroid_center();else if(JXG$1.isArray(this[a]))b=this[a];else if(JXG$1.isFunction(this[a]))b=this[a]();else return this;if(e.action==="rotation")g=Geometry.rad(this.coords[e.id].usrCoords.slice(1),b,this.objects[e.id].point),_=this.board.create("transform",[g,b[0],b[1]],{type:"rotate"}),_.update();else if(e.action==="scaling"){if(h=Geometry.distance(this.coords[e.id].usrCoords.slice(1),b),Math.abs(h)<Mat.eps)return this;h=Geometry.distance($.coords.usrCoords.slice(1),b)/h,c=this.scaleDirections[e.id].indexOf("x")>=0?h:1,d=this.scaleDirections[e.id].indexOf("y")>=0?h:1,_=this.board.create("transform",[1,0,0,b[0]*(1-c),c,0,b[1]*(1-d),0,d],{type:"generic"}),_.update()}else return this}this._update_apply_transformation(e,_),this.needsUpdate=!1;for(s in this.objects)if(this.objects.hasOwnProperty(s))for(o in this.objects[s].descendants)this.objects[s].descendants.hasOwnProperty(o)&&(this.objects[s].descendants.needsUpdate=this.objects[s].descendants.needsRegularUpdate||this.board.needsFullUpdate);this.board.updateElements(e);for(s in this.objects)this.objects.hasOwnProperty(s)&&this._updateCoordsCache(s);return this},_update_find_drag_type:function(){var e,s,a="nothing",o=[],h;for(e in this.objects)this.objects.hasOwnProperty(e)&&(s=this.objects[e].point,s.coords.distance(Const.COORDS_BY_USER,this.coords[e])>Mat.eps&&o.push(s.id));return o.length===0?{action:a,id:"",changed:o}:(h=o[0],s=this.objects[h].point,o.length>1?a="translation":JXG$1.isInArray(this.rotationPoints,s)&&JXG$1.exists(this.rotationCenter)?a="rotation":JXG$1.isInArray(this.scalePoints,s)&&JXG$1.exists(this.scaleCenter)?a="scaling":JXG$1.isInArray(this.translationPoints,s)&&(a="translation"),{action:a,id:h,changed:o})},_update_centroid_center:function(){var e,s,a;e=[0,0],s=0;for(a in this.coords)this.coords.hasOwnProperty(a)&&(e[0]+=this.coords[a].usrCoords[1],e[1]+=this.coords[a].usrCoords[2],++s);return s>0&&(e[0]/=s,e[1]/=s),e},_update_apply_transformation:function(e,s){var a,o;for(a in this.objects)this.objects.hasOwnProperty(a)&&(JXG$1.exists(this.board.objects[a])?(o=this.objects[a].point,o.id!==e.id?e.action==="translation"?JXG$1.isInArray(e.changed,o.id)||o.coords.setCoordinates(Const.COORDS_BY_USER,[this.coords[a].usrCoords[1]+s[0],this.coords[a].usrCoords[2]+s[1]]):(e.action==="rotation"||e.action==="scaling")&&s.applyOnce([o]):(e.action==="rotation"||e.action==="scaling")&&o.coords.setCoordinates(Const.COORDS_BY_USER,Mat.matVecMult(s.matrix,this.coords[o.id].usrCoords))):delete this.objects[a])},addPoint:function(e){return this.objects[e.id]={point:this.board.select(e)},this._updateCoordsCache(e.id),this.translationPoints.push(e),e.groups.push(this.id),e.groups=JXG$1.uniqueArray(e.groups),this},addPoints:function(e){var s;for(s=0;s<e.length;s++)this.addPoint(e[s]);return this},addGroup:function(e){var s;for(s in e.objects)e.objects.hasOwnProperty(s)&&this.addPoint(e.objects[s].point);return this},removePoint:function(e){return delete this.objects[e.id],this},setRotationCenter:function(e){return this.rotationCenter=e,this},setRotationPoints:function(e){return this._setActionPoints("rotation",e)},addRotationPoint:function(e){return this._addActionPoint("rotation",e)},removeRotationPoint:function(e){return this._removeActionPoint("rotation",e)},setTranslationPoints:function(e){return this._setActionPoints("translation",e)},addTranslationPoint:function(e){return this._addActionPoint("translation",e)},removeTranslationPoint:function(e){return this._removeActionPoint("translation",e)},setScaleCenter:function(e){return this.scaleCenter=e,this},setScalePoints:function(e,s){var a,o,h;for(JXG$1.isArray(e)?a=e:a=arguments,h=a.length,o=0;o<h;++o)this.scaleDirections[this.board.select(a[o]).id]=s||"xy";return this._setActionPoints("scale",e)},addScalePoint:function(e,s){return this._addActionPoint("scale",e),this.scaleDirections[this.board.select(e).id]=s||"xy",this},removeScalePoint:function(e){return this._removeActionPoint("scale",e)},_setActionPoints:function(e,s){var a,o,h;for(JXG$1.isArray(s)?a=s:a=arguments,h=a.length,this[e+"Points"]=[],o=0;o<h;++o)this._addActionPoint(e,a[o]);return this},_addActionPoint:function(e,s){return this[e+"Points"].push(this.board.select(s)),this},_removeActionPoint:function(e,s){var a=this[e+"Points"].indexOf(this.board.select(s));return a>-1&&this[e+"Points"].splice(a,1),this},setProperty:function(){JXG$1.deprecated("Group.setProperty","Group.setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(){var e;for(e in this.objects)this.objects.hasOwnProperty(e)&&this.objects[e].point.setAttribute.apply(this.objects[e].point,arguments);return this}});JXG$1.createGroup=function(e,s,a){var o=JXG$1.copyAttributes(a,e.options,"group"),h=new JXG$1.Group(e,o.id,o.name,s,o);return h.elType="group",h.setParents(s),h};JXG$1.registerElement("group",JXG$1.createGroup);JXG$1.Group;JXG$1.Circle=function(e,s,a,o,h){this.constructor(e,h,Const.OBJECT_TYPE_CIRCLE,Const.OBJECT_CLASS_CIRCLE),this.method=s,this.midpoint=this.board.select(a),this.center=this.board.select(a),this.point2=null,this.radius=0,this.line=null,this.circle=null,this.points=[],s==="twoPoints"?(this.point2=e.select(o),this.radius=this.Radius()):s==="pointRadius"?(this.gxtterm=o,this.updateRadius=JXG$1.createFunction(o,this.board),this.updateRadius(),this.addParentsFromJCFunctions([this.updateRadius])):s==="pointLine"?(this.line=e.select(o),this.radius=this.line.point1.coords.distance(Const.COORDS_BY_USER,this.line.point2.coords)):s==="pointCircle"&&(this.circle=e.select(o),this.radius=this.circle.Radius()),this.id=this.board.setId(this,"C"),this.board.renderer.drawEllipse(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="circle",this.createLabel(),JXG$1.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),s==="pointRadius"?this.notifyParents(o):s==="pointLine"?this.line.addChild(this):s==="pointCircle"?this.circle.addChild(this):s==="twoPoints"&&(JXG$1.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=JXG$1.deepCopy(this.methodMap,{setRadius:"setRadius",getRadius:"getRadius",Area:"Area",area:"Area",Perimeter:"Perimeter",Circumference:"Perimeter",radius:"Radius",Radius:"Radius",Diameter:"Diameter",center:"center",line:"line",point2:"point2"})};JXG$1.Circle.prototype=new GeometryElement;JXG$1.extend(JXG$1.Circle.prototype,{hasPoint:function(e,s){var a,o,h=this.center.coords.usrCoords,c=new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board),d=this.Radius(),g,_,b;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(o=this.board._inputDevice,a=JXG$1.evaluate(this.visProp.precision[o])):a=this.board.options.precision.hasPoint,g=h[1]-c.usrCoords[1],_=h[2]-c.usrCoords[2],b=Mat.hypot(g,_),a+=JXG$1.evaluate(this.visProp.strokewidth)*.5,a/=Math.sqrt(Math.abs(this.board.unitX*this.board.unitY)),JXG$1.evaluate(this.visProp.hasinnerpoints)?b<d+a:Math.abs(b-d)<a},generatePolynomial:function(e){var s=this.center.symbolic.x,a=this.center.symbolic.y,o=e.symbolic.x,h=e.symbolic.y,c=this.generateRadiusSquared();return c===""?[]:["(("+o+")-("+s+"))^2 + (("+h+")-("+a+"))^2 - ("+c+")"]},generateRadiusSquared:function(){var e,s,a,o,h,c,d="";return this.method==="twoPoints"?(e=this.center.symbolic.x,s=this.center.symbolic.y,a=this.point2.symbolic.x,o=this.point2.symbolic.y,d="(("+a+")-("+e+"))^2 + (("+o+")-("+s+"))^2"):this.method==="pointRadius"?JXG$1.isNumber(this.radius)&&(d=(this.radius*this.radius).toString()):this.method==="pointLine"?(a=this.line.point1.symbolic.x,o=this.line.point1.symbolic.y,h=this.line.point2.symbolic.x,c=this.line.point2.symbolic.y,d="(("+a+")-("+h+"))^2 + (("+o+")-("+c+"))^2"):this.method==="pointCircle"&&(d=this.circle.Radius()),d},update:function(){var e,s,a,o,h,c;if(this.needsUpdate)for(JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this.method==="pointLine"?this.radius=this.line.point1.coords.distance(Const.COORDS_BY_USER,this.line.point2.coords):this.method==="pointCircle"?this.radius=this.circle.Radius():this.method==="pointRadius"&&(this.radius=this.updateRadius()),this.radius=Math.abs(this.radius),this.updateStdform(),this.updateQuadraticform(),a=this.center.coords.usrCoords[0],e=this.center.coords.usrCoords[1]/a,s=this.center.coords.usrCoords[2]/a,a/=a,o=this.Radius(),h=.551915024494,this.numberPoints=13,this.dataX=[e+o,e+o,e+o*h,e,e-o*h,e-o,e-o,e-o,e-o*h,e,e+o*h,e+o,e+o],this.dataY=[s,s+o*h,s+o,s+o,s+o,s+o*h,s,s-o*h,s-o,s-o,s-o,s-o*h,s],this.bezierDegree=3,c=0;c<this.numberPoints;c++)this.points[c]=new Coords(Const.COORDS_BY_USER,[this.dataX[c],this.dataY[c]],this.board);return this},updateQuadraticform:function(){var e=this.center,s=e.X(),a=e.Y(),o=this.Radius();this.quadraticform=[[s*s+a*a-o*o,-s,-a],[-s,1,0],[-a,0,1]]},updateStdform:function(){this.stdform[3]=.5,this.stdform[4]=this.Radius(),this.stdform[1]=-this.center.coords.usrCoords[1],this.stdform[2]=-this.center.coords.usrCoords[2],isFinite(this.stdform[4])||(this.stdform[0]=JXG$1.exists(this.point2)?-(this.stdform[1]*this.point2.coords.usrCoords[1]+this.stdform[2]*this.point2.coords.usrCoords[2]):0),this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.center.coords.usrCoords[1]+this.center.coords.usrCoords[2]+this.Radius())&&this.center.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateEllipse(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},notifyParents:function(e){JXG$1.isString(e)&&GeonextParser.findDependencies(this,e,this.board)},setRadius:function(e){return this.updateRadius=JXG$1.createFunction(e,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.board.update(),this},Radius:function(e){return JXG$1.exists(e)?(this.setRadius(e),this.Radius()):this.method==="twoPoints"?JXG$1.cmpArrays(this.point2.coords.usrCoords,[0,0,0])||JXG$1.cmpArrays(this.center.coords.usrCoords,[0,0,0])?NaN:this.center.Dist(this.point2):this.method==="pointLine"||this.method==="pointCircle"?this.radius:this.method==="pointRadius"?JXG$1.evaluate(this.visProp.nonnegativeonly)?Math.max(0,this.updateRadius()):Math.abs(this.updateRadius()):NaN},Diameter:function(){return 2*this.Radius()},getRadius:function(){return JXG$1.deprecated("Circle.getRadius()","Circle.Radius()"),this.Radius()},getTextAnchor:function(){return this.center.coords},getLabelAnchor:function(){var e,s,a,o,h,c,d=1.5,g=this.Radius(),_=this.center.coords.usrCoords,b=.7071067811865;if(!JXG$1.exists(this.label))return new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(a=JXG$1.evaluate(this.label.visProp.position),!JXG$1.isString(a))return new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(a.indexOf("right")<0&&a.indexOf("left")<0)switch(JXG$1.evaluate(this.visProp.label.position)){case"lft":e=_[1]-g,s=_[2];break;case"llft":e=_[1]-b*g,s=_[2]-b*g;break;case"rt":e=_[1]+g,s=_[2];break;case"lrt":e=_[1]+b*g,s=_[2]-b*g;break;case"urt":e=_[1]+b*g,s=_[2]+b*g;break;case"top":e=_[1],s=_[2]+g;break;case"bot":e=_[1],s=_[2]-g;break;default:e=_[1]-b*g,s=_[2]+b*g;break}else return _=this.center.coords.scrCoords,o=JXG$1.parsePosition(a),h=JXG$1.parseNumber(o.pos,2*Math.PI,1),o.pos.indexOf("fr")<0&&o.pos.indexOf("%")<0&&(o.pos.indexOf("px")>=0?h=0:h*=Math.PI/180),c=1,o.side==="left"&&(c=-1),JXG$1.exists(this.label)&&(d=c*.5*JXG$1.evaluate(this.label.visProp.distance)),e=_[1]+(g*this.board.unitX+this.label.size[0]*d)*Math.cos(h),s=_[2]-(g*this.board.unitY+this.label.size[1]*d)*Math.sin(h),new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board);return new Coords(Const.COORDS_BY_USER,[e,s],this.board)},cloneToBackground:function(){var e,s=this.Radius(),a={id:this.id+"T"+this.numTraces,elementClass:Const.OBJECT_CLASS_CIRCLE,center:{coords:this.center.coords},Radius:function(){return s},getRadius:function(){return s},board:this.board,visProp:JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return a.visProp.layer=this.board.options.layer.trace,this.numTraces++,JXG$1.clearVisPropOld(a),a.visPropCalc={visible:JXG$1.evaluate(a.visProp.visible)},e=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawEllipse(a),this.board.renderer.enhancedRendering=e,this.traces[a.id]=a.rendNode,this},addTransform:function(e){var s,a=JXG$1.isArray(e)?e:[e],o=a.length;for(s=0;s<o;s++)this.center.transformations.push(a[s]),this.method==="twoPoints"&&this.point2.transformations.push(a[s]);return this},snapToGrid:function(){var e=JXG$1.evaluate(this.visProp.snaptogrid);return this.center.handleSnapToGrid(e,!0),this.method==="twoPoints"&&this.point2.handleSnapToGrid(e,!0),this},snapToPoints:function(){var e=JXG$1.evaluate(this.visProp.snaptopoints);return this.center.handleSnapToPoints(e),this.method==="twoPoints"&&this.point2.handleSnapToPoints(e),this},X:function(e){return this.Radius()*Math.cos(e*2*Math.PI)+this.center.coords.usrCoords[1]},Y:function(e){return this.Radius()*Math.sin(e*2*Math.PI)+this.center.coords.usrCoords[2]},Z:function(e){return 1},minX:function(){return 0},maxX:function(){return 1},Area:function(){var e=this.Radius();return e*e*Math.PI},Perimeter:function(){return 2*this.Radius()*Math.PI},bounds:function(){var e=this.center.coords.usrCoords,s=this.Radius();return[e[1]-s,e[2]+s,e[1]+s,e[2]-s]},getParents:function(){return this.parents.length===1?this.parents.concat(this.radius):this.parents}});JXG$1.createCircle=function(e,s,a){var o,h,c,d,g,_=!0,b=["center","point2"];if(h=[],g=e.select(s[0]),JXG$1.isObject(g)&&g.elementClass===Const.OBJECT_CLASS_CIRCLE&&JXG$1.isTransformationOrArray(s[1]))return d=JXG$1.copyAttributes(a,e.options,"circle"),o=JXG$1.createEllipse(e,[g.center,g.center,function(){return 2*g.Radius()}],d),o.addTransform(s[1]),o;for(c=0;c<s.length;c++)if(JXG$1.isPointType(e,s[c])){if(s.length<3?h.push(JXG$1.providePoints(e,[s[c]],a,"circle",[b[c]])[0]):h.push(JXG$1.providePoints(e,[s[c]],a,"point")[0]),h[h.length-1]===!1)throw new Error("JSXGraph: Can't create circle from this type. Please provide a point type.")}else h.push(s[c]);if(d=JXG$1.copyAttributes(a,e.options,"circle"),h.length===2&&JXG$1.isPoint(h[0])&&JXG$1.isPoint(h[1]))o=new JXG$1.Circle(e,"twoPoints",h[0],h[1],d);else if((JXG$1.isNumber(h[0])||JXG$1.isFunction(h[0])||JXG$1.isString(h[0]))&&JXG$1.isPoint(h[1]))o=new JXG$1.Circle(e,"pointRadius",h[1],h[0],d);else if((JXG$1.isNumber(h[1])||JXG$1.isFunction(h[1])||JXG$1.isString(h[1]))&&JXG$1.isPoint(h[0]))o=new JXG$1.Circle(e,"pointRadius",h[0],h[1],d);else if(h[0].elementClass===Const.OBJECT_CLASS_CIRCLE&&JXG$1.isPoint(h[1]))o=new JXG$1.Circle(e,"pointCircle",h[1],h[0],d);else if(h[1].elementClass===Const.OBJECT_CLASS_CIRCLE&&JXG$1.isPoint(h[0]))o=new JXG$1.Circle(e,"pointCircle",h[0],h[1],d);else if(h[0].elementClass===Const.OBJECT_CLASS_LINE&&JXG$1.isPoint(h[1]))o=new JXG$1.Circle(e,"pointLine",h[1],h[0],d);else if(h[1].elementClass===Const.OBJECT_CLASS_LINE&&JXG$1.isPoint(h[0]))o=new JXG$1.Circle(e,"pointLine",h[0],h[1],d);else if(s.length===3&&JXG$1.isPoint(h[0])&&JXG$1.isPoint(h[1])&&JXG$1.isPoint(h[2]))if(JXG$1.elements.circumcircle)o=JXG$1.elements.circumcircle(e,h,d);else throw new Error("JSXGraph: Can't create circle with three points. Please include the circumcircle element (element/composition).");else throw new Error("JSXGraph: Can't create circle with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point], [point,number], [point,function], [point,circle], [point,point,point], [circle,transformation]`);for(o.isDraggable=_,o.setParents(h),o.elType="circle",c=0;c<h.length;c++)JXG$1.isPoint(h[c])&&o.inherits.push(h[c]);return o};JXG$1.registerElement("circle",JXG$1.createCircle);const Circle=JXG$1.Circle;JXG$1.createEllipse=function(e,s,a){var o,h,c,d,g,_,b,$=[],j=JXG$1.copyAttributes(a,e.options,"conic","foci"),_e=JXG$1.copyAttributes(a,e.options,"conic","center"),et=JXG$1.copyAttributes(a,e.options,"conic");for(_=0;_<2;_++)if(s[_].length>1)$[_]=e.create("point",s[_],j);else if(JXG$1.isPoint(s[_]))$[_]=e.select(s[_]);else if(JXG$1.isFunction(s[_])&&JXG$1.isPoint(s[_]()))$[_]=s[_]();else if(JXG$1.isString(s[_]))$[_]=e.select(s[_]);else throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);if(JXG$1.isNumber(s[2]))g=JXG$1.createFunction(s[2],e);else if(JXG$1.isFunction(s[2])&&JXG$1.isNumber(s[2]()))g=s[2];else{if(JXG$1.isPoint(s[2]))d=e.select(s[2]);else if(s[2].length>1)d=e.create("point",s[2],j);else if(JXG$1.isFunction(s[2])&&JXG$1.isPoint(s[2]()))d=s[2]();else if(JXG$1.isString(s[2]))d=e.select(s[2]);else throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);g=function(){return d.Dist($[0])+d.Dist($[1])}}for(JXG$1.exists(s[4])||(s[4]=2*Math.PI),JXG$1.exists(s[3])||(s[3]=0),c=e.create("point",[function(){return($[0].X()+$[1].X())*.5},function(){return($[0].Y()+$[1].Y())*.5}],_e),h=e.create("curve",[function(tt){return 0},function(tt){return 0},s[3],s[4]],et),h.majorAxis=g,b=h.hasPoint,o=function(tt,it){var at,nt,st,rt,lt,ot,ht,ct,ut;it||(at=g(),nt=at*at,st=$[0].X(),rt=$[0].Y(),lt=$[1].X(),ot=$[1].Y(),ht=st-lt,ct=rt-ot,ut=(nt-st*st-rt*rt+lt*lt+ot*ot)/(2*at),h.quadraticform=[[ut*ut-lt*lt-ot*ot,ut*ht/at+lt,ut*ct/at+ot],[ut*ht/at+lt,ht*ht/nt-1,ht*ct/nt],[ut*ct/at+ot,ht*ct/nt,ct*ct/nt-1]])},h.X=function(tt,it){var at=g(),nt=$[1].Dist($[0]),st=.5*(nt*nt-at*at)/(nt*Math.cos(tt)-at),rt=Math.atan2($[1].Y()-$[0].Y(),$[1].X()-$[0].X());return it||o(tt,it),$[0].X()+Math.cos(rt+tt)*st},h.Y=function(tt,it){var at=g(),nt=$[1].Dist($[0]),st=.5*(nt*nt-at*at)/(nt*Math.cos(tt)-at),rt=Math.atan2($[1].Y()-$[0].Y(),$[1].X()-$[0].X());return $[0].Y()+Math.sin(rt+tt)*st},h.midpoint=h.center=c,h.type=Const.OBJECT_TYPE_CONIC,h.subs={center:h.center},h.inherits.push(h.center,$[0],$[1]),JXG$1.isPoint(d)&&h.inherits.push(d),h.hasPoint=function(tt,it){var at,nt,st,rt,lt;return JXG$1.evaluate(this.visProp.hasinnerpoints)?(at=$[0].coords,nt=$[1].coords,st=this.majorAxis(),rt=new Coords(Const.COORDS_BY_SCREEN,[tt,it],this.board),lt=rt.distance(Const.COORDS_BY_USER,at)+rt.distance(Const.COORDS_BY_USER,nt),lt<=st):b.apply(this,arguments)},c.addChild(h),_=0;_<2;_++)JXG$1.isPoint($[_])&&$[_].addChild(h);return JXG$1.isPoint(d)&&d.addChild(h),h.setParents(s),h};JXG$1.createHyperbola=function(e,s,a){var o,h,c,d,g,_,b=[],$=JXG$1.copyAttributes(a,e.options,"conic","foci"),j=JXG$1.copyAttributes(a,e.options,"conic","center"),_e=JXG$1.copyAttributes(a,e.options,"conic");for(_=0;_<2;_++)if(s[_].length>1)b[_]=e.create("point",s[_],$);else if(JXG$1.isPoint(s[_]))b[_]=e.select(s[_]);else if(JXG$1.isFunction(s[_])&&JXG$1.isPoint(s[_]()))b[_]=s[_]();else if(JXG$1.isString(s[_]))b[_]=e.select(s[_]);else throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);if(JXG$1.isNumber(s[2]))g=JXG$1.createFunction(s[2],e);else if(JXG$1.isFunction(s[2])&&JXG$1.isNumber(s[2]()))g=s[2];else{if(JXG$1.isPoint(s[2]))d=e.select(s[2]);else if(s[2].length>1)d=e.create("point",s[2],$);else if(JXG$1.isFunction(s[2])&&JXG$1.isPoint(s[2]()))d=s[2]();else if(JXG$1.isString(s[2]))d=e.select(s[2]);else throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point], [point,point,number|function]`);g=function(){return d.Dist(b[0])-d.Dist(b[1])}}for(JXG$1.exists(s[4])||(s[4]=1.0001*Math.PI),JXG$1.exists(s[3])||(s[3]=-1.0001*Math.PI),c=e.create("point",[function(){return(b[0].X()+b[1].X())*.5},function(){return(b[0].Y()+b[1].Y())*.5}],j),h=e.create("curve",[function(et){return 0},function(et){return 0},s[3],s[4]],_e),h.majorAxis=g,o=function(et,tt){var it,at,nt,st,rt,lt,ot,ht,ct;tt||(it=g(),at=it*it,nt=b[0].X(),st=b[0].Y(),rt=b[1].X(),lt=b[1].Y(),ot=nt-rt,ht=st-lt,ct=(at-nt*nt-st*st+rt*rt+lt*lt)/(2*it),h.quadraticform=[[ct*ct-rt*rt-lt*lt,ct*ot/it+rt,ct*ht/it+lt],[ct*ot/it+rt,ot*ot/at-1,ot*ht/at],[ct*ht/it+lt,ot*ht/at,ht*ht/at-1]])},h.X=function(et,tt){var it=g(),at=b[1].Dist(b[0]),nt=.5*(at*at-it*it)/(at*Math.cos(et)+it),st=Math.atan2(b[1].Y()-b[0].Y(),b[1].X()-b[0].X());return tt||o(et,tt),b[0].X()+Math.cos(st+et)*nt},h.Y=function(et,tt){var it=g(),at=b[1].Dist(b[0]),nt=.5*(at*at-it*it)/(at*Math.cos(et)+it),st=Math.atan2(b[1].Y()-b[0].Y(),b[1].X()-b[0].X());return b[0].Y()+Math.sin(st+et)*nt},h.midpoint=h.center=c,h.subs={center:h.center},h.inherits.push(h.center,b[0],b[1]),JXG$1.isPoint(d)&&h.inherits.push(d),h.type=Const.OBJECT_TYPE_CONIC,c.addChild(h),_=0;_<2;_++)JXG$1.isPoint(b[_])&&b[_].addChild(h);return JXG$1.isPoint(d)&&d.addChild(h),h.setParents(s),h};JXG$1.createParabola=function(e,s,a){var o,h,c,d=s[0],g=s[1],_=JXG$1.copyAttributes(a,e.options,"conic","foci"),b=JXG$1.copyAttributes(a,e.options,"conic","center"),$=JXG$1.copyAttributes(a,e.options,"conic"),j;if(s[0].length>1)d=e.create("point",s[0],_);else if(JXG$1.isPoint(s[0]))d=e.select(s[0]);else if(JXG$1.isFunction(s[0])&&JXG$1.isPoint(s[0]()))d=s[0]();else if(JXG$1.isString(s[0]))d=e.select(s[0]);else throw new Error("JSXGraph: Can't create Parabola with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,line]`);return JXG$1.isArray(g)&&g.length===2&&(j=JXG$1.copyAttributes(a,e.options,"conic","line"),g=e.create("line",g,j)),JXG$1.exists(s[3])||(s[3]=2*Math.PI),JXG$1.exists(s[2])||(s[2]=0),c=e.create("point",[function(){return Geometry.projectPointToLine(d,g,e).usrCoords}],b),h=e.create("curve",[function(_e){return 0},function(_e){return 0},s[2],s[3]],$),h.midpoint=h.center=c,h.subs={center:h.center},h.inherits.push(h.center),o=function(_e,et){var tt,it,at,nt,st,rt;et||(tt=g.stdform[1],it=g.stdform[2],at=g.stdform[0],nt=tt*tt+it*it,st=d.X(),rt=d.Y(),h.quadraticform=[[at*at-nt*(st*st+rt*rt),at*tt+nt*st,at*it+nt*rt],[at*tt+nt*st,-it*it,tt*it],[at*it+nt*rt,tt*it,-tt*tt]])},h.X=function(_e,et){var tt,it,at=g.getAngle(),nt=Geometry.distPointLine(d.coords.usrCoords,g.stdform),st=g.point1.coords.usrCoords,rt=g.point2.coords.usrCoords,lt=d.coords.usrCoords;return st[0]===0?st=[1,rt[1]+g.stdform[2],rt[2]-g.stdform[1]]:rt[0]===0&&(rt=[1,st[1]+g.stdform[2],st[2]-g.stdform[1]]),it=(rt[1]-st[1])*(lt[2]-st[2])-(rt[2]-st[2])*(lt[1]-st[1])>=0?1:-1,tt=it*nt/(1-Math.sin(_e)),et||o(_e,et),d.X()+Math.cos(_e+at)*tt},h.Y=function(_e,et){var tt,it,at=g.getAngle(),nt=Geometry.distPointLine(d.coords.usrCoords,g.stdform),st=g.point1.coords.usrCoords,rt=g.point2.coords.usrCoords,lt=d.coords.usrCoords;return st[0]===0?st=[1,rt[1]+g.stdform[2],rt[2]-g.stdform[1]]:rt[0]===0&&(rt=[1,st[1]+g.stdform[2],st[2]-g.stdform[1]]),it=(rt[1]-st[1])*(lt[2]-st[2])-(rt[2]-st[2])*(lt[1]-st[1])>=0?1:-1,tt=it*nt/(1-Math.sin(_e)),d.Y()+Math.sin(_e+at)*tt},h.type=Const.OBJECT_TYPE_CONIC,c.addChild(h),JXG$1.isPoint(d)&&(d.addChild(h),h.inherits.push(d)),g.addChild(h),h.setParents(s),h};JXG$1.createConic=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt=[[1,0,0],[0,1,0],[0,0,1]],st=[[1,0,0],[0,1,0],[0,0,1]],rt=[],lt=[],ot=JXG$1.copyAttributes(a,e.options,"conic","point"),ht=JXG$1.copyAttributes(a,e.options,"conic","center"),ct=JXG$1.copyAttributes(a,e.options,"conic");if(s.length===5)at=!0;else if(s.length===6)at=!1;else throw new Error("JSXGraph: Can't create generic Conic with "+s.length+" parameters.");if(at)for(tt=0;tt<5;tt++)if(s[tt].length>1)rt[tt]=e.create("point",s[tt],ot);else if(JXG$1.isPoint(s[tt]))rt[tt]=e.select(s[tt]);else if(JXG$1.isFunction(s[tt])&&JXG$1.isPoint(s[tt]()))rt[tt]=s[tt]();else if(JXG$1.isString(s[tt]))rt[tt]=e.select(s[tt]);else throw new Error("JSXGraph: Can't create Conic section with parent types '"+typeof s[tt]+`'.
Possible parent types: [point,point,point,point,point], [a00,a11,a22,a01,a02,a12]`);else it=[[0,0,0],[0,0,0],[0,0,0]],it[0][0]=JXG$1.isFunction(s[2])?function(){return s[2]()}:function(){return s[2]},it[0][1]=JXG$1.isFunction(s[4])?function(){return s[4]()}:function(){return s[4]},it[0][2]=JXG$1.isFunction(s[5])?function(){return s[5]()}:function(){return s[5]},it[1][1]=JXG$1.isFunction(s[0])?function(){return s[0]()}:function(){return s[0]},it[1][2]=JXG$1.isFunction(s[3])?function(){return s[3]()}:function(){return s[3]},it[2][2]=JXG$1.isFunction(s[1])?function(){return s[1]()}:function(){return s[1]};if(g=function(ut){var dt,ft;for(dt=0;dt<3;dt++)for(ft=dt;ft<3;ft++)ut[dt][ft]+=ut[ft][dt];for(dt=0;dt<3;dt++)for(ft=0;ft<dt;ft++)ut[dt][ft]=ut[ft][dt];return ut},d=function(ut,dt){var ft,gt,mt=[[0,0,0],[0,0,0],[0,0,0]];for(ft=0;ft<3;ft++)for(gt=0;gt<3;gt++)mt[ft][gt]=ut[ft]*dt[gt];return g(mt)},c=function(ut,dt,ft){var gt,mt,vt,Jt,Pt,$t=[[0,0,0],[0,0,0],[0,0,0]];for(Pt=Mat.matVecMult(dt,ft),vt=Mat.innerProduct(ft,Pt),Pt=Mat.matVecMult(ut,ft),Jt=Mat.innerProduct(ft,Pt),gt=0;gt<3;gt++)for(mt=0;mt<3;mt++)$t[gt][mt]=vt*ut[gt][mt]-Jt*dt[gt][mt];return $t},h=e.create("curve",[function(ut){return 0},function(ut){return 0},0,2*Math.PI],ct),o=function(ut,dt){var ft,gt,mt;if(!dt){if(at){for(ft=0;ft<5;ft++)lt[ft]=rt[ft].coords.usrCoords;_e=d(Mat.crossProduct(lt[0],lt[1]),Mat.crossProduct(lt[2],lt[3])),et=d(Mat.crossProduct(lt[0],lt[2]),Mat.crossProduct(lt[1],lt[3])),st=c(_e,et,lt[4])}else for(ft=0;ft<3;ft++)for(gt=ft;gt<3;gt++)st[ft][gt]=it[ft][gt](),gt>ft&&(st[gt][ft]=st[ft][gt]);h.quadraticform=st,_=Numerics.Jacobi(st),_[0][0][0]<0&&(_[0][0][0]*=-1,_[0][1][1]*=-1,_[0][2][2]*=-1),nt=_[1],j=Math.sqrt(Math.abs(_[0][0][0])),b=Math.sqrt(Math.abs(_[0][1][1])),$=Math.sqrt(Math.abs(_[0][2][2]))}return _[0][1][1]<=0&&_[0][2][2]<=0?mt=Mat.matVecMult(nt,[1/j,Math.cos(ut)/b,Math.sin(ut)/$]):_[0][1][1]<=0&&_[0][2][2]>0?mt=Mat.matVecMult(nt,[Math.cos(ut)/j,1/b,Math.sin(ut)/$]):_[0][2][2]<0&&(mt=Mat.matVecMult(nt,[Math.sin(ut)/j,Math.cos(ut)/b,1/$])),JXG$1.exists(mt)?(mt[1]/=mt[0],mt[2]/=mt[0],mt[0]=1):mt=[1,NaN,NaN],mt},h.X=function(ut,dt){return o(ut,dt)[1]},h.Y=function(ut,dt){return o(ut,dt)[2]},h.midpoint=e.create("point",[function(){var ut=h.quadraticform;return[ut[1][1]*ut[2][2]-ut[1][2]*ut[1][2],ut[1][2]*ut[0][2]-ut[2][2]*ut[0][1],ut[0][1]*ut[1][2]-ut[1][1]*ut[0][2]]}],ht),h.type=Const.OBJECT_TYPE_CONIC,h.center=h.midpoint,h.subs={center:h.center},h.inherits.push(h.center),h.inherits=h.inherits.concat(rt),at){for(tt=0;tt<5;tt++)JXG$1.isPoint(rt[tt])&&rt[tt].addChild(h);h.setParents(s)}return h.addChild(h.center),h};JXG$1.registerElement("ellipse",JXG$1.createEllipse);JXG$1.registerElement("hyperbola",JXG$1.createHyperbola);JXG$1.registerElement("parabola",JXG$1.createParabola);JXG$1.registerElement("conic",JXG$1.createConic);JXG$1.Polygon=function(e,s,a){this.constructor(e,a,Const.OBJECT_TYPE_POLYGON,Const.OBJECT_CLASS_AREA);var o,h,c,d,g,_=JXG$1.copyAttributes(a,e.options,"polygon","borders");for(this.withLines=a.withlines,this.attr_line=_,this.vertices=[],o=0;o<s.length;o++)this.vertices[o]=this.board.select(s[o]),this.vertices[o]._is_new&&(delete this.vertices[o]._is_new,this.vertices[o]._is_new_pol=!0);if(this.vertices.length>0&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.borders=[],this.withLines)for(c=this.vertices.length-1,d=0;d<c;d++)o=(d+1)%c,_.id=_.ids&&_.ids[o],_.name=_.names&&_.names[o],_.strokecolor=JXG$1.isArray(_.colors)&&_.colors[o%_.colors.length]||_.strokecolor,_.visible=JXG$1.exists(a.borders.visible)?a.borders.visible:a.visible,_.strokecolor===!1&&(_.strokecolor="none"),h=e.create("segment",[this.vertices[o],this.vertices[o+1]],_),h.dump=!1,this.borders[o]=h,h.parentPolygon=this,this.addChild(h);for(this.inherits.push(this.vertices,this.borders),this.id=this.board.setId(this,"Py"),o=0;o<this.vertices.length-1;o++)g=this.board.select(this.vertices[o]),JXG$1.exists(g._is_new_pol)?(this.addChild(g),delete g._is_new_pol):g.addChild(this);this.board.renderer.drawPolygon(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="polygon",this.createLabel(),this.methodMap=JXG$1.deepCopy(this.methodMap,{borders:"borders",vertices:"vertices",A:"Area",Area:"Area",Perimeter:"Perimeter",L:"Perimeter",boundingBox:"bounds",BoundingBox:"bounds",addPoints:"addPoints",insertPoints:"insertPoints",removePoints:"removePoints",Intersect:"intersect"})};JXG$1.Polygon.prototype=new GeometryElement;JXG$1.extend(JXG$1.Polygon.prototype,{pnpoly:function(e,s,a){return Geometry.pnpoly(e,s,this.vertices,a)},hasPoint:function(e,s){var a,o;if(JXG$1.evaluate(this.visProp.hasinnerpoints)&&this.pnpoly(e,s))return!0;for(o=this.borders.length,a=0;a<o;a++)if(this.borders[a].hasPoint(e,s))return!0;return!1},updateRenderer:function(){var e,s;if(!this.needsUpdate)return this;if(this.visPropCalc.visible){for(s=this.vertices.length-(this.elType==="polygonalchain"?0:1),this.isReal=!0,e=0;e<s;++e)if(!this.vertices[e].isReal){this.isReal=!1;break}if(!this.isReal){this.updateVisibility(!1);for(e in this.childElements)this.childElements.hasOwnProperty(e)&&this.childElements[e].setDisplayRendNode(!1)}}return this.visPropCalc.visible&&this.board.renderer.updatePolygon(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this},getTextAnchor:function(){var e,s,a,o,h;if(this.vertices.length===0)return new Coords(Const.COORDS_BY_USER,[1,0,0],this.board);for(e=this.vertices[0].X(),s=this.vertices[0].Y(),a=e,o=s,h=0;h<this.vertices.length;h++)this.vertices[h].X()<e&&(e=this.vertices[h].X()),this.vertices[h].X()>a&&(a=this.vertices[h].X()),this.vertices[h].Y()>s&&(s=this.vertices[h].Y()),this.vertices[h].Y()<o&&(o=this.vertices[h].Y());return new Coords(Const.COORDS_BY_USER,[(e+a)*.5,(s+o)*.5],this.board)},getLabelAnchor:JXG$1.shortcut(JXG$1.Polygon.prototype,"getTextAnchor"),cloneToBackground:function(){var e={},s;return e.id=this.id+"T"+this.numTraces,this.numTraces++,e.vertices=this.vertices,e.visProp=JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0),e.visProp.layer=this.board.options.layer.trace,e.board=this.board,JXG$1.clearVisPropOld(e),e.visPropCalc={visible:JXG$1.evaluate(e.visProp.visible)},s=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawPolygon(e),this.board.renderer.enhancedRendering=s,this.traces[e.id]=e.rendNode,this},hideElement:function(e){var s;if(JXG$1.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),!e)for(s=0;s<this.borders.length;s++)this.borders[s].hideElement();this.hasLabel&&JXG$1.exists(this.label)&&(this.label.hiddenByParent=!0,this.label.visPropCalc.visible&&this.label.hideElement())},showElement:function(e){var s;if(JXG$1.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!0),!e)for(s=0;s<this.borders.length;s++)this.borders[s].showElement().updateRenderer();return JXG$1.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visPropCalc.visible||this.label.showElement().updateRenderer()),this},Area:function(){return Math.abs(Geometry.signedPolygon(this.vertices,!0))},Perimeter:function(){var e,s=this.vertices.length,a=0;for(e=1;e<s;++e)a+=this.vertices[e].Dist(this.vertices[e-1]);return a},L:function(){return this.Perimeter()},boundingBox:function(){var e=[0,0,0,0],s,a,o=this.vertices.length-1;if(o===0)return e;for(e[0]=this.vertices[0].X(),e[2]=e[0],e[1]=this.vertices[0].Y(),e[3]=e[1],s=1;s<o;++s)a=this.vertices[s].X(),a<e[0]?e[0]=a:a>e[2]&&(e[2]=a),a=this.vertices[s].Y(),a>e[1]?e[1]=a:a<e[3]&&(e[3]=a);return e},bounds:function(){return this.boundingBox()},remove:function(){var e;for(e=0;e<this.borders.length;e++)this.board.removeObject(this.borders[e]);GeometryElement.prototype.remove.call(this)},findPoint:function(e){var s;if(!JXG$1.isPoint(e))return-1;for(s=0;s<this.vertices.length;s++)if(this.vertices[s].id===e.id)return s;return-1},addPoints:function(e){var s,a=Array.prototype.slice.call(arguments);return this.elType==="polygonalchain"?s=this.vertices.length-1:s=this.vertices.length-2,this.insertPoints.apply(this,[s].concat(a))},insertPoints:function(e,s){var a,o,h,c,d;if(arguments.length===0)return this;if(h=this.vertices.length-1,this.elType==="polygon"&&h--,e<-1||e>h)return this;for(o=arguments.length-1,a=1;a<o+1;a++)d=JXG$1.providePoints(this.board,[arguments[a]],{},"polygon",["vertices"])[0],d._is_new&&(this.addChild(d),delete d._is_new),this.vertices.splice(e+a,0,d);if(this.withLines)for(c=e+1,this.elType==="polygon"?e<0?(this.vertices[this.vertices.length-1]=this.vertices[0],this.borders[this.borders.length-1].point2=this.vertices[this.vertices.length-1]):this.borders[e].point2=this.vertices[c]:e>=0&&(e<this.borders.length?this.borders[e].point2=this.vertices[c]:c=e),a=c;a<c+o;a++)this.borders.splice(a,0,this.board.create("segment",[this.vertices[a],this.vertices[a+1]],this.attr_line));return this.inherits=[],this.inherits.push(this.vertices,this.borders),this.board.update(),this},removePoints:function(e){var s,a,o,h,c=[],d=[],g=[],_=[];for(this.elType==="polygon"&&(h=this.vertices.pop()),s=0;s<arguments.length;s++)o=arguments[s],JXG$1.isPoint(o)&&(o=this.findPoint(o)),JXG$1.isNumber(o)&&o>-1&&o<this.vertices.length&&JXG$1.indexOf(g,o)===-1&&g.push(o);if(g.length===0)return this.elType==="polygon"&&this.vertices.push(h),this;for(s=0;s<g.length;s++)this.vertices[g[s]].removeChild(this);for(g=g.sort(),c=this.vertices.slice(),d=this.borders.slice(),this.withLines&&_.push([g[g.length-1]]),s=g.length-1;s>-1;s--)c[g[s]]=-1,this.withLines&&g.length>1&&g[s]-1>g[s-1]&&(_[_.length-1][1]=g[s],_.push([g[s-1]]));for(this.withLines&&(_[_.length-1][1]=g[0]),this.vertices=[],s=0;s<c.length;s++)JXG$1.isPoint(c[s])&&this.vertices.push(c[s]);if(this.elType==="polygon"&&this.vertices.length>1&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.withLines){for(s=0;s<_.length;s++){for(a=_[s][1]-1;a<_[s][0]+1;a++)a<0?this.elType==="polygon"&&(this.board.removeObject(this.borders[d.length-1]),d[d.length-1]=-1):a<d.length&&(this.board.removeObject(this.borders[a]),d[a]=-1);_[s][1]!==0&&_[s][0]!==c.length-1&&(d[_[s][0]-1]=this.board.create("segment",[c[_[s][1]-1],c[_[s][0]+1]],this.attr_line))}for(this.borders=[],s=0;s<d.length;s++)d[s]!==-1&&this.borders.push(d[s]);this.elType==="polygon"&&this.vertices.length>2&&(_[0][1]===this.vertices.length-1||_[_.length-1][1]===0)&&this.borders.push(this.board.create("segment",[this.vertices[this.vertices.length-2],this.vertices[0]],this.attr_line))}return this.inherits=[],this.inherits.push(this.vertices,this.borders),this.board.update(),this},getParents:function(){return this.setParents(this.vertices),this.parents},getAttributes:function(){var e=GeometryElement.prototype.getAttributes.call(this),s;if(this.withLines)for(e.lines=e.lines||{},e.lines.ids=[],e.lines.colors=[],s=0;s<this.borders.length;s++)e.lines.ids.push(this.borders[s].id),e.lines.colors.push(this.borders[s].visProp.strokecolor);return e},snapToGrid:function(){var e,s;for(JXG$1.evaluate(this.visProp.snaptogrid)?s=!0:s=!1,e=0;e<this.vertices.length;e++)this.vertices[e].handleSnapToGrid(s,!0)},setPositionDirectly:function(e,s,a){var o,h,c,d,g=new Coords(e,s,this.board),_=new Coords(e,a,this.board);for(d=this.vertices.length-1,c=0;c<d;c++)if(!this.vertices[c].draggable())return this;return o=Statistics.subtract(g.usrCoords,_.usrCoords),h=this.board.create("transform",o.slice(1),{type:"translate"}),h.applyOnce(this.vertices.slice(0,-1)),this},sutherlandHodgman:function(e){var s=JXG$1.Math.Geometry.sortVertices(this.vertices),a=JXG$1.Math.Geometry.sortVertices(e.vertices),o=s.length-1,h=a.length-1,c,d=[],g,_,b,$,j,_e,et=function(tt,it,at){return(it[1]-tt[1])*(at[2]-tt[2])-(it[2]-tt[2])*(at[1]-tt[1])>=0};for(_=0;_<h;_++)d.push(a[_]);for(_=0;_<o;_++)for(g=d.slice(0),c=g.length,d=[],$=g[c-1],b=0;b<c;b++)j=g[b],et(s[_],s[_+1],j)?(et(s[_],s[_+1],$)||(_e=JXG$1.Math.Geometry.meetSegmentSegment($,j,s[_],s[_+1]),_e[0][1]/=_e[0][0],_e[0][2]/=_e[0][0],_e[0][0]=1,d.push(_e[0])),d.push(j)):et(s[_],s[_+1],$)&&(_e=JXG$1.Math.Geometry.meetSegmentSegment($,j,s[_],s[_+1]),_e[0][1]/=_e[0][0],_e[0][2]/=_e[0][0],_e[0][0]=1,d.push(_e[0])),$=j;return d},intersect:function(e){return this.sutherlandHodgman(e)}});JXG$1.createPolygon=function(e,s,a){var o,h,c,d,g=[],_,b,$=!1;if(_=JXG$1.copyAttributes(a,e.options,"polygon"),d=e.select(s[0]),d===null&&(d=s[0]),JXG$1.isObject(d)&&d.type===Const.OBJECT_TYPE_POLYGON&&JXG$1.isTransformationOrArray(s[1]))for($=!0,c=d.vertices.length-1,b=JXG$1.copyAttributes(a,e.options,"polygon","vertices"),h=0;h<c;h++)b.withlabel&&(b.name=d.vertices[h].name===""?"":d.vertices[h].name+"'"),g.push(e.create("point",[d.vertices[h],s[1]],b));else if(g=JXG$1.providePoints(e,s,a,"polygon",["vertices"]),g===!1)throw new Error("JSXGraph: Can't create polygon / polygonalchain with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon and a transformation can be supplied");if(_=JXG$1.copyAttributes(a,e.options,"polygon"),o=new JXG$1.Polygon(e,g,_),o.isDraggable=!0,$)for(o.prepareUpdate().update().updateVisibility().updateRenderer(),c=d.vertices.length-1,h=0;h<c;h++)g[h].prepareUpdate().update().updateVisibility().updateRenderer();return o};JXG$1.createRegularPolygon=function(e,s,a){var o,h,c,d=[],g,_,b,$;if(_=s.length,c=s[_-1],JXG$1.isNumber(c)&&(s.length!==3||c<3))throw new Error("JSXGraph: A regular polygon needs two point types and a number > 2 as input.");if(JXG$1.isNumber(e.select(c))?(_--,b=!1):(c=_,b=!0),d=JXG$1.providePoints(e,s.slice(0,_),a,"regularpolygon",["vertices"]),d===!1)throw new Error("JSXGraph: Can't create regular polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");for($=JXG$1.copyAttributes(a,e.options,"regularpolygon","vertices"),h=2;h<c;h++)g=e.create("transform",[Math.PI*(2-(c-2)/c),d[h-1]],{type:"rotate"}),b?(d[h].addTransform(d[h-2],g),d[h].fullUpdate()):(JXG$1.isArray($.ids)&&$.ids.length>=c-2&&($.id=$.ids[h-2]),d[h]=e.create("point",[d[h-2],g],$),d[h].type=Const.OBJECT_TYPE_CAS,d[h].isDraggable=!0,d[h].visProp.fixed=!1);return $=JXG$1.copyAttributes(a,e.options,"regularpolygon"),o=e.create("polygon",d,$),o.elType="regularpolygon",o};JXG$1.createPolygonalChain=function(e,s,a){var o,h;return o=JXG$1.copyAttributes(a,e.options,"polygonalchain"),h=e.create("polygon",s,o),h.elType="polygonalchain",h.vertices.pop(),e.removeObject(h.borders[h.borders.length-1]),h.borders.pop(),h};JXG$1.createParallelogram=function(e,s,a){var o,h,c=[],d,g;if(c=JXG$1.providePoints(e,s,a,"polygon",["vertices"]),c===!1||c.length<3)throw new Error("JSXGraph: Can't create parallelogram with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates.");return g=JXG$1.copyAttributes(a,e.options,"parallelogram","parallelpoint"),h=e.create("parallelpoint",c,g),d=JXG$1.copyAttributes(a,e.options,"parallelogram"),o=e.create("polygon",[c[0],c[1],h,c[2]],d),o.elType="parallelogram",o.parallelPoint=h,o.isDraggable=!0,h.isDraggable=!0,h.visProp.fixed=!1,o};JXG$1.registerElement("polygon",JXG$1.createPolygon);JXG$1.registerElement("regularpolygon",JXG$1.createRegularPolygon);JXG$1.registerElement("polygonalchain",JXG$1.createPolygonalChain);JXG$1.registerElement("parallelogram",JXG$1.createParallelogram);const Polygon=JXG$1.Polygon;JXG$1.Curve=function(e,s,a){this.constructor(e,a,Const.OBJECT_TYPE_CURVE,Const.OBJECT_CLASS_CURVE),this.points=[],this.numberPoints=JXG$1.evaluate(this.visProp.numberpointshigh),this.bezierDegree=1,this.dataX=null,this.dataY=null,this.ticks=[],this.qdt=null,JXG$1.exists(s[0])?this.varname=s[0]:this.varname="x",this.xterm=s[1],this.yterm=s[2],this.generateTerm(this.varname,this.xterm,this.yterm,s[3],s[4]),this.updateCurve(),this.id=this.board.setId(this,"G"),this.board.renderer.drawCurve(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="curve",this.createLabel(),JXG$1.isString(this.xterm)&&this.notifyParents(this.xterm),JXG$1.isString(this.yterm)&&this.notifyParents(this.yterm),this.methodMap=JXG$1.deepCopy(this.methodMap,{generateTerm:"generateTerm",setTerm:"generateTerm",move:"moveTo",moveTo:"moveTo",MinX:"minX",MaxX:"maxX"})};JXG$1.Curve.prototype=new GeometryElement;JXG$1.extend(JXG$1.Curve.prototype,{minX:function(){var e;return JXG$1.evaluate(this.visProp.curvetype)==="polar"?0:(e=new Coords(Const.COORDS_BY_SCREEN,[-this.board.canvasWidth*.1,0],this.board,!1),e.usrCoords[1])},maxX:function(){var e;return JXG$1.evaluate(this.visProp.curvetype)==="polar"?2*Math.PI:(e=new Coords(Const.COORDS_BY_SCREEN,[this.board.canvasWidth*1.1,0],this.board,!1),e.usrCoords[1])},X:function(e){return NaN},Y:function(e){return NaN},Z:function(e){return 1},hasPoint:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e=[],et,tt,it=JXG$1.evaluate(this.visProp.numberpointslow),at=(this.maxX()-this.minX())/it,nt,st,rt=1/0,lt,ot,ht,ct,ut,dt=!0;if(JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(st=this.board._inputDevice,nt=JXG$1.evaluate(this.visProp.precision[st])):nt=this.board.options.precision.hasPoint,_=new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board,!1),e=_.usrCoords[1],s=_.usrCoords[2],this.bezierDegree===1&&JXG$1.evaluate(this.visProp.hasinnerpoints)&&(j=Geometry.windingNumber([1,e,s],this.points,!0),j!==0))return!0;if(nt+=JXG$1.evaluate(this.visProp.strokewidth)*.5,nt*=nt,lt=this.board.unitX*this.board.unitX,ot=this.board.unitY*this.board.unitY,ct=this.minX(),ut=this.maxX(),JXG$1.exists(this._visibleArea)&&(ct=this._visibleArea[0],ut=this._visibleArea[1],at=(ut-ct)/it),ht=JXG$1.evaluate(this.visProp.curvetype),ht==="parameter"||ht==="polar")for(this.transformations.length>0&&(this.updateTransformMatrix(),$=Mat.inverse(this.transformMat),h=Mat.matVecMult($,[1,e,s]),e=h[1],s=h[2]),c=0,o=ct;c<it;c++){if(d=this.X(o,dt),g=this.Y(o,dt),rt=(e-d)*(e-d)*lt+(s-g)*(s-g)*ot,rt<=nt)return!0;o+=at}else if(ht==="plot"||ht==="functiongraph"){for((!JXG$1.exists(a)||a<0)&&(a=0),JXG$1.exists(this.qdt)&&JXG$1.evaluate(this.visProp.useqdt)&&this.bezierDegree!==3?(tt=this.qdt.query(new Coords(Const.COORDS_BY_USER,[e,s],this.board)),et=tt.points,b=et.length):(et=this.points,b=this.numberPoints-1),c=a;c<b;c++)if(this.bezierDegree===3?_e=Geometry.projectCoordsToBeziersegment([1,e,s],this,c):tt?(et[c].prev&&(_e=Geometry.projectCoordsToSegment([1,e,s],et[c].prev.usrCoords,et[c].usrCoords)),et[c].next&&et[c+1]!==et[c].next&&(_e=Geometry.projectCoordsToSegment([1,e,s],et[c].usrCoords,et[c].next.usrCoords))):_e=Geometry.projectCoordsToSegment([1,e,s],et[c].usrCoords,et[c+1].usrCoords),_e[1]>=0&&_e[1]<=1&&(e-_e[0][1])*(e-_e[0][1])*lt+(s-_e[0][2])*(s-_e[0][2])*ot<=nt)return!0;return!1}return rt<nt},allocatePoints:function(){var e,s;if(s=this.numberPoints,this.points.length<this.numberPoints)for(e=this.points.length;e<s;e++)this.points[e]=new Coords(Const.COORDS_BY_USER,[0,0],this.board,!1)},update:function(){return this.needsUpdate&&(JXG$1.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this.updateCurve()),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=Plot.checkReal(this.points),this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateCurve(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateDataArray:function(){},updateCurve:function(){var e,s,a,o,h,c,d=this.visProp.plotversion,g=!1;if(this.updateTransformMatrix(),this.updateDataArray(),a=this.minX(),o=this.maxX(),JXG$1.exists(this.dataX))for(this.numberPoints=this.dataX.length,s=this.numberPoints,this.allocatePoints(),e=0;e<s;e++)h=e,JXG$1.exists(this.dataY)?(c=e,this.points[e].setCoordinates(Const.COORDS_BY_USER,[this.dataX[e],this.dataY[e]],!1)):(c=this.X(h),this.points[e].setCoordinates(Const.COORDS_BY_USER,[this.dataX[e],this.Y(c,g)],!1)),this.points[e]._t=e,g=!0;else if(JXG$1.evaluate(this.visProp.doadvancedplot)?d===1||JXG$1.evaluate(this.visProp.doadvancedplotold)?Plot.updateParametricCurveOld(this,a,o):d===2?Plot.updateParametricCurve_v2(this,a,o):d===3?Plot.updateParametricCurve_v3(this,a,o):d===4?Plot.updateParametricCurve_v4(this,a,o):Plot.updateParametricCurve_v2(this,a,o):(this.board.updateQuality===this.board.BOARD_QUALITY_HIGH?this.numberPoints=JXG$1.evaluate(this.visProp.numberpointshigh):this.numberPoints=JXG$1.evaluate(this.visProp.numberpointslow),this.allocatePoints(),Plot.updateParametricCurveNaive(this,a,o,this.numberPoints)),s=this.numberPoints,JXG$1.evaluate(this.visProp.useqdt)&&this.board.updateQuality===this.board.BOARD_QUALITY_HIGH)for(this.qdt=new QDT(this.board.getBoundingBox()),e=0;e<this.points.length;e++)this.qdt.insert(this.points[e]),e>0&&(this.points[e].prev=this.points[e-1]),e<s-1&&(this.points[e].next=this.points[e+1]);for(JXG$1.evaluate(this.visProp.curvetype)!=="plot"&&JXG$1.evaluate(this.visProp.rdpsmoothing)&&(this.points=Numerics.RamerDouglasPeucker(this.points,.2),this.numberPoints=this.points.length),s=this.numberPoints,e=0;e<s;e++)this.updateTransform(this.points[e]);return this},updateTransformMatrix:function(){var e,s,a=this.transformations.length;for(this.transformMat=[[1,0,0],[0,1,0],[0,0,1]],s=0;s<a;s++)e=this.transformations[s],e.update(),this.transformMat=Mat.matMatMult(e.matrix,this.transformMat);return this},updateTransform:function(e){var s,a=this.transformations.length;return a>0&&(s=Mat.matVecMult(this.transformMat,e.usrCoords),e.setCoordinates(Const.COORDS_BY_USER,s,!1,!0)),e},addTransform:function(e){var s,a=JXG$1.isArray(e)?e:[e],o=a.length;for(s=0;s<o;s++)this.transformations.push(a[s]);return this},interpolationFunctionFromArray:function(e){var s="data"+e,a=this;return function(o,h){var c,d,g,_,b=a[s],$=b.length,j,_e=[];if(isNaN(o))return NaN;if(o<0)return JXG$1.isFunction(b[0])?b[0]():b[0];if(a.bezierDegree===3){if(j=($-1)/3,o>=j)return JXG$1.isFunction(b[b.length-1])?b[b.length-1]():b[b.length-1];for(c=Math.floor(o)*3,g=o%1,_=1-g,d=0;d<4;d++)JXG$1.isFunction(b[c+d])?_e[d]=b[c+d]():_e[d]=b[c+d];return _*_*(_*_e[0]+3*g*_e[1])+(3*_*_e[2]+g*_e[3])*g*g}if(o>$-2?c=$-2:c=parseInt(Math.floor(o),10),c===o)return JXG$1.isFunction(b[c])?b[c]():b[c];for(d=0;d<2;d++)JXG$1.isFunction(b[c+d])?_e[d]=b[c+d]():_e[d]=b[c+d];return _e[0]+(_e[1]-_e[0])*(o-c)}},generateTerm:function(e,s,a,o,h){var c,d;JXG$1.isArray(s)?(this.dataX=s,this.numberPoints=this.dataX.length,this.X=this.interpolationFunctionFromArray.apply(this,["X"]),this.visProp.curvetype="plot",this.isDraggable=!0):(this.X=JXG$1.createFunction(s,this.board,e),JXG$1.isString(s)?this.visProp.curvetype="functiongraph":(JXG$1.isFunction(s)||JXG$1.isNumber(s))&&(this.visProp.curvetype="parameter"),this.isDraggable=!0),JXG$1.isArray(a)?(this.dataY=a,this.Y=this.interpolationFunctionFromArray.apply(this,["Y"])):this.Y=JXG$1.createFunction(a,this.board,e),JXG$1.isFunction(s)&&JXG$1.isArray(a)&&(c=JXG$1.createFunction(a[0],this.board,""),d=JXG$1.createFunction(a[1],this.board,""),this.X=function(g){return s(g)*Math.cos(g)+c()},this.X.deps=c.deps,this.Y=function(g){return s(g)*Math.sin(g)+d()},this.Y.deps=d.deps,this.visProp.curvetype="polar"),JXG$1.exists(o)?this.minX=JXG$1.createFunction(o,this.board,""):delete this.minX,JXG$1.exists(h)?this.maxX=JXG$1.createFunction(h,this.board,""):delete this.maxX,this.addParentsFromJCFunctions([this.X,this.Y,this.minX,this.maxX])},notifyParents:function(e){var s,a,o=!1,h;h={xterm:1,yterm:1};for(s in h)if(h.hasOwnProperty(s)&&this.hasOwnProperty(s)&&this[s].origin){o=!0;for(a in this[s].origin.deps)this[s].origin.deps.hasOwnProperty(a)&&this[s].origin.deps[a].addChild(this)}o||GeonextParser.findDependencies(this,e,this.board)},getLabelAnchor:function(){var e,s,a,o,h,c,d,g,_,b,$=1.5,j,_e=.05*this.board.canvasWidth,et=.05*this.board.canvasHeight,tt=.95*this.board.canvasWidth,it=.95*this.board.canvasHeight;if(!JXG$1.exists(this.label))return new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(a=JXG$1.evaluate(this.label.visProp.position),!JXG$1.isString(a))return new Coords(Const.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(a.indexOf("right")<0&&a.indexOf("left")<0)switch(JXG$1.evaluate(this.visProp.label.position)){case"ulft":e=_e,s=et;break;case"llft":e=_e,s=it;break;case"rt":e=tt,s=.5*it;break;case"lrt":e=tt,s=it;break;case"urt":e=tt,s=et;break;case"top":e=.5*tt,s=et;break;case"bot":e=.5*tt,s=it;break;default:e=_e,s=.5*it}else return o=JXG$1.parsePosition(a),h=JXG$1.parseNumber(o.pos,this.maxX()-this.minX(),1),o.pos.indexOf("fr")<0&&o.pos.indexOf("%")<0&&(h=0),d=this.minX()+h,e=this.X(d),s=this.Y(d),j=new Coords(Const.COORDS_BY_USER,[e,s],this.board).scrCoords,c=Mat.eps,d<this.minX()+c?(g=(this.X(d+c)-this.X(d))/c,_=(this.Y(d+c)-this.Y(d))/c):d>this.maxX()-c?(g=(this.X(d)-this.X(d-c))/c,_=(this.Y(d)-this.Y(d-c))/c):(g=.5*(this.X(d+c)-this.X(d-c))/c,_=.5*(this.Y(d+c)-this.Y(d-c))/c),b=Mat.hypot(g,_),o.side==="left"?_*=-1:g*=-1,JXG$1.exists(this.label)&&($=.5*JXG$1.evaluate(this.label.visProp.distance)/b),e=j[1]+_*this.label.size[0]*$,s=j[2]-g*this.label.size[1]*$,new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board);return j=new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board,!1),Geometry.projectCoordsToCurve(j.usrCoords[1],j.usrCoords[2],0,this,this.board)[0]},cloneToBackground:function(){var e,s={id:this.id+"T"+this.numTraces,elementClass:Const.OBJECT_CLASS_CURVE,points:this.points.slice(0),bezierDegree:this.bezierDegree,numberPoints:this.numberPoints,board:this.board,visProp:JXG$1.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return s.visProp.layer=this.board.options.layer.trace,s.visProp.curvetype=this.visProp.curvetype,this.numTraces++,JXG$1.clearVisPropOld(s),s.visPropCalc={visible:JXG$1.evaluate(s.visProp.visible)},e=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawCurve(s),this.board.renderer.enhancedRendering=e,this.traces[s.id]=s.rendNode,this},bounds:function(){var e=1/0,s=-1/0,a=1/0,o=-1/0,h=this.points.length,c,d,g;if(this.bezierDegree===3){for(c=0;c<h;c++)this.points[c].X=JXG$1.bind(function(){return this.usrCoords[1]},this.points[c]),this.points[c].Y=JXG$1.bind(function(){return this.usrCoords[2]},this.points[c]);return d=Numerics.bezier(this.points),g=d[3](),e=Numerics.fminbr(function(_){return d[0](_)},[0,g]),s=Numerics.fminbr(function(_){return-d[0](_)},[0,g]),a=Numerics.fminbr(function(_){return d[1](_)},[0,g]),o=Numerics.fminbr(function(_){return-d[1](_)},[0,g]),e=d[0](e),s=d[0](s),a=d[1](a),o=d[1](o),[e,o,s,a]}for(c=0;c<h;c++)e>this.points[c].usrCoords[1]&&(e=this.points[c].usrCoords[1]),s<this.points[c].usrCoords[1]&&(s=this.points[c].usrCoords[1]),a>this.points[c].usrCoords[2]&&(a=this.points[c].usrCoords[2]),o<this.points[c].usrCoords[2]&&(o=this.points[c].usrCoords[2]);return[e,o,s,a]},getParents:function(){var e=[this.xterm,this.yterm,this.minX(),this.maxX()];return this.parents.length!==0&&(e=this.parents),e},moveTo:function(e){var s=[],a;return this.points.length>0&&!JXG$1.evaluate(this.visProp.fixed)?(a=this.points[0],e.length===3?s=[e[0]-a.usrCoords[0],e[1]-a.usrCoords[1],e[2]-a.usrCoords[2]]:s=[e[0]-a.usrCoords[1],e[1]-a.usrCoords[2]],this.setPosition(Const.COORDS_BY_USER,s),this.board.update(this)):this},getTransformationSource:function(){var e,s;return JXG$1.exists(this._transformationSource)&&(s=this._transformationSource,s.elementClass===Const.OBJECT_CLASS_CURVE&&(e=!0)),[e,s]}});JXG$1.createCurve=function(e,s,a){var o,h,c=JXG$1.copyAttributes(a,e.options,"curve");return o=e.select(s[0],!0),JXG$1.isTransformationOrArray(s[1])&&JXG$1.isObject(o)&&(o.type===Const.OBJECT_TYPE_CURVE||o.type===Const.OBJECT_TYPE_ANGLE||o.type===Const.OBJECT_TYPE_ARC||o.type===Const.OBJECT_TYPE_CONIC||o.type===Const.OBJECT_TYPE_SECTOR)?(o.type===Const.OBJECT_TYPE_SECTOR?c=JXG$1.copyAttributes(a,e.options,"sector"):o.type===Const.OBJECT_TYPE_ARC?c=JXG$1.copyAttributes(a,e.options,"arc"):o.type===Const.OBJECT_TYPE_ANGLE?(JXG$1.exists(a.withLabel)||(a.withLabel=!1),c=JXG$1.copyAttributes(a,e.options,"angle")):c=JXG$1.copyAttributes(a,e.options,"curve"),c=JXG$1.copyAttributes(c,e.options,"curve"),h=new JXG$1.Curve(e,["x",[],[]],c),h.updateDataArray=function(){var d,g=o.numberPoints;for(this.bezierDegree=o.bezierDegree,this.dataX=[],this.dataY=[],d=0;d<g;d++)this.dataX.push(o.points[d].usrCoords[1]),this.dataY.push(o.points[d].usrCoords[2]);return this},h.addTransform(s[1]),o.addChild(h),h.setParents([o]),h._transformationSource=o,h):(c=JXG$1.copyAttributes(a,e.options,"curve"),new JXG$1.Curve(e,["x"].concat(s),c))};JXG$1.registerElement("curve",JXG$1.createCurve);JXG$1.createFunctiongraph=function(e,s,a){var o,h=["x","x"].concat(s);return o=JXG$1.copyAttributes(a,e.options,"functiongraph"),o=JXG$1.copyAttributes(o,e.options,"curve"),o.curvetype="functiongraph",new JXG$1.Curve(e,h,o)};JXG$1.registerElement("functiongraph",JXG$1.createFunctiongraph);JXG$1.registerElement("plot",JXG$1.createFunctiongraph);JXG$1.createSpline=function(e,s,a){var o,h,c;return h=function(){var d,g=[],_=[];return[function(b,$){var j,_e,et;if(!$){if(g=[],_=[],s.length===2&&JXG$1.isArray(s[0])&&JXG$1.isArray(s[1])&&s[0].length===s[1].length)for(j=0;j<s[0].length;j++)JXG$1.isFunction(s[0][j])?g.push(s[0][j]()):g.push(s[0][j]),JXG$1.isFunction(s[1][j])?_.push(s[1][j]()):_.push(s[1][j]);else for(j=0;j<s.length;j++)if(JXG$1.isPoint(s[j]))g.push(s[j].X()),_.push(s[j].Y());else if(JXG$1.isArray(s[j])&&s[j].length===2)for(_e=0;_e<s.length;_e++)JXG$1.isFunction(s[_e][0])?g.push(s[_e][0]()):g.push(s[_e][0]),JXG$1.isFunction(s[_e][1])?_.push(s[_e][1]()):_.push(s[_e][1]);else JXG$1.isFunction(s[j])&&s[j]().length===2&&(et=s[j](),g.push(et[0]),_.push(et[1]));d=Numerics.splineDef(g,_)}return Numerics.splineEval(b,g,_,d)},function(){return g[0]},function(){return g[g.length-1]}]},a=JXG$1.copyAttributes(a,e.options,"curve"),a.curvetype="functiongraph",c=h(),o=new JXG$1.Curve(e,["x","x",c[0],c[1],c[2]],a),o.setParents(s),o.elType="spline",o};JXG$1.registerElement("spline",JXG$1.createSpline);JXG$1.createCardinalSpline=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et=`
Possible parent types: [points:array, tau:number|function, type:string]`;if(!JXG$1.exists(s[0])||!JXG$1.isArray(s[0]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 1 'points' has to be array of points or coordinate pairs"+et);if(!JXG$1.exists(s[1])||!JXG$1.isNumber(s[1])&&!JXG$1.isFunction(s[1]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 2 'tau' has to be number between [0,1] or function'"+et);if(!JXG$1.exists(s[2])||!JXG$1.isString(s[2]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 3 'type' has to be string 'uniform' or 'centripetal'"+et);if(a=JXG$1.copyAttributes(a,e.options,"curve"),a=JXG$1.copyAttributes(a,e.options,"cardinalspline"),a.curvetype="parameter",_=s[0],b=[],!a.isarrayofcoordinates&&_.length===2&&JXG$1.isArray(_[0])&&JXG$1.isArray(_[1])&&_[0].length===_[1].length)for($=0;$<_[0].length;$++)b[$]=[],JXG$1.isFunction(_[0][$])?b[$].push(_[0][$]()):b[$].push(_[0][$]),JXG$1.isFunction(_[1][$])?b[$].push(_[1][$]()):b[$].push(_[1][$]);else for($=0;$<_.length;$++)JXG$1.isString(_[$])?b.push(e.select(_[$])):JXG$1.isPoint(_[$])?b.push(_[$]):JXG$1.isArray(_[$])&&_[$].length===2?(b[$]=[],JXG$1.isFunction(_[$][0])?b[$].push(_[$][0]()):b[$].push(_[$][0]),JXG$1.isFunction(_[$][1])?b[$].push(_[$][1]()):b[$].push(_[$][1])):JXG$1.isFunction(_[$])&&_[$]().length===2&&b.push(s[$]());if(a.createpoints===!0)c=JXG$1.providePoints(e,b,a,"cardinalspline",["points"]);else for(c=[],h=function(tt){return{X:function(){return b[tt][0]},Y:function(){return b[tt][1]},Dist:function(it){var at=this.X()-it.X(),nt=this.Y()-it.Y();return Mat.hypot(at,nt)}}},$=0;$<b.length;$++)JXG$1.isPoint(b[$])?c.push(b[$]):c.push(h($));for(d=s[1],g=s[2],_e=["x"].concat(Numerics.CardinalSpline(c,d,g)),o=new JXG$1.Curve(e,_e,a),j=c.length,o.setParents(c),$=0;$<j;$++)_=c[$],JXG$1.isPoint(_)&&(JXG$1.exists(_._is_new)?(o.addChild(_),delete _._is_new):_.addChild(o));return o.elType="cardinalspline",o};JXG$1.registerElement("cardinalspline",JXG$1.createCardinalSpline);JXG$1.createMetapostSpline=function(e,s,a){var o,h,c,d,g,_,b,$,j=`
Possible parent types: [points:array, controls:object`;if(!JXG$1.exists(s[0])||!JXG$1.isArray(s[0]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 1 'points' has to be array of points or coordinate pairs"+j);if(!JXG$1.exists(s[1])||!JXG$1.isObject(s[1]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 2 'controls' has to be a JavaScript object'"+j);if(a=JXG$1.copyAttributes(a,e.options,"curve"),a=JXG$1.copyAttributes(a,e.options,"metapostspline"),a.curvetype="parameter",g=s[0],_=[],!a.isarrayofcoordinates&&g.length===2&&JXG$1.isArray(g[0])&&JXG$1.isArray(g[1])&&g[0].length===g[1].length)for(b=0;b<g[0].length;b++)_[b]=[],JXG$1.isFunction(g[0][b])?_[b].push(g[0][b]()):_[b].push(g[0][b]),JXG$1.isFunction(g[1][b])?_[b].push(g[1][b]()):_[b].push(g[1][b]);else for(b=0;b<g.length;b++)JXG$1.isString(g[b])?_.push(e.select(g[b])):JXG$1.isPoint(g[b])?_.push(g[b]):JXG$1.isArray(g[b])&&g[b].length===2?(_[b]=[],JXG$1.isFunction(g[b][0])?_[b].push(g[b][0]()):_[b].push(g[b][0]),JXG$1.isFunction(g[b][1])?_[b].push(g[b][1]()):_[b].push(g[b][1])):JXG$1.isFunction(g[b])&&g[b]().length===2&&_.push(s[b]());if(a.createpoints===!0)c=JXG$1.providePoints(e,_,a,"metapostspline",["points"]);else for(c=[],h=function(_e){return{X:function(){return _[_e][0]},Y:function(){return _[_e][1]}}},b=0;b<_.length;b++)JXG$1.isPoint(_[b])?c.push(_[b]):c.push(h);for(d=s[1],o=new JXG$1.Curve(e,["t",[],[],0,g.length-1],a),o.updateDataArray=function(){var _e,et,tt=c.length,it=[];for(et=0;et<tt;et++)it.push([c[et].X(),c[et].Y()]);_e=Metapost.curve(it,d),this.dataX=_e[0],this.dataY=_e[1]},o.bezierDegree=3,$=c.length,o.setParents(c),b=0;b<$;b++)JXG$1.isPoint(c[b])&&c[b].addChild(o);return o.elType="metapostspline",o};JXG$1.registerElement("metapostspline",JXG$1.createMetapostSpline);JXG$1.createRiemannsum=function(e,s,a){var o,h,c,d,g,_;if(_=JXG$1.copyAttributes(a,e.options,"riemannsum"),_.curvetype="plot",c=s[0],o=JXG$1.createFunction(s[1],e,""),!JXG$1.exists(o))throw new Error(`JSXGraph: JXG.createRiemannsum: argument '2' n has to be number or function.
Possible parent types: [function,n:number|function,type,start:number|function,end:number|function]`);if(typeof s[2]=="string"&&(s[2]="'"+s[2]+"'"),h=JXG$1.createFunction(s[2],e,""),!JXG$1.exists(h))throw new Error(`JSXGraph: JXG.createRiemannsum: argument 3 'type' has to be string or function.
Possible parent types: [function,n:number|function,type,start:number|function,end:number|function]`);return d=[[0],[0]].concat(s.slice(3)),g=e.create("curve",d,_),g.sum=0,g.Value=function(){return this.sum},g.updateDataArray=function(){var b=Numerics.riemann(c,o(),h(),this.minX(),this.maxX());this.dataX=b[0],this.dataY=b[1],this.sum=b[2]},g.addParentsFromJCFunctions([o,h]),g};JXG$1.registerElement("riemannsum",JXG$1.createRiemannsum);JXG$1.createTracecurve=function(e,s,a){var o,h,c,d;if(s.length!==2)throw new Error(`JSXGraph: Can't create trace curve with given parent'
Possible parent types: [glider, point]`);if(h=e.select(s[0]),c=e.select(s[1]),h.type!==Const.OBJECT_TYPE_GLIDER||!JXG$1.isPoint(c))throw new Error("JSXGraph: Can't create trace curve with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [glider, point]`);return d=JXG$1.copyAttributes(a,e.options,"tracecurve"),d.curvetype="plot",o=e.create("curve",[[0],[0]],d),o.updateDataArray=function(){var g,_,b,$,j,_e,et,tt,it,at=d.numberpoints,nt=h.position,st=h.slideObject,rt=st.minX(),lt=st.maxX();for(_=(lt-rt)/at,this.dataX=[],this.dataY=[],st.elementClass!==Const.OBJECT_CLASS_CURVE&&at++,g=0;g<at;g++){b=rt+g*_,_e=st.X(b)/st.Z(b),et=st.Y(b)/st.Z(b),h.setPositionDirectly(Const.COORDS_BY_USER,[_e,et]),tt=!1;for($ in this.board.objects)if(this.board.objects.hasOwnProperty($)&&(j=this.board.objects[$],j===h&&(tt=!0),tt&&j.needsRegularUpdate&&(it=j.visProp.trace,j.visProp.trace=!1,j.needsUpdate=!0,j.update(!0),j.visProp.trace=it,j===c)))break;this.dataX[g]=c.X(),this.dataY[g]=c.Y()}h.position=nt,tt=!1;for($ in this.board.objects)if(this.board.objects.hasOwnProperty($)&&(j=this.board.objects[$],j===h&&(tt=!0),tt&&j.needsRegularUpdate&&(it=j.visProp.trace,j.visProp.trace=!1,j.needsUpdate=!0,j.update(!0),j.visProp.trace=it,j===c)))break},o};JXG$1.registerElement("tracecurve",JXG$1.createTracecurve);JXG$1.createStepfunction=function(e,s,a){var o,h;if(s.length!==2)throw new Error(`JSXGraph: Can't create step function with given parent'
Possible parent types: [array, array|function]`);return h=JXG$1.copyAttributes(a,e.options,"stepfunction"),o=e.create("curve",s,h),o.updateDataArray=function(){var c,d=0,g=this.xterm.length;if(this.dataX=[],this.dataY=[],g!==0)for(this.dataX[d]=this.xterm[0],this.dataY[d]=this.yterm[0],++d,c=1;c<g;++c)this.dataX[d]=this.xterm[c],this.dataY[d]=this.dataY[d-1],++d,this.dataX[d]=this.xterm[c],this.dataY[d]=this.yterm[c],++d},o};JXG$1.registerElement("stepfunction",JXG$1.createStepfunction);JXG$1.createDerivative=function(e,s,a){var o,h,c,d,g;if(s.length!==1&&s[0].class!==Const.OBJECT_CLASS_CURVE)throw new Error(`JSXGraph: Can't create derivative curve with given parent'
Possible parent types: [curve]`);return g=JXG$1.copyAttributes(a,e.options,"curve"),h=s[0],c=Numerics.D(h.X),d=Numerics.D(h.Y),o=e.create("curve",[function(_){return h.X(_)},function(_){return d(_)/c(_)},h.minX(),h.maxX()],g),o.setParents(h),o};JXG$1.registerElement("derivative",JXG$1.createDerivative);JXG$1.createCurveIntersection=function(e,s,a){var o;if(s.length!==2)throw new Error(`JSXGraph: Can't create curve intersection with given parent'
Possible parent types: [array, array|function]`);return o=e.create("curve",[[],[]],a),o.updateDataArray=function(){var h=Clip.intersection(s[0],s[1],this.board);this.dataX=h[0],this.dataY=h[1]},o};JXG$1.createCurveUnion=function(e,s,a){var o;if(s.length!==2)throw new Error(`JSXGraph: Can't create curve union with given parent'
Possible parent types: [array, array|function]`);return o=e.create("curve",[[],[]],a),o.updateDataArray=function(){var h=Clip.union(s[0],s[1],this.board);this.dataX=h[0],this.dataY=h[1]},o};JXG$1.createCurveDifference=function(e,s,a){var o;if(s.length!==2)throw new Error(`JSXGraph: Can't create curve difference with given parent'
Possible parent types: [array, array|function]`);return o=e.create("curve",[[],[]],a),o.updateDataArray=function(){var h=Clip.difference(s[0],s[1],this.board);this.dataX=h[0],this.dataY=h[1]},o};JXG$1.registerElement("curvedifference",JXG$1.createCurveDifference);JXG$1.registerElement("curveintersection",JXG$1.createCurveIntersection);JXG$1.registerElement("curveunion",JXG$1.createCurveUnion);JXG$1.createBoxPlot=function(e,s,a){var o,h,c,d=JXG$1.copyAttributes(a,e.options,"boxplot");if(s.length!==3)throw new Error(`JSXGraph: Can't create box plot with given parent'
Possible parent types: [array, number|function, number|function] containing quantiles, axis, width`);if(s[0].length<5)throw new Error(`JSXGraph: Can't create box plot with given parent[0]'
parent[0] has to contain at least 5 quantiles.`);for(o=e.create("curve",[[],[]],d),c=s[0].length,o.Q=[],h=0;h<c;h++)o.Q[h]=JXG$1.createFunction(s[0][h],e);return o.x=JXG$1.createFunction(s[1],e),o.w=JXG$1.createFunction(s[2],e),o.updateDataArray=function(){var g,_,b,$,j,_e,et,tt,it;et=JXG$1.evaluate(this.visProp.smallwidth),tt=JXG$1.evaluate(this.visProp.dir),it=this.x(),b=it-this.w()*.5,$=it-this.w()*.5*et,j=it+this.w()*.5,_e=it+this.w()*.5*et,g=[it,$,_e,it,it,b,b,j,j,it,NaN,b,j,NaN,it,it,$,_e,it],_=[this.Q[0](),this.Q[0](),this.Q[0](),this.Q[0](),this.Q[1](),this.Q[1](),this.Q[3](),this.Q[3](),this.Q[1](),this.Q[1](),NaN,this.Q[2](),this.Q[2](),NaN,this.Q[3](),this.Q[4](),this.Q[4](),this.Q[4](),this.Q[4]()],tt==="vertical"?(this.dataX=g,this.dataY=_):(this.dataX=_,this.dataY=g)},o.addParentsFromJCFunctions([o.Q,o.x,o.w]),o};JXG$1.registerElement("boxplot",JXG$1.createBoxPlot);JXG$1.createImplicitCurve=function(e,s,a){var o,h;if([1,3,5].indexOf(s.length)<0)throw new Error(`JSXGraph: Can't create curve implicitCurve with given parent'
Possible parent types: [f], [f, rangex, rangey], [f, dfx, dfy] or [f, dfx, dfy, rangex, rangey]
with functions f, dfx, dfy and arrays of length 2 rangex, rangey.`);return h=JXG$1.copyAttributes(a,e.options,"implicitcurve"),o=e.create("curve",[[],[]],h),o.f=JXG$1.createFunction(s[0],e,"x, y"),o.dfx=JXG$1.createFunction(s[1],e,"x, y"),o.dfy=JXG$1.createFunction(s[2],e,"x, y"),o.domain=null,s.length===5?o.domain=[s[3],s[4]]:s.length===3&&(o.domain=[s[1],s[2]]),o.updateDataArray=function(){var c,d,g,_,b,$=[],j;this.domain===null?(j=JXG$1.evaluate(this.visProp.margin),c=this.board.getBoundingBox(),c[0]-=j,c[1]+=j,c[2]+=j,c[3]-=j):(d=JXG$1.evaluate(this.domain[0]),g=JXG$1.evaluate(this.domain[1]),c=[d[0],g[1],d[1],g[0]]),b={resolution_out:Math.max(.01,JXG$1.evaluate(this.visProp.resolution_outer)),resolution_in:Math.max(.01,JXG$1.evaluate(this.visProp.resolution_inner)),max_steps:JXG$1.evaluate(this.visProp.max_steps),alpha_0:JXG$1.evaluate(this.visProp.alpha_0),tol_u0:JXG$1.evaluate(this.visProp.tol_u0),tol_newton:JXG$1.evaluate(this.visProp.tol_newton),tol_cusp:JXG$1.evaluate(this.visProp.tol_cusp),tol_progress:JXG$1.evaluate(this.visProp.tol_progress),qdt_box:JXG$1.evaluate(this.visProp.qdt_box),kappa_0:JXG$1.evaluate(this.visProp.kappa_0),delta_0:JXG$1.evaluate(this.visProp.delta_0),h_initial:JXG$1.evaluate(this.visProp.h_initial),h_critical:JXG$1.evaluate(this.visProp.h_critical),h_max:JXG$1.evaluate(this.visProp.h_max),loop_dist:JXG$1.evaluate(this.visProp.loop_dist),loop_dir:JXG$1.evaluate(this.visProp.loop_dir),loop_detection:JXG$1.evaluate(this.visProp.loop_detection),unitX:this.board.unitX,unitY:this.board.unitY},this.dataX=[],this.dataY=[],_=new ImplicitPlot(c,b,this.f,this.dfx,this.dfy),this.qdt=_.qdt,$=_.plot(),this.dataX=$[0],this.dataY=$[1]},o.elType="implicitcurve",o};JXG$1.registerElement("implicitcurve",JXG$1.createImplicitCurve);JXG$1.Curve;JXG$1.createArc=function(e,s,a){var o,h,c;if(c=JXG$1.providePoints(e,s,a,"arc",["center","radiuspoint","anglepoint"]),c===!1||c.length<3)throw new Error("JSXGraph: Can't create Arc with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point], [arc, transformation]`);return h=JXG$1.copyAttributes(a,e.options,"arc"),o=e.create("curve",[[0],[0]],h),o.elType="arc",o.setParents(c),o.type=Const.OBJECT_TYPE_ARC,o.center=c[0],o.radiuspoint=c[1],o.point2=o.radiuspoint,o.anglepoint=c[2],o.point3=o.anglepoint,JXG$1.exists(o.center._is_new)?(o.addChild(o.center),delete o.center._is_new):o.center.addChild(o),JXG$1.exists(o.radiuspoint._is_new)?(o.addChild(o.radiuspoint),delete o.radiuspoint._is_new):o.radiuspoint.addChild(o),JXG$1.exists(o.anglepoint._is_new)?(o.addChild(o.anglepoint),delete o.anglepoint._is_new):o.anglepoint.addChild(o),o.useDirection=h.usedirection,o.updateDataArray=function(){var d,g,_,b,$,j,_e=1,et=this.radiuspoint,tt=this.center,it=this.anglepoint,at=JXG$1.evaluate(this.visProp.selection);g=Geometry.rad(et,tt,it),(at==="minor"&&g>Math.PI||at==="major"&&g<Math.PI)&&(_e=-1),this.useDirection&&(b=c[1].coords.usrCoords,$=c[3].coords.usrCoords,j=c[2].coords.usrCoords,_=(b[1]-j[1])*(b[2]-$[2])-(b[2]-j[2])*(b[1]-$[1]),_<0?(this.radiuspoint=c[1],this.anglepoint=c[2]):(this.radiuspoint=c[2],this.anglepoint=c[1])),et=et.coords.usrCoords,tt=tt.coords.usrCoords,it=it.coords.usrCoords,d=Geometry.bezierArc(et,tt,it,!1,_e),this.dataX=d[0],this.dataY=d[1],this.bezierDegree=3,this.updateStdform(),this.updateQuadraticform()},o.Radius=function(){return this.radiuspoint.Dist(this.center)},o.getRadius=function(){return JXG$1.deprecated("Arc.getRadius()","Arc.Radius()"),this.Radius()},o.Value=function(d,g){var _;return g=g||Geometry.rad(this.radiuspoint,this.center,this.anglepoint),d=d||"length",d=d.toLocaleLowerCase(),d===""||d.indexOf("len")===0?_=g*this.Radius():d.indexOf("rad")===0?_=g:d.indexOf("deg")===0?_=g*180/Math.PI:d.indexOf("sem")===0?_=g/Math.PI:d.indexOf("cir")===0&&(_=g*.5/Math.PI),_},o.L=function(){return this.Value("length")},o.hasPoint=function(d,g){var _,b,$,j,_e,et,tt,it=this.Radius();return JXG$1.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(d,g):(JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(tt=this.board._inputDevice,et=JXG$1.evaluate(this.visProp.precision[tt])):et=this.board.options.precision.hasPoint,et/=Math.min(Math.abs(this.board.unitX),Math.abs(this.board.unitY)),b=new Coords(Const.COORDS_BY_SCREEN,[d,g],this.board),this.transformations.length>0&&(this.updateTransformMatrix(),j=Mat.inverse(this.transformMat),_e=Mat.matVecMult(j,b.usrCoords),b=new Coords(Const.COORDS_BY_USER,_e,this.board)),_=this.center.coords.distance(Const.COORDS_BY_USER,b),$=Math.abs(_-it)<et,$&&($=Geometry.coordsOnArc(this,b)),$)},o.hasPointSector=function(d,g){var _=new Coords(Const.COORDS_BY_SCREEN,[d,g],this.board),b=this.Radius(),$=this.center.coords.distance(Const.COORDS_BY_USER,_),j=$<b;return j&&(j=Geometry.coordsOnArc(this,_)),j},o.getTextAnchor=function(){return this.center.coords},o.getLabelAnchor=function(){var d,g,_,b,$,j=Geometry.rad(this.radiuspoint,this.center,this.anglepoint),_e=10/this.board.unitX,et=10/this.board.unitY,tt=this.point2.coords.usrCoords,it=this.center.coords.usrCoords,at=tt[1]-it[1],nt=tt[2]-it[2],st=JXG$1.evaluate(this.visProp.selection),rt=this.label?this.label.visProp:this.visProp.label;return(st==="minor"&&j>Math.PI||st==="major"&&j<Math.PI)&&(j=-(2*Math.PI-j)),d=new Coords(Const.COORDS_BY_USER,[it[1]+Math.cos(j*.5)*at-Math.sin(j*.5)*nt,it[2]+Math.sin(j*.5)*at+Math.cos(j*.5)*nt],this.board),_=d.usrCoords[1]-it[1],b=d.usrCoords[2]-it[2],$=Mat.hypot(_,b),_=_*($+_e)/$,b=b*($+et)/$,g=[it[1]+_,it[2]+b],rt.position=Geometry.calcLabelQuadrant(Geometry.rad([1,0],[0,0],g)),new Coords(Const.COORDS_BY_USER,g,this.board)},o.updateQuadraticform=Circle.prototype.updateQuadraticform,o.updateStdform=Circle.prototype.updateStdform,o.methodMap=JXG$1.deepCopy(o.methodMap,{getRadius:"getRadius",radius:"Radius",Radius:"Radius",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",Value:"Value",L:"L"}),o.prepareUpdate().update(),o};JXG$1.registerElement("arc",JXG$1.createArc);JXG$1.createSemicircle=function(e,s,a){var o,h,c,d;if(d=JXG$1.providePoints(e,s,a,"point"),d===!1||d.length!==2)throw new Error("JSXGraph: Can't create Semicircle with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point]`);return c=JXG$1.copyAttributes(a,e.options,"semicircle","center"),h=e.create("midpoint",d,c),h.dump=!1,c=JXG$1.copyAttributes(a,e.options,"semicircle"),o=e.create("arc",[h,d[1],d[0]],c),o.elType="semicircle",o.setParents([d[0].id,d[1].id]),o.subs={midpoint:h},o.inherits.push(h),o.midpoint=o.center=h,o};JXG$1.registerElement("semicircle",JXG$1.createSemicircle);JXG$1.createCircumcircleArc=function(e,s,a){var o,h,c,d;if(d=JXG$1.providePoints(e,s,a,"point"),d===!1||d.length!==3)throw new Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point]`);return c=JXG$1.copyAttributes(a,e.options,"circumcirclearc","center"),h=e.create("circumcenter",d,c),h.dump=!1,c=JXG$1.copyAttributes(a,e.options,"circumcirclearc"),c.usedirection=!0,o=e.create("arc",[h,d[0],d[2],d[1]],c),o.elType="circumcirclearc",o.setParents([d[0].id,d[1].id,d[2].id]),o.subs={center:h},o.inherits.push(h),o.center=h,o};JXG$1.registerElement("circumcirclearc",JXG$1.createCircumcircleArc);JXG$1.createMinorArc=function(e,s,a){return a.selection="minor",JXG$1.createArc(e,s,a)};JXG$1.registerElement("minorarc",JXG$1.createMinorArc);JXG$1.createMajorArc=function(e,s,a){return a.selection="major",JXG$1.createArc(e,s,a)};JXG$1.registerElement("majorarc",JXG$1.createMajorArc);JXG$1.createSector=function(e,s,a){var o,h,c,d="invalid",g,_,b=["center","radiusPoint","anglePoint"],$;if(s[0].elementClass===Const.OBJECT_CLASS_LINE&&s[1].elementClass===Const.OBJECT_CLASS_LINE&&(JXG$1.isArray(s[2])||JXG$1.isNumber(s[2]))&&(JXG$1.isArray(s[3])||JXG$1.isNumber(s[3]))&&(JXG$1.isNumber(s[4])||JXG$1.isFunction(s[4])||JXG$1.isString(s[4])))d="2lines";else{if($=JXG$1.providePoints(e,s,a,"sector",b),$===!1)throw new Error("JSXGraph: Can't create Sector with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+"'.");d="3points"}if(h=JXG$1.copyAttributes(a,e.options,"sector"),o=e.create("curve",[[0],[0]],h),o.type=Const.OBJECT_TYPE_SECTOR,o.elType="sector",o.autoRadius=function(){var j=20/o.board.unitX,_e=1/0,et=50/o.board.unitX;return JXG$1.isPoint(o.center)&&(_e=o.center.Dist(o.point2)*.3333),Math.max(j,Math.min(_e,et))},d==="2lines")o.Radius=function(){var j=JXG$1.evaluate(s[4]);return j==="auto"?this.autoRadius():j},o.line1=e.select(s[0]),o.line2=e.select(s[1]),o.line1.addChild(o),o.line2.addChild(o),o.setParents(s),o.point1={visProp:{}},o.point2={visProp:{}},o.point3={visProp:{}},g=Geometry.meetLineLine(o.line1.stdform,o.line2.stdform,0,e),JXG$1.isArray(s[2])?(s[2].length===2&&(s[2]=[1].concat(s[2])),_=Geometry.projectPointToLine({coords:{usrCoords:s[2]}},o.line1,e),_=Statistics.subtract(_.usrCoords,g.usrCoords),o.direction1=Mat.innerProduct(_,[0,o.line1.stdform[2],-o.line1.stdform[1]],3)>=0?1:-1):o.direction1=s[2]>=0?1:-1,JXG$1.isArray(s[3])?(s[3].length===2&&(s[3]=[1].concat(s[3])),_=Geometry.projectPointToLine({coords:{usrCoords:s[3]}},o.line2,e),_=Statistics.subtract(_.usrCoords,g.usrCoords),o.direction2=Mat.innerProduct(_,[0,o.line2.stdform[2],-o.line2.stdform[1]],3)>=0?1:-1):o.direction2=s[3]>=0?1:-1,o.methodMap=JXG$1.deepCopy(o.methodMap,{arc:"arc",center:"center",line1:"line1",line2:"line2"}),o.updateDataArray=function(){var j,_e,et,tt=[0,0,0],it=[0,0,0],at=[0,0,0],nt;if(_e=this.line1,et=this.line2,it=Mat.crossProduct(_e.stdform,et.stdform),Math.abs(it[0])>Mat.eps*Mat.eps&&(it[1]/=it[0],it[2]/=it[0],it[0]/=it[0]),j=this.direction1*this.Radius(),tt=Statistics.add(it,[0,j*_e.stdform[2],-j*_e.stdform[1]]),j=this.direction2*this.Radius(),at=Statistics.add(it,[0,j*et.stdform[2],-j*et.stdform[1]]),this.point2.coords=new Coords(Const.COORDS_BY_USER,tt,o.board),this.point1.coords=new Coords(Const.COORDS_BY_USER,it,o.board),this.point3.coords=new Coords(Const.COORDS_BY_USER,at,o.board),Math.abs(tt[0])<Mat.eps||Math.abs(it[0])<Mat.eps||Math.abs(at[0])<Mat.eps){this.dataX=[NaN],this.dataY=[NaN];return}nt=Geometry.bezierArc(tt,it,at,!0,1),this.dataX=nt[0],this.dataY=nt[1],this.bezierDegree=3};else if(d==="3points"){for(o.point1=$[0],o.point2=$[1],o.point3=$[2],c=0;c<3;c++)JXG$1.exists($[c]._is_new)?(o.addChild($[c]),delete $[c]._is_new):$[c].addChild(o);o.useDirection=a.usedirection,o.setParents($),JXG$1.exists($[3])&&(o.point4=$[3],o.point4.addChild(o)),o.methodMap=JXG$1.deepCopy(o.methodMap,{arc:"arc",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint"}),o.updateDataArray=function(){var j,_e,et,tt,it,at=this.point2,nt=this.point1,st=this.point3,rt,lt=1,ot=JXG$1.evaluate(this.visProp.selection);if(!at.isReal||!nt.isReal||!st.isReal){this.dataX=[NaN],this.dataY=[NaN];return}rt=Geometry.rad(at,nt,st),(ot==="minor"&&rt>Math.PI||ot==="major"&&rt<Math.PI)&&(lt=-1),this.useDirection&&JXG$1.exists(this.point4)&&(et=this.point2.coords.usrCoords,tt=this.point4.coords.usrCoords,it=this.point3.coords.usrCoords,_e=(et[1]-it[1])*(et[2]-tt[2])-(et[2]-it[2])*(et[1]-tt[1]),_e>=0&&(st=this.point2,at=this.point3)),at=at.coords.usrCoords,nt=nt.coords.usrCoords,st=st.coords.usrCoords,j=Geometry.bezierArc(at,nt,st,!0,lt),this.dataX=j[0],this.dataY=j[1],this.bezierDegree=3},o.Radius=function(){return this.point2.Dist(this.point1)}}return o.center=o.point1,o.radiuspoint=o.point2,o.anglepoint=o.point3,h=JXG$1.copyAttributes(a,e.options,"arc"),h=JXG$1.copyAttributes(h,e.options,"sector","arc"),h.withLabel=!1,h.selection=o.visProp.selection,h.name+="_arc",d==="2lines"?(o.updateDataArray(),o.arc=e.create("arc",[function(){return o.point1.coords.usrCoords},function(){var j=o.point2.coords.distance(Const.COORDS_BY_USER,o.point1.coords);return j===0?[o.point1.coords.usrCoords[1],o.point1.coords.usrCoords[2]]:[o.point1.coords.usrCoords[1]+o.Radius()*(o.point2.coords.usrCoords[1]-o.point1.coords.usrCoords[1])/j,o.point1.coords.usrCoords[2]+o.Radius()*(o.point2.coords.usrCoords[2]-o.point1.coords.usrCoords[2])/j]},function(){return o.point3.coords.usrCoords}],h)):o.arc=e.create("arc",[o.point1,function(){var j=o.point2.Dist(o.point1);return j===0?[o.point1.X(),o.point1.Y()]:[o.point1.X()+o.Radius()*(o.point2.X()-o.point1.X())/j,o.point1.Y()+o.Radius()*(o.point2.Y()-o.point1.Y())/j]},o.point3],h),o.addChild(o.arc),o.hasPointCurve=function(j,_e){var et,tt,it,at,nt,st=new Coords(Const.COORDS_BY_SCREEN,[j,_e],this.board),rt=this.Radius(),lt=this.center.coords.distance(Const.COORDS_BY_USER,st),ot,ht=JXG$1.evaluate(this.visProp.selection);return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(nt=this.board._inputDevice,at=JXG$1.evaluate(this.visProp.precision[nt])):at=this.board.options.precision.hasPoint,at/=Math.min(Math.abs(this.board.unitX),Math.abs(this.board.unitY)),ot=Math.abs(lt-rt)<at,ot&&(et=Geometry.rad(this.point2,this.center,st.usrCoords.slice(1)),tt=0,it=Geometry.rad(this.point2,this.center,this.point3),(ht==="minor"&&it>Math.PI||ht==="major"&&it<Math.PI)&&(tt=it,it=2*Math.PI),(et<tt||et>it)&&(ot=!1)),ot},o.hasPointSector=function(j,_e){var et,tt=new Coords(Const.COORDS_BY_SCREEN,[j,_e],this.board),it=this.Radius(),at=this.point1.coords.distance(Const.COORDS_BY_USER,tt),nt,st,rt=at<it,lt=JXG$1.evaluate(this.visProp.selection);return rt&&(et=Geometry.rad(this.radiuspoint,this.center,tt.usrCoords.slice(1)),nt=0,st=Geometry.rad(this.radiuspoint,this.center,this.anglepoint),(lt==="minor"&&st>Math.PI||lt==="major"&&st<Math.PI)&&(nt=st,st=2*Math.PI),(et<nt||et>st)&&(rt=!1)),rt},o.hasPoint=function(j,_e){return JXG$1.evaluate(this.visProp.highlightonsector)||JXG$1.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(j,_e):this.hasPointCurve(j,_e)},o.getTextAnchor=function(){return this.point1.coords},o.getLabelAnchor=function(){var j,_e,et,tt,it,at=Geometry.rad(this.point2,this.point1,this.point3),nt=13/this.board.unitX,st=13/this.board.unitY,rt=this.point2.coords.usrCoords,lt=this.point1.coords.usrCoords,ot=rt[1]-lt[1],ht=rt[2]-lt[2],ct=JXG$1.evaluate(this.visProp.selection),ut=this.label?this.label.visProp:this.visProp.label;return(ct==="minor"&&at>Math.PI||ct==="major"&&at<Math.PI)&&(at=-(2*Math.PI-at)),j=new Coords(Const.COORDS_BY_USER,[lt[1]+Math.cos(at*.5)*ot-Math.sin(at*.5)*ht,lt[2]+Math.sin(at*.5)*ot+Math.cos(at*.5)*ht],this.board),et=j.usrCoords[1]-lt[1],tt=j.usrCoords[2]-lt[2],it=Mat.hypot(et,tt),et=et*(it+nt)/it,tt=tt*(it+st)/it,_e=[lt[1]+et,lt[2]+tt],ut.position=Geometry.calcLabelQuadrant(Geometry.rad([1,0],[0,0],_e)),new Coords(Const.COORDS_BY_USER,_e,this.board)},o.setRadius=function(j){var _e,et=JXG$1.evaluate(j);j==="auto"||et==="auto"?_e="auto":JXG$1.isNumber(j)?_e="number":JXG$1.isFunction(j)&&!JXG$1.isString(et)?_e="function":_e="undefined",_e!=="undefined"&&(this.visProp.radius=j),o.Radius=function(){var tt=JXG$1.evaluate(j);return tt==="auto"?this.autoRadius():tt}},o.getRadius=function(){return JXG$1.deprecated("Sector.getRadius()","Sector.Radius()"),this.Radius()},o.Value=function(j){return this.arc.Value(j)},o.L=function(){return this.arc.L()},o.Area=function(){var j=this.Radius();return .5*j*j*this.Value("radians")},o.Perimeter=function(){return this.L()+2*this.Radius()},d==="3points"&&(o.setPositionDirectly=function(j,_e,et){var tt,it,at=new Coords(j,_e,this.board),nt=new Coords(j,et,this.board);return!o.point1.draggable()||!o.point2.draggable()||!o.point3.draggable()?this:(tt=Statistics.subtract(at.usrCoords,nt.usrCoords),it=this.board.create("transform",tt.slice(1),{type:"translate"}),it.applyOnce([o.point1,o.point2,o.point3]),this)}),o.methodMap=JXG$1.deepCopy(o.methodMap,{radius:"Radius",Radius:"Radius",getRadius:"Radius",setRadius:"setRadius",Value:"Value",L:"L",Area:"Area",Perimeter:"Perimeter"}),o};JXG$1.registerElement("sector",JXG$1.createSector);JXG$1.createCircumcircleSector=function(e,s,a){var o,h,c,d;if(d=JXG$1.providePoints(e,s,a,"point"),d===!1)throw new Error("JSXGraph: Can't create circumcircle sector with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+"'.");return h=e.create("circumcenter",d.slice(0,3),c),h.dump=!1,c=JXG$1.copyAttributes(a,e.options,"circumcirclesector"),o=e.create("sector",[h,d[0],d[2],d[1]],c),o.elType="circumcirclesector",o.setParents(d),o.center=h,o.subs={center:h},o};JXG$1.registerElement("circumcirclesector",JXG$1.createCircumcircleSector);JXG$1.createMinorSector=function(e,s,a){return a.selection="minor",JXG$1.createSector(e,s,a)};JXG$1.registerElement("minorsector",JXG$1.createMinorSector);JXG$1.createMajorSector=function(e,s,a){return a.selection="major",JXG$1.createSector(e,s,a)};JXG$1.registerElement("majorsector",JXG$1.createMajorSector);JXG$1.createAngle=function(e,s,a){var o,h,c,d,g,_,b="invalid";if(s[0].elementClass===Const.OBJECT_CLASS_LINE&&s[1].elementClass===Const.OBJECT_CLASS_LINE&&(JXG$1.isArray(s[2])||JXG$1.isNumber(s[2]))&&(JXG$1.isArray(s[3])||JXG$1.isNumber(s[3])))b="2lines";else{if(c={name:""},_=JXG$1.providePoints(e,s,c,"point"),_===!1)throw new Error("JSXGraph: Can't create angle with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"' and '"+typeof s[2]+"'.");b="3points"}if(c=JXG$1.copyAttributes(a,e.options,"angle"),JXG$1.exists(c.name)||(c.name=e.generateName({type:Const.OBJECT_TYPE_ANGLE})),JXG$1.exists(c.radius)?h=c.radius:h=0,e.suspendUpdate(),b==="2lines"?(s.push(h),o=e.create("sector",s,c),o.updateDataArraySector=o.updateDataArray,o.setAngle=function($){},o.free=function($){}):(o=e.create("sector",[_[1],_[0],_[2]],c),o.arc.visProp.priv=!0,o.point=o.point2=o.radiuspoint=_[0],o.pointsquare=o.point3=o.anglepoint=_[2],o.Radius=function(){var $=JXG$1.evaluate(h);return $==="auto"?o.autoRadius():$},o.updateDataArraySector=function(){var $=this.point2,j=this.point1,_e=this.point3,et=this.Radius(),tt=j.Dist($),it,at,nt=1,st=JXG$1.evaluate(this.visProp.selection);at=Geometry.rad($,j,_e),(st==="minor"&&at>Math.PI||st==="major"&&at<Math.PI)&&(nt=-1),$=$.coords.usrCoords,j=j.coords.usrCoords,_e=_e.coords.usrCoords,$=[1,j[1]+($[1]-j[1])*et/tt,j[2]+($[2]-j[2])*et/tt],_e=[1,j[1]+(_e[1]-j[1])*et/tt,j[2]+(_e[2]-j[2])*et/tt],it=Geometry.bezierArc($,j,_e,!0,nt),this.dataX=it[0],this.dataY=it[1],this.bezierDegree=3},o.setAngle=function($){var j,_e,et,tt=this.anglepoint,it=this.radiuspoint;return tt.draggable()&&(j=this.board.create("transform",[$,this.center],{type:"rotate"}),tt.addTransform(it,j),j.update(),tt.moveTo(Mat.matVecMult(j.matrix,it.coords.usrCoords)),JXG$1.isFunction($)?et=function(){return Math.PI*2-$()}:et=function(){return Math.PI*2-$},_e=this.board.create("transform",[et,this.center],{type:"rotate"}),tt.coords.on("update",function(){_e.update(),it.moveTo(Mat.matVecMult(_e.matrix,tt.coords.usrCoords))}),tt.setParents(it),this.hasFixedAngle=!0),this},o.free=function(){var $=this.anglepoint;return $.transformations.length>0&&($.transformations.pop(),$.isDraggable=!0,$.parents=[],$.coords.off("update")),this.hasFixedAngle=!1,this},o.setParents(_)),JXG$1.exists(o.visProp.text)&&o.label.setText(JXG$1.evaluate(o.visProp.text)),o.elType="angle",o.type=Const.OBJECT_TYPE_ANGLE,o.subs={},o.updateDataArraySquare=function(){var $,j,_e,et,tt,it,at,nt,st=this.Radius();b==="2lines"&&this.updateDataArraySector(),$=this.point2,j=this.point1,_e=this.point3,$=$.coords.usrCoords,j=j.coords.usrCoords,_e=_e.coords.usrCoords,et=Geometry.distance($,j,3),tt=Geometry.distance(_e,j,3),$=[1,j[1]+($[1]-j[1])*st/et,j[2]+($[2]-j[2])*st/et],_e=[1,j[1]+(_e[1]-j[1])*st/tt,j[2]+(_e[2]-j[2])*st/tt],it=Mat.crossProduct(_e,j),at=[-$[1]*it[1]-$[2]*it[2],$[0]*it[1],$[0]*it[2]],it=Mat.crossProduct($,j),nt=[-_e[1]*it[1]-_e[2]*it[2],_e[0]*it[1],_e[0]*it[2]],it=Mat.crossProduct(at,nt),it[1]/=it[0],it[2]/=it[0],this.dataX=[j[1],$[1],it[1],_e[1],j[1]],this.dataY=[j[2],$[2],it[2],_e[2],j[2]],this.bezierDegree=1},o.updateDataArrayNone=function(){this.dataX=[NaN],this.dataY=[NaN],this.bezierDegree=1},o.updateDataArray=function(){var $=JXG$1.evaluate(this.visProp.type),j=Geometry.trueAngle(this.point2,this.point1,this.point3),_e=JXG$1.evaluate(this.visProp.selection);(_e==="minor"&&j>180||_e==="major"&&j<180)&&(j=360-j),Math.abs(j-90)<JXG$1.evaluate(this.visProp.orthosensitivity)+Mat.eps&&($=JXG$1.evaluate(this.visProp.orthotype)),$==="none"?this.updateDataArrayNone():$==="square"?this.updateDataArraySquare():$==="sector"?this.updateDataArraySector():$==="sectordot"&&(this.updateDataArraySector(),this.dot.visProp.visible||this.dot.setAttribute({visible:!0})),(!this.visProp.visible||$!=="sectordot"&&this.dot.visProp.visible)&&this.dot.setAttribute({visible:!1})},d=JXG$1.copyAttributes(a,e.options,"angle","dot"),o.dot=e.create("point",[function(){var $,j,_e,et,tt,it,at,nt,st;return JXG$1.exists(o.dot)&&!o.dot.visProp.visible?[0,0]:($=o.point2.coords.usrCoords,j=o.point1.coords.usrCoords,_e=o.Radius(),et=Geometry.distance($,j,3),tt=Geometry.rad(o.point2,o.point1,o.point3),st=JXG$1.evaluate(o.visProp.selection),(st==="minor"&&tt>Math.PI||st==="major"&&tt<Math.PI)&&(tt=-(2*Math.PI-tt)),tt*=.5,it=Math.cos(tt),at=Math.sin(tt),$=[1,j[1]+($[1]-j[1])*_e/et,j[2]+($[2]-j[2])*_e/et],nt=[[1,0,0],[j[1]-.5*j[1]*it+.5*j[2]*at,it*.5,-at*.5],[j[2]-.5*j[1]*at-.5*j[2]*it,at*.5,it*.5]],Mat.matVecMult(nt,$))}],d),o.dot.dump=!1,o.subs.dot=o.dot,b==="2lines")for(g=0;g<2;g++)e.select(s[g]).addChild(o.dot);else for(g=0;g<3;g++)e.select(_[g]).addChild(o.dot);return e.unsuspendUpdate(),o.Value=function($){return $=$||"radians",$===""&&($="radians"),o.arc.Value($)},o.getLabelAnchor=function(){var $,j=12,_e,et,tt,it,at,nt,st,rt,lt=JXG$1.evaluate(o.visProp.selection),ot=this.label?this.label.visProp:this.visProp.label;return JXG$1.exists(this.label)&&JXG$1.exists(this.label.visProp.fontsize)&&(j=JXG$1.evaluate(this.label.visProp.fontsize)),j/=this.board.unitX,_e=o.point2.coords.usrCoords,et=o.point1.coords.usrCoords,tt=o.Radius(),it=Geometry.distance(_e,et,3),at=Geometry.rad(o.point2,o.point1,o.point3),(lt==="minor"&&at>Math.PI||lt==="major"&&at<Math.PI)&&(at=-(2*Math.PI-at)),at*=.5,nt=Math.cos(at),st=Math.sin(at),_e=[1,et[1]+(_e[1]-et[1])*tt/it,et[2]+(_e[2]-et[2])*tt/it],rt=[[1,0,0],[et[1]-.5*et[1]*nt+.5*et[2]*st,nt*.5,-st*.5],[et[2]-.5*et[1]*st-.5*et[2]*nt,st*.5,nt*.5]],$=Mat.matVecMult(rt,_e),$[1]/=$[0],$[2]/=$[0],$[0]/=$[0],it=Geometry.distance($,et,3),$=[$[0],et[1]+($[1]-et[1])*(tt+j)/it,et[2]+($[2]-et[2])*(tt+j)/it],ot.position=Geometry.calcLabelQuadrant(Geometry.rad([1,0],[0,0],$)),new Coords(Const.COORDS_BY_USER,$,this.board)},o.methodMap=JXG$1.deepCopy(o.methodMap,{setAngle:"setAngle",Value:"Value",free:"free"}),o};JXG$1.registerElement("angle",JXG$1.createAngle);JXG$1.createNonreflexAngle=function(e,s,a){var o;return a.selection="minor",a=JXG$1.copyAttributes(a,e.options,"nonreflexangle"),o=JXG$1.createAngle(e,s,a),o.Value=function(h){var c=Geometry.rad(this.point2,this.point1,this.point3);return h=h||"radians",h===""&&(h="radians"),c=c<Math.PI?c:2*Math.PI-c,this.arc.Value(h,c)},o};JXG$1.registerElement("nonreflexangle",JXG$1.createNonreflexAngle);JXG$1.createReflexAngle=function(e,s,a){var o;return a.selection="major",a=JXG$1.copyAttributes(a,e.options,"reflexangle"),o=JXG$1.createAngle(e,s,a),o.Value=function(h){var c=Geometry.rad(this.point2,this.point1,this.point3);return h=h||"radians",h===""&&(h="radians"),c=c>=Math.PI?c:2*Math.PI-c,this.arc.Value(h,c)},o};JXG$1.registerElement("reflexangle",JXG$1.createReflexAngle);JXG$1.createOrthogonalProjection=function(e,s,a){var o,h,c,d;if(s[0]=e.select(s[0]),s[1]=e.select(s[1]),JXG$1.isPointType(e,s[0])&&s[1].elementClass===Const.OBJECT_CLASS_LINE)h=JXG$1.providePoints(e,[s[0]],a,"point")[0],o=s[1];else if(JXG$1.isPointType(e,s[1])&&s[0].elementClass===Const.OBJECT_CLASS_LINE)h=JXG$1.providePoints(e,[s[1]],a,"point")[0],o=s[0];else throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,line]`);return d=JXG$1.copyAttributes(a,e.options,"orthogonalprojection"),c=e.create("point",[function(){return Geometry.projectPointToLine(h,o,e)}],d),JXG$1.exists(h._is_new)?(c.addChild(h),delete h._is_new):h.addChild(c),o.addChild(c),c.elType="orthogonalprojection",c.setParents([h.id,c.id]),c.update(),c.generatePolynomial=function(){var g=o.point1.symbolic.x,_=o.point1.symbolic.y,b=o.point2.symbolic.x,$=o.point2.symbolic.y,j=h.symbolic.x,_e=h.symbolic.y,et=c.symbolic.x,tt=c.symbolic.y,it="("+_+")*("+et+")-("+_+")*("+b+")+("+tt+")*("+b+")-("+g+")*("+tt+")+("+g+")*("+$+")-("+et+")*("+$+")",at="("+_e+")*("+_+")-("+_e+")*("+$+")-("+tt+")*("+_+")+("+tt+")*("+$+")+("+j+")*("+g+")-("+j+")*("+b+")-("+et+")*("+g+")+("+et+")*("+b+")";return[it,at]},c};JXG$1.createPerpendicular=function(e,s,a){var o,h,c,d;if(s[0]=e.select(s[0]),s[1]=e.select(s[1]),JXG$1.isPointType(e,s[0])&&s[1].elementClass===Const.OBJECT_CLASS_LINE)h=s[1],o=JXG$1.providePoints(e,[s[0]],a,"point")[0];else if(JXG$1.isPointType(e,s[1])&&s[0].elementClass===Const.OBJECT_CLASS_LINE)h=s[0],o=JXG$1.providePoints(e,[s[1]],a,"point")[0];else throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [line,point]`);return d=JXG$1.copyAttributes(a,e.options,"perpendicular"),c=JXG$1.createLine(e,[function(){return h.stdform[2]*o.X()-h.stdform[1]*o.Y()},function(){return-h.stdform[2]*o.Z()},function(){return h.stdform[1]*o.Z()}],d),c.elType="perpendicular",c.setParents([h.id,o.id]),JXG$1.exists(o._is_new)?(c.addChild(o),delete o._is_new):o.addChild(c),h.addChild(c),c};JXG$1.createPerpendicularPoint=function(e,s,a){var o,h,c;if(s[0]=e.select(s[0]),s[1]=e.select(s[1]),JXG$1.isPointType(e,s[0])&&s[1].elementClass===Const.OBJECT_CLASS_LINE)h=JXG$1.providePoints(e,[s[0]],a,"point")[0],o=s[1];else if(JXG$1.isPointType(e,s[1])&&s[0].elementClass===Const.OBJECT_CLASS_LINE)h=JXG$1.providePoints(e,[s[1]],a,"point")[0],o=s[0];else throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,line]`);return c=e.create("point",[function(){return Geometry.perpendicular(o,h,e)[0]}],a),JXG$1.exists(h._is_new)?(c.addChild(h),delete h._is_new):h.addChild(c),o.addChild(c),c.elType="perpendicularpoint",c.setParents([h.id,o.id]),c.update(),c.generatePolynomial=function(){var d=o.point1.symbolic.x,g=o.point1.symbolic.y,_=o.point2.symbolic.x,b=o.point2.symbolic.y,$=h.symbolic.x,j=h.symbolic.y,_e=c.symbolic.x,et=c.symbolic.y,tt="("+g+")*("+_e+")-("+g+")*("+_+")+("+et+")*("+_+")-("+d+")*("+et+")+("+d+")*("+b+")-("+_e+")*("+b+")",it="("+j+")*("+g+")-("+j+")*("+b+")-("+et+")*("+g+")+("+et+")*("+b+")+("+$+")*("+d+")-("+$+")*("+_+")-("+_e+")*("+d+")+("+_e+")*("+_+")";return[tt,it]},c};JXG$1.createPerpendicularSegment=function(e,s,a){var o,h,c,d,g;if(s[0]=e.select(s[0]),s[1]=e.select(s[1]),JXG$1.isPointType(e,s[0])&&s[1].elementClass===Const.OBJECT_CLASS_LINE)h=s[1],o=JXG$1.providePoints(e,[s[0]],a,"point")[0];else if(JXG$1.isPointType(e,s[1])&&s[0].elementClass===Const.OBJECT_CLASS_LINE)h=s[0],o=JXG$1.providePoints(e,[s[1]],a,"point")[0];else throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [line,point]`);return g=JXG$1.copyAttributes(a,e.options,"perpendicularsegment","point"),d=JXG$1.createPerpendicularPoint(e,[h,o],g),d.dump=!1,JXG$1.exists(a.layer)||(a.layer=e.options.layer.line),g=JXG$1.copyAttributes(a,e.options,"perpendicularsegment"),c=JXG$1.createLine(e,[function(){return Geometry.perpendicular(h,o,e)[1]?[d,o]:[o,d]}],g),c.point=d,JXG$1.exists(o._is_new)?(c.addChild(o),delete o._is_new):o.addChild(c),h.addChild(c),c.elType="perpendicularsegment",c.setParents([o.id,h.id]),c.subs={point:d},c.inherits.push(d),c};JXG$1.createMidpoint=function(e,s,a){var o,h,c,d,g;for(d=0;d<s.length;++d)s[d]=e.select(s[d]);if(s.length===2&&JXG$1.isPointType(e,s[0])&&JXG$1.isPointType(e,s[1]))s=JXG$1.providePoints(e,s,a,"point"),o=s[0],h=s[1];else if(s.length===1&&s[0].elementClass===Const.OBJECT_CLASS_LINE)o=s[0].point1,h=s[0].point2;else throw new Error(`JSXGraph: Can't create midpoint.
Possible parent types: [point,point], [line]`);return g=JXG$1.copyAttributes(a,e.options,"midpoint"),c=e.create("point",[function(){var _=o.coords.usrCoords[1]+h.coords.usrCoords[1];return isNaN(_)||Math.abs(o.coords.usrCoords[0])<Mat.eps||Math.abs(h.coords.usrCoords[0])<Mat.eps?NaN:_*.5},function(){var _=o.coords.usrCoords[2]+h.coords.usrCoords[2];return isNaN(_)||Math.abs(o.coords.usrCoords[0])<Mat.eps||Math.abs(h.coords.usrCoords[0])<Mat.eps?NaN:_*.5}],g),JXG$1.exists(o._is_new)?(c.addChild(o),delete o._is_new):o.addChild(c),JXG$1.exists(h._is_new)?(c.addChild(h),delete h._is_new):h.addChild(c),c.elType="midpoint",c.setParents([o.id,h.id]),c.prepareUpdate().update(),c.generatePolynomial=function(){var _=o.symbolic.x,b=o.symbolic.y,$=h.symbolic.x,j=h.symbolic.y,_e=c.symbolic.x,et=c.symbolic.y,tt="("+b+")*("+_e+")-("+b+")*("+$+")+("+et+")*("+$+")-("+_+")*("+et+")+("+_+")*("+j+")-("+_e+")*("+j+")",it="("+_+")^2 - 2*("+_+")*("+_e+")+("+b+")^2-2*("+b+")*("+et+")-("+$+")^2+2*("+$+")*("+_e+")-("+j+")^2+2*("+j+")*("+et+")";return[tt,it]},c};JXG$1.createParallelPoint=function(e,s,a){var o,h,c,d,g,_;for(g=0;g<s.length;++g)s[g]=e.select(s[g]);if(s.length===3&&JXG$1.isPointType(e,s[0])&&JXG$1.isPointType(e,s[1])&&JXG$1.isPointType(e,s[2]))s=JXG$1.providePoints(e,s,a,"point"),o=s[0],h=s[1],c=s[2];else if(JXG$1.isPointType(e,s[0])&&s[1].elementClass===Const.OBJECT_CLASS_LINE)c=JXG$1.providePoints(e,[s[0]],a,"point")[0],o=s[1].point1,h=s[1].point2;else if(JXG$1.isPointType(e,s[1])&&s[0].elementClass===Const.OBJECT_CLASS_LINE)c=JXG$1.providePoints(e,[s[1]],a,"point")[0],o=s[0].point1,h=s[0].point2;else throw new Error("JSXGraph: Can't create parallel point with parent types '"+typeof s[0]+"', '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [line,point], [point,point,point]`);return _=JXG$1.copyAttributes(a,e.options,"parallelpoint"),d=e.create("point",[function(){return c.coords.usrCoords[1]+h.coords.usrCoords[1]-o.coords.usrCoords[1]},function(){return c.coords.usrCoords[2]+h.coords.usrCoords[2]-o.coords.usrCoords[2]}],_),JXG$1.exists(o._is_new)?(d.addChild(o),delete o._is_new):o.addChild(d),JXG$1.exists(h._is_new)?(d.addChild(h),delete h._is_new):h.addChild(d),JXG$1.exists(c._is_new)?(d.addChild(c),delete c._is_new):c.addChild(d),d.elType="parallelpoint",d.setParents([o.id,h.id,c.id]),d.prepareUpdate().update(),d.generatePolynomial=function(){var b=o.symbolic.x,$=o.symbolic.y,j=h.symbolic.x,_e=h.symbolic.y,et=c.symbolic.x,tt=c.symbolic.y,it=d.symbolic.x,at=d.symbolic.y,nt="("+_e+")*("+it+")-("+_e+")*("+et+")-("+$+")*("+it+")+("+$+")*("+et+")-("+at+")*("+j+")+("+at+")*("+b+")+("+tt+")*("+j+")-("+tt+")*("+b+")",st="("+at+")*("+b+")-("+at+")*("+et+")-("+_e+")*("+b+")+("+_e+")*("+et+")-("+it+")*("+$+")+("+it+")*("+tt+")+("+j+")*("+$+")-("+j+")*("+tt+")";return[nt,st]},d};JXG$1.createParallel=function(e,s,a){var o,h,c,d,g,_,b=1;for(g=0;g<s.length;++g)s[g]=e.select(s[g]);return o=null,s.length===3?(s=JXG$1.providePoints(e,s,a,"point"),o=s[2],b=0):JXG$1.isPointType(e,s[0])?(o=JXG$1.providePoints(e,[s[0]],a,"point")[0],d=function(){return s[1].stdform}):JXG$1.isPointType(e,s[1])&&(o=JXG$1.providePoints(e,[s[1]],a,"point")[0],d=function(){return s[0].stdform}),JXG$1.exists(a.layer)||(a.layer=e.options.layer.line),_=JXG$1.copyAttributes(a,e.options,"parallel","point"),b===1?h=e.create("point",[function(){return Mat.crossProduct([1,0,0],d())}],_):h=e.create("parallelpoint",s,_),h.isDraggable=!0,_=JXG$1.copyAttributes(a,e.options,"parallel"),c=e.create("line",[o,h],_),c.elType="parallel",c.subs={point:h},c.inherits.push(h),c.setParents([s[0].id,s[1].id]),s.length===3&&c.addParents(s[2].id),c.point=h,c};JXG$1.createArrowParallel=function(e,s,a){var o,h;try{return h=JXG$1.copyAttributes(a,e.options,"arrowparallel"),h.lastArrow===!1&&(h.lastArrow=!0),o=JXG$1.createParallel(e,s,h).setAttribute({straightFirst:!1,straightLast:!1}),o.type=Const.OBJECT_TYPE_VECTOR,o.elType="arrowparallel",o}catch{throw new Error("JSXGraph: Can't create arrowparallel with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [line,point], [point,point,point]`)}};JXG$1.createBisector=function(e,s,a){var o,h,c,d;if(s=JXG$1.providePoints(e,s,a,"point"),JXG$1.isPoint(s[0])&&JXG$1.isPoint(s[1])&&JXG$1.isPoint(s[2])){for(d=JXG$1.copyAttributes(a,e.options,"bisector","point"),d.snapToGrid=!1,o=e.create("point",[function(){return Geometry.angleBisector(s[0],s[1],s[2],e)}],d),o.dump=!1,c=0;c<3;c++)JXG$1.exists(s[c]._is_new)?(o.addChild(s[c]),delete s[c]._is_new):s[c].addChild(o);return JXG$1.exists(a.layer)||(a.layer=e.options.layer.line),d=JXG$1.copyAttributes(a,e.options,"bisector"),h=JXG$1.createLine(e,[s[1],o],d),h.point=o,h.elType="bisector",h.setParents(s),h.subs={point:o},h.inherits.push(o),h}throw new Error("JSXGraph: Can't create angle bisector with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point,point]`)};JXG$1.createAngularBisectorsOfTwoLines=function(e,s,a){var o,h,c,d,g=e.select(s[0]),_=e.select(s[1]);if(g.elementClass!==Const.OBJECT_CLASS_LINE||_.elementClass!==Const.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create angle bisectors of two lines with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [line,line]`);return JXG$1.exists(a.layer)||(a.layer=e.options.layer.line),c=JXG$1.copyAttributes(a,e.options,"bisectorlines","line1"),o=e.create("line",[function(){var b=Mat.hypot(g.stdform[1],g.stdform[2]),$=Mat.hypot(_.stdform[1],_.stdform[2]);return g.stdform[0]/b-_.stdform[0]/$},function(){var b=Mat.hypot(g.stdform[1],g.stdform[2]),$=Mat.hypot(_.stdform[1],_.stdform[2]);return g.stdform[1]/b-_.stdform[1]/$},function(){var b=Mat.hypot(g.stdform[1],g.stdform[2]),$=Mat.hypot(_.stdform[1],_.stdform[2]);return g.stdform[2]/b-_.stdform[2]/$}],c),JXG$1.exists(a.layer)||(a.layer=e.options.layer.line),c=JXG$1.copyAttributes(a,e.options,"bisectorlines","line2"),h=e.create("line",[function(){var b=Mat.hypot(g.stdform[1],g.stdform[2]),$=Mat.hypot(_.stdform[1],_.stdform[2]);return g.stdform[0]/b+_.stdform[0]/$},function(){var b=Mat.hypot(g.stdform[1],g.stdform[2]),$=Mat.hypot(_.stdform[1],_.stdform[2]);return g.stdform[1]/b+_.stdform[1]/$},function(){var b=Mat.hypot(g.stdform[1],g.stdform[2]),$=Mat.hypot(_.stdform[1],_.stdform[2]);return g.stdform[2]/b+_.stdform[2]/$}],c),d=new Composition({line1:o,line2:h}),o.dump=!1,h.dump=!1,d.elType="bisectorlines",d.setParents([g.id,_.id]),d.subs={line1:o,line2:h},d};JXG$1.createCircumcenter=function(e,s,a){var o,h,c,d,g;if(s=JXG$1.providePoints(e,s,a,"point"),JXG$1.isPoint(s[0])&&JXG$1.isPoint(s[1])&&JXG$1.isPoint(s[2])){for(c=s[0],d=s[1],g=s[2],o=JXG$1.createPoint(e,[function(){return Geometry.circumcenter(c,d,g,e)}],a),h=0;h<3;h++)JXG$1.exists(s[h]._is_new)?(o.addChild(s[h]),delete s[h]._is_new):s[h].addChild(o);return o.elType="circumcenter",o.setParents(s),o.generatePolynomial=function(){var _=c.symbolic.x,b=c.symbolic.y,$=d.symbolic.x,j=d.symbolic.y,_e=g.symbolic.x,et=g.symbolic.y,tt=o.symbolic.x,it=o.symbolic.y,at=["((",tt,")-(",_,"))^2+((",it,")-(",b,"))^2-((",tt,")-(",$,"))^2-((",it,")-(",j,"))^2"].join(""),nt=["((",tt,")-(",_,"))^2+((",it,")-(",b,"))^2-((",tt,")-(",_e,"))^2-((",it,")-(",et,"))^2"].join("");return[at,nt]},o}throw new Error("JSXGraph: Can't create circumcircle midpoint with parent types '"+typeof s[0]+"', '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point]`)};JXG$1.createIncenter=function(e,s,a){var o,h,c,d,g;if(s=JXG$1.providePoints(e,s,a,"point"),s.length>=3&&JXG$1.isPoint(s[0])&&JXG$1.isPoint(s[1])&&JXG$1.isPoint(s[2])){for(h=s[0],c=s[1],d=s[2],o=e.create("point",[function(){var _,b,$;return _=Mat.hypot(c.X()-d.X(),c.Y()-d.Y()),b=Mat.hypot(h.X()-d.X(),h.Y()-d.Y()),$=Mat.hypot(c.X()-h.X(),c.Y()-h.Y()),new Coords(Const.COORDS_BY_USER,[(_*h.X()+b*c.X()+$*d.X())/(_+b+$),(_*h.Y()+b*c.Y()+$*d.Y())/(_+b+$)],e)}],a),g=0;g<3;g++)JXG$1.exists(s[g]._is_new)?(o.addChild(s[g]),delete s[g]._is_new):s[g].addChild(o);o.elType="incenter",o.setParents(s)}else throw new Error("JSXGraph: Can't create incenter with parent types '"+typeof s[0]+"', '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point]`);return o};JXG$1.createCircumcircle=function(e,s,a){var o,h,c,d;if(s=JXG$1.providePoints(e,s,a,"point"),s===!1)throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof s[0]+"', '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point]`);try{for(c=JXG$1.copyAttributes(a,e.options,"circumcircle","center"),o=JXG$1.createCircumcenter(e,s,c),o.dump=!1,JXG$1.exists(a.layer)||(a.layer=e.options.layer.circle),c=JXG$1.copyAttributes(a,e.options,"circumcircle"),h=JXG$1.createCircle(e,[o,s[0]],c),h.elType="circumcircle",h.setParents(s),h.subs={center:o},h.inherits.push(h),d=0;d<3;d++)JXG$1.exists(s[d]._is_new)?(h.addChild(s[d]),delete s[d]._is_new):s[d].addChild(h)}catch{throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof s[0]+"', '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point]`)}return h};JXG$1.createIncircle=function(e,s,a){var o,h,c,d;if(s=JXG$1.providePoints(e,s,a,"point"),s===!1)throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof s[0]+"', '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point]`);try{for(d=JXG$1.copyAttributes(a,e.options,"incircle","center"),h=JXG$1.createIncenter(e,s,d),h.dump=!1,JXG$1.exists(a.layer)||(a.layer=e.options.layer.circle),d=JXG$1.copyAttributes(a,e.options,"incircle"),c=JXG$1.createCircle(e,[h,function(){var g=Mat.hypot(s[1].X()-s[2].X(),s[1].Y()-s[2].Y()),_=Mat.hypot(s[0].X()-s[2].X(),s[0].Y()-s[2].Y()),b=Mat.hypot(s[1].X()-s[0].X(),s[1].Y()-s[0].Y()),$=(g+_+b)/2;return Math.sqrt(($-g)*($-_)*($-b)/$)}],d),c.elType="incircle",c.setParents(s),o=0;o<3;o++)JXG$1.exists(s[o]._is_new)?(c.addChild(s[o]),delete s[o]._is_new):s[o].addChild(c);c.center=h,c.subs={center:c.center},c.inherits.push(h)}catch{throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof s[0]+"', '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point,point]`)}return c};JXG$1.createReflection=function(e,s,a){var o,h,c,d,g,_,b,$,j=`
Possible parent types: [point|line|curve|polygon|circle|arc|sector, line]`;for(_=0;_<s.length;++_)s[_]=e.select(s[_]);if(b=JXG$1.copyAttributes(a,e.options,"reflection"),JXG$1.isPoint(s[0]))h=JXG$1.providePoints(e,[s[0]],$)[0];else if(s[0].elementClass===Const.OBJECT_CLASS_CURVE||s[0].elementClass===Const.OBJECT_CLASS_LINE||s[0].type===Const.OBJECT_TYPE_POLYGON||s[0].elementClass===Const.OBJECT_CLASS_CIRCLE)h=s[0];else throw new Error("JSXGraph: Can't create reflection element with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'."+j);if(s[1].elementClass===Const.OBJECT_CLASS_LINE)o=s[1];else throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'."+j);if(g=JXG$1.createTransform(e,[o],{type:"reflect"}),JXG$1.isPoint(h))c=JXG$1.createPoint(e,[h,g],b);else if(h.elementClass===Const.OBJECT_CLASS_CURVE)c=JXG$1.createCurve(e,[h,g],b);else if(h.elementClass===Const.OBJECT_CLASS_LINE)c=JXG$1.createLine(e,[h,g],b);else if(h.type===Const.OBJECT_TYPE_POLYGON)c=JXG$1.createPolygon(e,[h,g],b);else if(h.elementClass===Const.OBJECT_CLASS_CIRCLE)b.type.toLowerCase()==="euclidean"?($=JXG$1.copyAttributes(a,e.options,"reflection","center"),d=JXG$1.createPoint(e,[h.center,g],$),d.prepareUpdate().update().updateVisibility(JXG$1.evaluate(d.visProp.visible)).updateRenderer(),c=JXG$1.createCircle(e,[d,function(){return h.Radius()}],b)):c=JXG$1.createCircle(e,[h,g],b);else throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'."+j);return JXG$1.exists(h._is_new)&&(c.addChild(h),delete h._is_new),o.addChild(c),c.elType="reflection",c.addParents(o),c.prepareUpdate().update(),JXG$1.isPoint(c)&&(c.generatePolynomial=function(){var _e=o.point1.symbolic.x,et=o.point1.symbolic.y,tt=o.point2.symbolic.x,it=o.point2.symbolic.y,at=h.symbolic.x,nt=h.symbolic.y,st=c.symbolic.x,rt=c.symbolic.y,lt=["((",rt,")-(",nt,"))*((",et,")-(",it,"))+((",_e,")-(",tt,"))*((",st,")-(",at,"))"].join(""),ot=["((",st,")-(",_e,"))^2+((",rt,")-(",et,"))^2-((",at,")-(",_e,"))^2-((",nt,")-(",et,"))^2"].join("");return[lt,ot]}),c};JXG$1.createMirrorElement=function(e,s,a){var o,h,c,d,g,_,b,$,j=`
Possible parent types: [point|line|curve|polygon|circle|arc|sector, point]`;for(h=0;h<s.length;++h)s[h]=e.select(s[h]);if(b=JXG$1.copyAttributes(a,e.options,"mirrorelement"),JXG$1.isPoint(s[0]))o=JXG$1.providePoints(e,[s[0]],b)[0];else if(s[0].elementClass===Const.OBJECT_CLASS_CURVE||s[0].elementClass===Const.OBJECT_CLASS_LINE||s[0].type===Const.OBJECT_TYPE_POLYGON||s[0].elementClass===Const.OBJECT_CLASS_CIRCLE)o=s[0];else throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'."+j);if(JXG$1.isPoint(s[1]))$=JXG$1.copyAttributes(a,e.options,"mirrorelement","point"),c=JXG$1.providePoints(e,[s[1]],$)[0];else throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'."+j);if(_=JXG$1.createTransform(e,[Math.PI,c],{type:"rotate"}),JXG$1.isPoint(o))d=JXG$1.createPoint(e,[o,_],b);else if(o.elementClass===Const.OBJECT_CLASS_CURVE)d=JXG$1.createCurve(e,[o,_],b);else if(o.elementClass===Const.OBJECT_CLASS_LINE)d=JXG$1.createLine(e,[o,_],b);else if(o.type===Const.OBJECT_TYPE_POLYGON)d=JXG$1.createPolygon(e,[o,_],b);else if(o.elementClass===Const.OBJECT_CLASS_CIRCLE)b.type.toLowerCase()==="euclidean"?($=JXG$1.copyAttributes(a,e.options,"mirrorelement","center"),g=JXG$1.createPoint(e,[o.center,_],$),g.prepareUpdate().update().updateVisibility(JXG$1.evaluate(g.visProp.visible)).updateRenderer(),d=JXG$1.createCircle(e,[g,function(){return o.Radius()}],b)):d=JXG$1.createCircle(e,[o,_],b);else throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'."+j);return JXG$1.exists(o._is_new)&&(d.addChild(o),delete o._is_new),c.addChild(d),d.elType="mirrorelement",d.addParents(c),d.prepareUpdate().update(),d};JXG$1.createMirrorPoint=function(e,s,a){var o=JXG$1.createMirrorElement(e,s,a);return o.elType="mirrorpoint",o};JXG$1.createIntegral=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt=null,st;if(JXG$1.isArray(s[0])&&s[1].elementClass===Const.OBJECT_CLASS_CURVE)o=s[0],h=s[1];else if(JXG$1.isArray(s[1])&&s[0].elementClass===Const.OBJECT_CLASS_CURVE)o=s[1],h=s[0];else throw new Error("JSXGraph: Can't create integral with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [[number|function,number|function],curve]`);return c=JXG$1.copyAttributes(a,e.options,"integral"),c.withLabel=!1,st=e.create("curve",[[0],[0]],c),d=o[0],g=o[1],JXG$1.isFunction(d)?(_=d,b=function(){return h.Y(_())},d=_()):(_=d,b=h.Y(d)),JXG$1.isFunction(g)?($=g,j=function(){return h.Y($())},g=$()):($=g,j=h.Y(g)),c=JXG$1.copyAttributes(a,e.options,"integral","curveleft"),_e=e.create("glider",[_,b,h],c),JXG$1.isFunction(_)&&_e.hideElement(),c=JXG$1.copyAttributes(a,e.options,"integral","baseleft"),et=e.create("point",[function(){return JXG$1.evaluate(st.visProp.axis)==="y"?0:_e.X()},function(){return JXG$1.evaluate(st.visProp.axis)==="y"?_e.Y():0}],c),c=JXG$1.copyAttributes(a,e.options,"integral","curveright"),tt=e.create("glider",[$,j,h],c),JXG$1.isFunction($)&&tt.hideElement(),c=JXG$1.copyAttributes(a,e.options,"integral","baseright"),it=e.create("point",[function(){return JXG$1.evaluate(st.visProp.axis)==="y"?0:tt.X()},function(){return JXG$1.evaluate(st.visProp.axis)==="y"?tt.Y():0}],c),c=JXG$1.copyAttributes(a,e.options,"integral"),c.withlabel!==!1&&c.axis!=="y"&&(c=JXG$1.copyAttributes(a,e.options,"integral","label"),c=JXG$1.copyAttributes(c,e.options,"label"),nt=e.create("text",[function(){var rt=new Coords(Const.COORDS_BY_SCREEN,[JXG$1.evaluate(this.visProp.offset[0])+this.board.origin.scrCoords[1],0],this.board,!1),lt=this.board.getBoundingBox(),ot=(lt[2]-lt[0])*.1,ht=tt.X();return ht<lt[0]?ht=lt[0]+ot:ht>lt[2]&&(ht=lt[2]-ot),ht+rt.usrCoords[1]},function(){var rt=new Coords(Const.COORDS_BY_SCREEN,[0,JXG$1.evaluate(this.visProp.offset[1])+this.board.origin.scrCoords[2]],this.board,!1),lt=this.board.getBoundingBox(),ot=(lt[1]-lt[3])*.1,ht=tt.Y();return ht>lt[1]?ht=lt[1]-ot:ht<lt[3]&&(ht=lt[3]+ot),ht+rt.usrCoords[2]},""],c),at=function(){var rt=Numerics.NewtonCotes([et.X(),it.X()],h.Y),lt=JXG$1.evaluate(nt.visProp.digits),ot;return nt.useLocale()?ot=nt.formatNumberLocale(rt,lt):ot=JXG$1.toFixed(rt,lt),"&int; = "+ot},nt.setText(at),nt.dump=!1,_e.addChild(nt),tt.addChild(nt)),_e.dump=!1,et.dump=!1,tt.dump=!1,it.dump=!1,st.elType="integral",st.setParents([h.id,o]),st.subs={curveLeft:_e,baseLeft:et,curveRight:tt,baseRight:it},st.inherits.push(_e,et,tt,it),c.withLabel&&(st.subs.label=nt,st.inherits.push(nt)),st.Value=function(){return Numerics.I([et.X(),it.X()],h.Y)},st.updateDataArray=function(){var rt,lt,ot,ht,ct,ut,dt,ft,gt;if(JXG$1.evaluate(this.visProp.axis)==="y"){for(_e.Y()<tt.Y()?(ut=_e.X(),ft=_e.Y(),dt=tt.X(),gt=tt.Y()):(ut=tt.X(),ft=tt.Y(),dt=_e.X(),gt=_e.Y()),ht=Math.min(ut,dt),ct=Math.max(ut,dt),rt=[0,ut],lt=[ft,ft],ot=0;ot<h.numberPoints;ot++)ft<=h.points[ot].usrCoords[2]&&ht<=h.points[ot].usrCoords[1]&&h.points[ot].usrCoords[2]<=gt&&h.points[ot].usrCoords[1]<=ct&&(rt.push(h.points[ot].usrCoords[1]),lt.push(h.points[ot].usrCoords[2]));rt.push(dt),lt.push(gt),rt.push(0),lt.push(gt),rt.push(0),lt.push(ft)}else{for(et.X()<it.X()?(ht=et.X(),ct=it.X()):(ht=it.X(),ct=et.X()),rt=[ht,ht],lt=[0,h.Y(ht)],ot=0;ot<h.numberPoints;ot++)ht<=h.points[ot].usrCoords[1]&&h.points[ot].usrCoords[1]<=ct&&(rt.push(h.points[ot].usrCoords[1]),lt.push(h.points[ot].usrCoords[2]));rt.push(ct),lt.push(h.Y(ct)),rt.push(ct),lt.push(0),rt.push(ht),lt.push(0)}this.dataX=rt,this.dataY=lt},_e.addChild(st),tt.addChild(st),et.addChild(st),it.addChild(st),st.baseLeft=et,st.baseRight=it,st.curveLeft=_e,st.curveRight=tt,st.methodMap=JXG$1.deepCopy(st.methodMap,{curveLeft:"curveLeft",baseLeft:"baseLeft",curveRight:"curveRight",baseRight:"baseRight",Value:"Value"}),st.label=nt,st};JXG$1.createInequality=function(e,s,a){var o,h,c;if(c=JXG$1.copyAttributes(a,e.options,"inequality"),s[0].elementClass===Const.OBJECT_CLASS_LINE)h=e.create("curve",[[],[]],c),h.hasPoint=function(){return!1},h.updateDataArray=function(){var d,g,_,b=e.getBoundingBox(),$=JXG$1.evaluate(this.visProp.inverse),j=$?-1:1,_e=1.5,et=_e*Math.max(b[2]-b[0],b[1]-b[3]),tt={coords:{usrCoords:[1,(b[0]+b[2])*.5,$?b[1]:b[3]]}},it=s[0].stdform.slice(1),at=it;_=_e*Math.max(Geometry.perpendicular(s[0],tt,e)[0].distance(Const.COORDS_BY_USER,tt.coords),et),_*=j,tt={coords:{usrCoords:[1,(b[0]+b[2])*.5,(b[1]+b[3])*.5]}},Math.abs(Mat.innerProduct(tt.coords.usrCoords,s[0].stdform,3))>=Mat.eps?tt=Geometry.perpendicular(s[0],tt,e)[0].usrCoords:tt=tt.coords.usrCoords,d=[1,tt[1]+it[1]*et,tt[2]-it[0]*et],g=[1,tt[1]-at[1]*et,tt[2]+at[0]*et],this.dataX=[d[1],d[1]+it[0]*_,g[1]+at[0]*_,g[1],d[1]],this.dataY=[d[2],d[2]+it[1]*_,g[2]+at[1]*_,g[2],d[2]]};else if(s[0].elementClass===Const.OBJECT_CLASS_CURVE&&s[0].visProp.curvetype==="functiongraph")h=e.create("curve",[[],[]],c),h.updateDataArray=function(){var d=this.board.getBoundingBox(),g=[],_,b,$,j,_e,et=s[0].minX(),tt=s[0].maxX(),it,at,nt,st,rt=(d[1]-d[3])*.3,lt=JXG$1.evaluate(this.visProp.inverse);if(_=lt?1:3,this.dataX=[],this.dataY=[],j=s[0].points.length,j!==0)for(d[1]+=rt,d[3]-=rt,$=-1;$<j-1;){for(_e=$+1,b=j;_e<j;_e++)if(s[0].points[_e].isReal()){b=_e;break}if(b>=j)break;for(_e=b,$=j-1;_e<j-1;_e++)if(!s[0].points[_e+1].isReal()){$=_e;break}for(nt=s[0].points[b].usrCoords[1],st=s[0].points[$].usrCoords[1],it=d[0]<et?et:d[0],at=d[2]>tt?tt:d[2],it=b===0?it:Math.max(it,nt),at=$===j-1?at:Math.min(at,st),it=b===0?et:nt,at=$===j-1?tt:st,g=[],g.push([1,it,d[_]]),g.push([1,it,s[0].points[b].usrCoords[2]]),_e=b;_e<=$;_e++)g.push(s[0].points[_e].usrCoords);for(g.push([1,at,s[0].points[$].usrCoords[2]]),g.push([1,at,d[_]]),g.push(g[0]),_e=0;_e<g.length;_e++)this.dataX.push(g[_e][1]),this.dataY.push(g[_e][2]);$<j-1&&(this.dataX.push(NaN),this.dataY.push(NaN))}},h.hasPoint=function(){return!1};else if(o=JXG$1.createFunction(s[0]),h.addParentsFromJCFunctions([o]),!JXG$1.exists(o))throw new Error(`JSXGraph: Can't create area with the given parents.
Possible parent types: [line], [function]`);return h.addParents(s[0]),h};JXG$1.registerElement("arrowparallel",JXG$1.createArrowParallel);JXG$1.registerElement("bisector",JXG$1.createBisector);JXG$1.registerElement("bisectorlines",JXG$1.createAngularBisectorsOfTwoLines);JXG$1.registerElement("msector",JXG$1.createMsector);JXG$1.registerElement("circumcircle",JXG$1.createCircumcircle);JXG$1.registerElement("circumcirclemidpoint",JXG$1.createCircumcenter);JXG$1.registerElement("circumcenter",JXG$1.createCircumcenter);JXG$1.registerElement("incenter",JXG$1.createIncenter);JXG$1.registerElement("incircle",JXG$1.createIncircle);JXG$1.registerElement("integral",JXG$1.createIntegral);JXG$1.registerElement("midpoint",JXG$1.createMidpoint);JXG$1.registerElement("mirrorelement",JXG$1.createMirrorElement);JXG$1.registerElement("mirrorpoint",JXG$1.createMirrorPoint);JXG$1.registerElement("orthogonalprojection",JXG$1.createOrthogonalProjection);JXG$1.registerElement("parallel",JXG$1.createParallel);JXG$1.registerElement("parallelpoint",JXG$1.createParallelPoint);JXG$1.registerElement("perpendicular",JXG$1.createPerpendicular);JXG$1.registerElement("perpendicularpoint",JXG$1.createPerpendicularPoint);JXG$1.registerElement("perpendicularsegment",JXG$1.createPerpendicularSegment);JXG$1.registerElement("reflection",JXG$1.createReflection);JXG$1.registerElement("inequality",JXG$1.createInequality);JXG$1.createGrid=function(e,s,a){var o=Mat.eps,h=5e3,c,d,g,_,b,$,j,_e=[],et=[],tt;if(g=s,g.length>2||g.length>=1&&g[0].elType!=="axis"||g.length>=2&&g[1].elType!=="axis")throw new Error("JSXGraph: Can't create 'grid' with parent type '"+s[0].elType+"'. Possible parent types: [axis,axis]");return!JXG$1.exists(g[0])&&JXG$1.exists(e.defaultAxes)&&(g[0]=e.defaultAxes.x),!JXG$1.exists(g[1])&&JXG$1.exists(e.defaultAxes)&&(g[1]=e.defaultAxes.y),tt=function(it,at,nt,st,rt,lt,ot){var ht,ct,ut,dt,ft,gt,mt;switch(it.toLowerCase()){case".":case"point":return at.visProp.linecap="round",at.visProp.strokewidth=rt*at.board.unitX+lt*at.board.unitY,[[nt,nt,NaN],[st,st,NaN]];case"o":case"circle":return at.visProp.linecap="square",at.bezierDegree=3,ct=4*Math.tan(Math.PI/8)/3,[[nt+rt,nt+rt,nt+ct*rt,nt,nt-ct*rt,nt-rt,nt-rt,nt-rt,nt-ct*rt,nt,nt+ct*rt,nt+rt,nt+rt,NaN],[st,st+ct*lt,st+lt,st+lt,st+lt,st+ct*lt,st,st-ct*lt,st-lt,st-lt,st-lt,st-ct*lt,st,NaN]];case"regpol":case"regularpolygon":for(at.visProp.linecap="round",dt=JXG$1.evaluate(at.visProp.polygonvertices),ft=[[],[]],ht=0;ht<=2*Math.PI;ht+=2*Math.PI/dt)ft[0].push(nt-rt*Math.sin(ht)),ft[1].push(st-lt*Math.cos(ht));return ft[0].push(NaN),ft[1].push(NaN),ft;case"[]":case"square":return at.visProp.linecap="square",[[nt-rt,nt+rt,nt+rt,nt-rt,nt-rt,NaN],[st+lt,st+lt,st-lt,st-lt,st+lt,NaN]];case"<>":case"diamond":return at.visProp.linecap="square",[[nt,nt+rt,nt,nt-rt,nt,NaN],[st+lt,st,st-lt,st,st+lt,NaN]];case"<<>>":case"diamond2":return at.visProp.linecap="square",gt=rt*Math.sqrt(2),mt=lt*Math.sqrt(2),[[nt,nt+gt,nt,nt-gt,nt,NaN],[st+mt,st,st-mt,st,st+mt,NaN]];case"x":case"cross":return[[nt-rt,nt+rt,NaN,nt-rt,nt+rt,NaN],[st+lt,st-lt,NaN,st-lt,st+lt,NaN]];case"+":case"plus":return[[nt-rt,nt+rt,NaN,nt,nt,NaN],[st,st,NaN,st-lt,st+lt,NaN]];case"-":case"minus":return[[nt-rt,nt+rt,NaN],[st,st,NaN]];case"|":case"divide":return[[nt,nt,NaN],[st-lt,st+lt,NaN]];case"^":case"a":case"A":case"triangleup":return[[nt-rt,nt,nt+rt,NaN],[st-lt,st,st-lt,NaN]];case"v":case"triangledown":return[[nt-rt,nt,nt+rt,NaN],[st+lt,st,st+lt,NaN]];case"<":case"triangleleft":return[[nt+rt,nt,nt+rt,NaN],[st+lt,st,st-lt,NaN]];case">":case"triangleright":return[[nt-rt,nt,nt-rt,NaN],[st+lt,st,st-lt,NaN]];case"line":return ut=JXG$1.evaluate(at.visProp.margin),[[nt,nt,NaN,ot[0]-ut/at.board.unitX,ot[2]+ut/at.board.unitX,NaN],[ot[1]+ut/at.board.unitY,ot[3]-ut/at.board.unitY,NaN,st,st,NaN]];default:return[[],[]]}},_=JXG$1.copyAttributes(a,e.options,"grid"),JXG$1.mergeAttr(_,_.themes[_.theme],!1),b={},JXG$1.mergeAttr(b,_,!0,!0),JXG$1.mergeAttr(b,_.major,!0,!0),c=e.create("curve",[[null],[null]],b),c.elType="grid",c.type=Const.OBJECT_TYPE_GRID,$={},JXG$1.mergeAttr($,_,!0,!0),JXG$1.mergeAttr($,_.minor,!0,!0),$.id===b.id&&($.id=c.id+"_minor"),$.name===b.name&&($.name=c.name+"_minor"),d=e.create("curve",[[null],[null]],$),d.elType="grid",d.type=Const.OBJECT_TYPE_GRID,c.minorGrid=d,d.majorGrid=c,c.hasPoint=function(){return!1},d.hasPoint=function(){return!1},c.inherits.push(d),c.updateDataArray=function(){var it=this.board.getBoundingBox(),at,nt,st,rt,lt,ot,ht,ct,ut=JXG$1.evaluate(this.visProp.gridx),dt=JXG$1.evaluate(this.visProp.gridy),ft=JXG$1.evaluate(this.visProp.face),gt=JXG$1.evaluate(this.visProp.drawzero),mt=gt===!0||JXG$1.isObject(gt)&&JXG$1.evaluate(gt.origin)===!0,vt=gt===!0||JXG$1.isObject(gt)&&JXG$1.evaluate(gt.x)===!0,Jt=gt===!0||JXG$1.isObject(gt)&&JXG$1.evaluate(gt.y)===!0,Pt=JXG$1.evaluate(this.visProp.includeboundaries),$t=JXG$1.evaluate(this.visProp.forcesquare);if(this.dataX=[],this.dataY=[],j=JXG$1.evaluate(this.visProp.majorstep),JXG$1.isArray(j)||(j=[j,j]),j.length<2&&(j=[j[0],j[0]]),JXG$1.exists(ut)&&(JXG$1.deprecated("gridX","majorStep"),j[0]=ut),JXG$1.exists(dt)&&(JXG$1.deprecated("gridY","majorStep"),j[1]=dt),j[0]==="auto"?(ct=Math.pow(10,Math.floor(Math.log(50/this.board.unitX)/Math.LN10)),j[0]=ct,JXG$1.exists(g[0])&&(j[0]=g[0].ticks[0].getDistanceMajorTicks())):j[0]=JXG$1.parseNumber(j[0],Math.abs(it[1]-it[3]),1/this.board.unitX),j[1]==="auto"?(ct=Math.pow(10,Math.floor(Math.log(50/this.board.unitY)/Math.LN10)),j[1]=ct,JXG$1.exists(g[1])&&(j[1]=g[1].ticks[0].getDistanceMajorTicks())):j[1]=JXG$1.parseNumber(j[1],Math.abs(it[0]-it[2]),1/this.board.unitY),$t==="min"||$t===!0?j[0]*this.board.unitX<=j[1]*this.board.unitY?j[1]=j[0]/this.board.unitY*this.board.unitX:j[0]=j[1]/this.board.unitX*this.board.unitY:$t==="max"&&(j[0]*this.board.unitX<=j[1]*this.board.unitY?j[0]=j[1]/this.board.unitX*this.board.unitY:j[1]=j[0]/this.board.unitY*this.board.unitX),_e=JXG$1.evaluate(this.visProp.size),JXG$1.isArray(_e)||(_e=[_e,_e]),_e.length<2&&(_e=[_e[0],_e[0]]),JXG$1.isNumber(_e[0],!0)&&(_e[0]=_e[0]+"px"),JXG$1.isNumber(_e[1],!0)&&(_e[1]=_e[1]+"px"),_e[0]=JXG$1.parseNumber(_e[0],j[0],1/this.board.unitX),_e[1]=JXG$1.parseNumber(_e[1],j[1],1/this.board.unitY),et[0]=_e[0]/2,et[1]=_e[1]/2,at=Mat.roundToStep(it[0],j[0]),nt=Mat.roundToStep(it[1],j[1]),ht=isFinite(at)&&isFinite(nt)&&isFinite(it[2])&&isFinite(it[3])&&Math.abs(it[2])<Math.abs(j[0]*h)&&Math.abs(it[3])<Math.abs(j[1]*h),ft.toLowerCase()==="line"){for(lt=JXG$1.evaluate(c.visProp.margin),rt=nt;ht&&rt>=it[3];rt-=j[1])!mt&&Math.abs(rt)<o||!Jt&&Math.abs(rt)<o||!Pt&&(rt<=it[3]+et[1]||rt>=it[1]-et[1])||(ot=[[it[0]-lt/c.board.unitX,it[2]+lt/c.board.unitX,NaN],[rt,rt,NaN]],JXG$1.concat(this.dataX,ot[0]),JXG$1.concat(this.dataY,ot[1]));for(st=at;ht&&st<=it[2];st+=j[0])!mt&&Math.abs(st)<o||!vt&&Math.abs(st)<o||!Pt&&(st<=it[0]+et[0]||st>=it[2]-et[0])||(ot=[[st,st,NaN],[it[1]+lt/c.board.unitY,it[3]-lt/c.board.unitY,NaN]],JXG$1.concat(this.dataX,ot[0]),JXG$1.concat(this.dataY,ot[1]))}else for(rt=nt;ht&&rt>=it[3];rt-=j[1])for(st=at;ht&&st<=it[2];st+=j[0])!mt&&Math.abs(rt)<o&&Math.abs(st)<o||!vt&&Math.abs(rt)<o&&Math.abs(st)>=o||!Jt&&Math.abs(st)<o&&Math.abs(rt)>=o||!Pt&&(st<=it[0]+et[0]||st>=it[2]-et[0]||rt<=it[3]+et[1]||rt>=it[1]-et[1])||(ot=tt(ft,c,st,rt,et[0],et[1],it),JXG$1.concat(this.dataX,ot[0]),JXG$1.concat(this.dataY,ot[1]))},d.updateDataArray=function(){var it=this.board.getBoundingBox(),at,nt,st,rt,lt,ot,ht,ct=[],ut=[],dt,ft,gt,mt,vt,Jt,Pt,$t,Et,Gt,_t,bt,yt=JXG$1.evaluate(this.visProp.minorelements),Ct=JXG$1.evaluate(this.visProp.size),pt=JXG$1.evaluate(this.visProp.face),Mt=JXG$1.evaluate(this.visProp.drawzero),xt=Mt===!0||JXG$1.isObject(Mt)&&JXG$1.evaluate(Mt.x)===!0,It=Mt===!0||JXG$1.isObject(Mt)&&JXG$1.evaluate(Mt.y)===!0,Nt=JXG$1.evaluate(this.majorGrid.visProp.face),St=JXG$1.evaluate(this.majorGrid.visProp.drawzero),Bt=St===!0||JXG$1.isObject(St)&&JXG$1.evaluate(St.origin)===!0,Ft=St===!0||JXG$1.isObject(St)&&JXG$1.evaluate(St.x)===!0,jt=St===!0||JXG$1.isObject(St)&&JXG$1.evaluate(St.y)===!0,Yt=JXG$1.evaluate(this.visProp.includeboundaries);if(this.dataX=[],this.dataY=[],JXG$1.isArray(yt)||(yt=[yt,yt]),yt.length<2&&(yt=[yt[0],yt[0]]),JXG$1.isNumber(yt[0],!0)?yt[0]=parseFloat(yt[0]):(yt[0]=3,JXG$1.exists(g[0])&&(yt[0]=JXG$1.evaluate(g[0].getAttribute("ticks").minorticks))),ct[0]=j[0]/(yt[0]+1),JXG$1.isNumber(yt[1],!0)?yt[1]=parseFloat(yt[1]):(yt[1]=3,JXG$1.exists(g[1])&&(yt[1]=JXG$1.evaluate(g[1].getAttribute("ticks").minorticks))),ct[1]=j[1]/(yt[1]+1),JXG$1.isArray(Ct)||(Ct=[Ct,Ct]),Ct.length<2&&(Ct=[Ct[0],Ct[0]]),JXG$1.isNumber(Ct[0],!0)&&(Ct[0]=Ct[0]+"px"),JXG$1.isNumber(Ct[1],!0)&&(Ct[1]=Ct[1]+"px"),Ct[0]=JXG$1.parseNumber(Ct[0],ct[0],1/this.board.unitX),Ct[1]=JXG$1.parseNumber(Ct[1],ct[1],1/this.board.unitY),ut[0]=Ct[0]*.5,ut[1]=Ct[1]*.5,at=Mat.roundToStep(it[0],ct[0]),nt=Mat.roundToStep(it[1],ct[1]),ht=isFinite(at)&&isFinite(nt)&&isFinite(it[2])&&isFinite(it[3])&&Math.abs(it[2])<=Math.abs(ct[0]*h)&&Math.abs(it[3])<Math.abs(ct[1]*h),pt.toLowerCase()!=="line")for(rt=nt;ht&&rt>=it[3];rt-=ct[1])for(st=at;ht&&st<=it[2];st+=ct[0]){if(dt=Mat.roundToStep(Math.abs(st),j[0]),dt=Math.abs(dt-Math.abs(st)),ft=j[0]-dt,gt=Mat.roundToStep(Math.abs(rt),j[1]),gt=Math.abs(gt-Math.abs(rt)),mt=j[1]-gt,Nt==="line"){if(dt-ut[0]-et[0]<o||ft-ut[0]-et[0]<o||gt-ut[1]-et[1]<o||mt-ut[1]-et[1]<o)continue}else if((dt-ut[0]-et[0]<o||ft-ut[0]-et[0]<o)&&(gt-ut[1]-et[1]<o||mt-ut[1]-et[1]<o)&&(Bt||et[1]-Math.abs(rt)+ut[1]<o||et[0]-Math.abs(st)+ut[0]<o)&&(Ft||et[1]-Math.abs(rt)+ut[1]<o||et[0]+Math.abs(st)-ut[0]<o)&&(jt||et[0]-Math.abs(st)+ut[0]<o||et[1]+Math.abs(rt)-ut[1]<o))continue;!It&&Math.abs(st)<o||!xt&&Math.abs(rt)<o||(vt=Math.abs(it[0]%j[0]),Jt=Math.abs(it[1]%j[1]),Pt=Math.abs(it[2]%j[0]),$t=Math.abs(it[3]%j[1]),Et=j[0]-vt,Gt=j[1]-Jt,_t=j[0]-Pt,bt=j[1]-$t,!(!Yt&&(st-ut[0]-it[0]-et[0]+Et<o&&Et-et[0]<o||st-ut[0]-it[0]-et[0]-vt<o&&vt-et[0]<o||-st-ut[0]+it[2]-et[0]+_t<o&&_t-et[0]<o||-st-ut[0]+it[2]-et[0]-Pt<o&&Pt-et[0]<o||-rt-ut[1]+it[1]-et[1]+Gt<o&&Gt-et[1]<o||-rt-ut[1]+it[1]-et[1]-Jt<o&&Jt-et[1]<o||rt-ut[1]-it[3]-et[1]+bt<o&&bt-et[1]<o||rt-ut[1]-it[3]-et[1]-$t<o&&$t-et[1]<o||-rt-ut[1]+it[1]<o||st-ut[0]-it[0]<o||rt-ut[1]-it[3]<o||-st-ut[0]+it[2]<o))&&(ot=tt(pt,d,st,rt,ut[0],ut[1],it),JXG$1.concat(this.dataX,ot[0]),JXG$1.concat(this.dataY,ot[1])))}else{for(lt=JXG$1.evaluate(d.visProp.margin),rt=nt;ht&&rt>=it[3];rt-=ct[1]){if(gt=Mat.roundToStep(Math.abs(rt),j[1]),gt=Math.abs(gt-Math.abs(rt)),mt=j[1]-gt,Nt==="line"){if(gt-ut[1]-et[1]<o||mt-ut[1]-et[1]<o)continue}else if((gt-ut[1]-et[1]<o||mt-ut[1]-et[1]<o)&&(Bt||et[1]-Math.abs(rt)+ut[1]<o)&&(Ft||et[1]-Math.abs(rt)+ut[1]<o)&&(jt||et[1]+Math.abs(rt)-ut[1]<o))continue;!xt&&Math.abs(rt)<o||(vt=Math.abs(it[0]%j[0]),Jt=Math.abs(it[1]%j[1]),Pt=Math.abs(it[2]%j[0]),$t=Math.abs(it[3]%j[1]),Et=j[0]-vt,Gt=j[1]-Jt,_t=j[0]-Pt,bt=j[1]-$t,!(!Yt&&(-rt-ut[1]+it[1]-et[1]+Gt<o&&Gt-et[1]<o||-rt-ut[1]+it[1]-et[1]-Jt<o&&Jt-et[1]<o||rt-ut[1]-it[3]-et[1]+bt<o&&bt-et[1]<o||rt-ut[1]-it[3]-et[1]-$t<o&&$t-et[1]<o||-rt-ut[1]+it[1]<o||rt-ut[1]-it[3]<o))&&(ot=[[it[0]-lt/d.board.unitX,it[2]+lt/d.board.unitX,NaN],[rt,rt,NaN]],JXG$1.concat(this.dataX,ot[0]),JXG$1.concat(this.dataY,ot[1])))}for(st=at;ht&&st<=it[2];st+=ct[0]){if(dt=Mat.roundToStep(Math.abs(st),j[0]),dt=Math.abs(dt-Math.abs(st)),ft=j[0]-dt,Nt==="line"){if(dt-ut[0]-et[0]<o||ft-ut[0]-et[0]<o)continue}else if((dt-ut[0]-et[0]<o||ft-ut[0]-et[0]<o)&&(Bt||et[0]-Math.abs(st)+ut[0]<o)&&(Ft||et[0]+Math.abs(st)-ut[0]<o)&&(jt||et[0]-Math.abs(st)+ut[0]<o))continue;!It&&Math.abs(st)<o||(vt=Math.abs(it[0]%j[0]),Jt=Math.abs(it[1]%j[1]),Pt=Math.abs(it[2]%j[0]),$t=Math.abs(it[3]%j[1]),Et=j[0]-vt,Gt=j[1]-Jt,_t=j[0]-Pt,bt=j[1]-$t,!(!Yt&&(st-ut[0]-it[0]-et[0]+Et<o&&Et-et[0]<o||st-ut[0]-it[0]-et[0]-vt<o&&vt-et[0]<o||-st-ut[0]+it[2]-et[0]+_t<o&&_t-et[0]<o||-st-ut[0]+it[2]-et[0]-Pt<o&&Pt-et[0]<o||st-ut[0]-it[0]<o||-st-ut[0]+it[2]<o))&&(ot=[[st,st,NaN],[it[1]+lt/d.board.unitY,it[3]-lt/d.board.unitY,NaN]],JXG$1.concat(this.dataX,ot[0]),JXG$1.concat(this.dataY,ot[1])))}}},e.grids.push(c),e.grids.push(d),c};JXG$1.registerElement("grid",JXG$1.createGrid);JXG$1.Image=function(e,s,a,o,h){this.constructor(e,a,Const.OBJECT_TYPE_IMAGE,Const.OBJECT_CLASS_OTHER),this.element=this.board.select(a.anchor),this.coordsConstructor(s),this.W=JXG$1.createFunction(h[0],this.board,""),this.H=JXG$1.createFunction(h[1],this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*e.unitX),Math.abs(this.usrSize[1]*e.unitY)],this.url=o,this.elType="image",this.span=[this.coords.usrCoords.slice(0),[this.coords.usrCoords[0],this.W(),0],[this.coords.usrCoords[0],0,this.H()]],this.id=this.board.setId(this,"Im"),this.board.renderer.drawImage(this),this.board.finalizeAdding(this),this.methodMap=JXG$1.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform",W:"W",Width:"W",H:"H",Height:"H",setSize:"setSize"})};JXG$1.Image.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Image,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.Image.prototype,{hasPoint:function(e,s){var a,o,h,c,d,g,_,b,$,j=this.transformations.length;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(c=this.board._inputDevice,d=JXG$1.evaluate(this.visProp.precision[c])):d=this.board.options.precision.hasPoint,j===0?(a=e-this.coords.scrCoords[1],o=this.coords.scrCoords[2]-s,h=d,a>=-h&&a-this.size[0]<=h&&o>=-h&&o-this.size[1]<=h):(g=new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board),g=g.usrCoords,_=[g[0]-this.span[0][0],g[1]-this.span[0][1],g[2]-this.span[0][2]],$=Mat.innerProduct,b=$(_,this.span[1]),0<=b&&b<=$(this.span[1],this.span[1])&&(b=$(_,this.span[2]),0<=b&&b<=$(this.span[2],this.span[2])))},update:function(e){return this.needsUpdate?(this.updateCoords(e),this.updateSize(),this.updateSpan(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateImage")},updateSize:function(){return this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)],this},updateSpan:function(){var e,s,a=this.transformations.length,o=[];if(a===0)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(o[0]=[this.Z(),this.X(),this.Y()],o[1]=[this.Z(),this.X()+this.W(),this.Y()],o[2]=[this.Z(),this.X(),this.Y()+this.H()],e=0;e<a;e++)for(s=0;s<3;s++)o[s]=Mat.matVecMult(this.transformations[e].matrix,o[s]);for(s=0;s<3;s++)o[s][1]/=o[s][0],o[s][2]/=o[s][0],o[s][0]/=o[s][0];for(s=1;s<3;s++)o[s][0]-=o[0][0],o[s][1]-=o[0][1],o[s][2]-=o[0][2];this.span=o}return this},addTransform:function(e){var s;if(JXG$1.isArray(e))for(s=0;s<e.length;s++)this.transformations.push(e[s]);else this.transformations.push(e);return this},getParents:function(){var e=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return this.parents.length!==0&&(e=this.parents),e},setSize:function(e,s){return this.W=JXG$1.createFunction(e,this.board,""),this.H=JXG$1.createFunction(s,this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this},W:function(){},H:function(){}});JXG$1.createImage=function(e,s,a){var o,h,c=s[0],d=s[1],g=s[2];if(o=JXG$1.copyAttributes(a,e.options,"image"),h=CoordsElement.create(JXG$1.Image,e,d,o,c,g),!h)throw new Error("JSXGraph: Can't create image with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [x,y], [z,x,y], [element,transformation]`);return o.rotate!==0&&h.addRotation(o.rotate),h};JXG$1.registerElement("image",JXG$1.createImage);JXG$1.Image;JXG$1.createSlider=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt,ft;return ft=JXG$1.copyAttributes(a,e.options,"slider"),lt=ft.withticks,rt=ft.withlabel,ct=ft.snapwidth,ot=ft.snapvalues,ht=ft.snapvaluedistance,b=e.create("point",s[0],ft.point1),$=e.create("point",s[1],ft.point2),_e=e.create("segment",[b,$],ft.baseline),_e.updateStdform(),o=b.coords.usrCoords.slice(1),h=$.coords.usrCoords.slice(1),c=s[2][0],d=s[2][1],g=s[2][2],_=g-c,ut=JXG$1.evaluate(ct),dt=ut===-1?d:Math.round(d/ut)*ut,nt=o[0]+(h[0]-o[0])*(dt-c)/(g-c),st=o[1]+(h[1]-o[1])*(dt-c)/(g-c),ft.withlabel=!1,j=e.create("glider",[nt,st,_e],ft),j.setAttribute({snapwidth:ct,snapvalues:ot,snapvaluedistance:ht}),et=e.create("segment",[b,j],ft.highline),j.Value=function(){var gt=this._smax-this._smin,mt=JXG$1.evaluate(this.visProp.snapwidth);return mt===-1?this.position*gt+this._smin:Math.round((this.position*gt+this._smin)/mt)*mt},j.methodMap=JXG$1.deepCopy(j.methodMap,{Value:"Value",setValue:"setValue",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin",point1:"point1",point2:"point2",baseline:"baseline",highline:"highline",ticks:"ticks",label:"label"}),j._smax=g,j._smin=c,j.setMax=function(gt){return this._smax=gt,this},j.setValue=function(gt){var mt=this._smax-this._smin;return Math.abs(mt)>Mat.eps?this.position=(gt-this._smin)/mt:this.position=0,this.position=Math.max(0,Math.min(1,this.position)),this},j.setMin=function(gt){return this._smin=gt,this},rt&&(at=e.create("text",[function(){return($.X()-b.X())*.05+$.X()},function(){return($.Y()-b.Y())*.05+$.Y()},function(){var gt,mt=JXG$1.evaluate(j.visProp.digits),vt=JXG$1.evaluate(j.visProp.suffixlabel),Jt=JXG$1.evaluate(j.visProp.unitlabel),Pt=JXG$1.evaluate(j.visProp.postlabel);return mt===2&&JXG$1.evaluate(j.visProp.precision)!==2&&(mt=JXG$1.evaluate(j.visProp.precision)),vt!==null?gt=vt:j.name&&j.name!==""?gt=j.name+" = ":gt="",j.useLocale()?gt+=j.formatNumberLocale(j.Value(),mt):gt+=JXG$1.toFixed(j.Value(),mt),Jt!==null&&(gt+=Jt),Pt!==null&&(gt+=Pt),gt}],ft.label),j.label=at,j.visProp.withlabel=!0,j.hasLabel=!0),j.point1=b,j.point2=$,j.baseline=_e,j.highline=et,lt&&(JXG$1.exists(ft.generatelabeltext)||(ft.ticks.generateLabelText=function(gt,mt,vt){var Jt,Pt=j.point1.Dist(j.point2),$t=j._smin,Et=j._smax,Gt=this.getDistanceFromZero(mt,gt)*(Et-$t)/Pt+$t;return Pt<Mat.eps||Math.abs(Gt)<Mat.eps?Jt="0":Jt=this.formatLabelText(Gt),Jt}),tt=2,it=e.create("ticks",[j.baseline,j.point1.Dist(b)/tt,function(gt){var mt=j.point1.Dist(j.point2),vt=j.point1.coords.distance(Const.COORDS_BY_USER,gt);return mt<Mat.eps?0:vt/mt*_+c}],ft.ticks),j.ticks=it),j.remove=function(){rt&&e.removeObject(at),e.removeObject(et),e.removeObject(_e),e.removeObject($),e.removeObject(b),Point.prototype.remove.call(j)},b.dump=!1,$.dump=!1,_e.dump=!1,et.dump=!1,rt&&(at.dump=!1),j.elType="slider",j.parents=s,j.subs={point1:b,point2:$,baseLine:_e,highLine:et},j.inherits.push(b,$,_e,et),_e.inherits=[],et.inherits=[],lt&&(it.dump=!1,j.subs.ticks=it,j.inherits.push(it)),j.getParents=function(){return[this.point1.coords.usrCoords.slice(1),this.point2.coords.usrCoords.slice(1),[this._smin,this.position*(this._smax-this._smin)+this._smin,this._smax]]},j.baseline.on("up",function(gt){var mt,vt;JXG$1.evaluate(j.visProp.moveonup)&&!JXG$1.evaluate(j.visProp.fixed)&&(mt=_e.board.getMousePosition(gt,0),vt=new Coords(Const.COORDS_BY_SCREEN,mt,this.board),j.moveTo([vt.usrCoords[1],vt.usrCoords[2]]),j.triggerEventHandlers(["drag"],[gt]))}),j.prepareUpdate().update(),e.isSuspendedUpdate||(j.updateVisibility().updateRenderer(),j.baseline.updateVisibility().updateRenderer(),j.highline.updateVisibility().updateRenderer(),lt&&j.ticks.updateVisibility().updateRenderer()),j};JXG$1.registerElement("slider",JXG$1.createSlider);JXG$1.PrefixParser={parse:function(e,s){var a,o,h,c,d,g;if(JXG$1.isNumber(e)||JXG$1.isString(e))return e;if(!JXG$1.isArray(e)||e.length<2)throw new Error("prefixParser.parse: term is not an array, number or string");if(a=e[0],h=e.length,s==="execute")if(JXG$1.isInArray(["+","-","*","/"],a))for(c=this.parse(e[1],s),o=2;o<h;o++)switch(g=this.parse(e[o],s),a){case"+":c+=g;break;case"-":c-=g;break;case"*":c*=g;break;case"/":c/=g;break}else if(a==="exec"){for(d=e[1],g=[],o=2;o<h;o++)g.push(this.parse(e[o],s));if(JXG$1.exists(Math[d]))c=Math[d].apply(this,g);else if(JXG$1.exists(Mat[d]))c=Mat[d].apply(this,g);else throw new Error("PrefixParser.parse: "+d+" is not allowed")}else{if(d=e[0],d==="V"&&(d="Value"),d==="Coords"&&(e[2]="true"),!JXG$1.exists(e[1][d]))throw new Error("PrefixParser.parse: "+d+" is not a method of "+e[1]);for(g=[],o=2;o<h;o++)g.push(this.parse(e[o],s));c=e[1][d].apply(e[1],g)}return c},dimension:function(e){var s,a,o,h,c,d,g,_;if(JXG$1.isNumber(e))return 0;if(!JXG$1.isArray(e)||e.length<2)throw new Error("PrefixParser.dimension: term is not an array");if(s=e[0],o=e.length,JXG$1.isInArray(["+","-","*","/"],s))for(h=this.dimension(e[1]),a=2;a<o;a++)switch(g=this.dimension(e[a]),s){case"+":g!==h&&(h=NaN);break;case"-":g!==h&&(h=NaN);break;case"*":h+=g;break;case"/":h-=g;break}else if(s==="exec")e[2].type===JXG$1.OBJECT_TYPE_MEASUREMENT?(h=e[2].Dimension(),JXG$1.exists(e[2].visProp.dim)&&(d=JXG$1.evaluate(e[2].visProp.dim),d!==null&&(h=d))):h=0;else switch(c=e[0],c){case"L":case"Length":case"Perimeter":case"Radius":case"R":h=1;break;case"Area":case"A":h=2;break;default:e[1].type===JXG$1.OBJECT_TYPE_MEASUREMENT?(h=e[1].Dimension(),JXG$1.exists(e[1].visProp.dim)&&(d=JXG$1.evaluate(e[1].visProp.dim),d!==null&&(h=d))):(h=0,(c==="Value"||c==="V")&&[Const.OBJECT_TYPE_ARC,Const.OBJECT_TYPE_SECTOR,Const.OBJECT_TYPE_ANGLE].indexOf(e[1].type)>=0&&(_="",e.length===3&&JXG$1.isString(e[2])&&(_=e[2].toLowerCase()),_===""?e[1].type===Const.OBJECT_TYPE_ANGLE?h=0:h=1:_.indexOf("len")===0?h=1:h=0))}return h},toPrefix:function(e){var s,a,o,h;if(JXG$1.isNumber(e))return e;if(!JXG$1.isArray(e)||e.length<2)throw new Error("PrefixParser.toPrefix: term is not an array");for(s=e[0],o=e.length,h=[s],a=1;a<o;a++)JXG$1.isInArray(["+","-","*","/"],s)?h.push(this.toPrefix(e[a])):s==="V"&&e[a].type===JXG$1.OBJECT_TYPE_MEASUREMENT?h=e[a].toPrefix():s==="exec"?a===1?h.push(e[a]):h.push(this.toPrefix(e[a])):h=[s,e[a].id];return h},getParents:function(e){var s,a,o,h;if(JXG$1.isNumber(e))return[];if(!JXG$1.isArray(e)||e.length<2)throw new Error("PrefixParser.getParents: term is not an array");for(s=e[0],o=e.length,h=[],a=1;a<o;a++)JXG$1.isInArray(["+","-","*","/"],s)?JXG$1.concat(h,this.getParents(e[a])):s==="V"&&e[a].type===JXG$1.OBJECT_TYPE_MEASUREMENT?JXG$1.concat(h,e[a].getParents()):s==="exec"?a>1&&JXG$1.concat(h,this.getParents(e[a])):h.push(e[a]);return h}};const Prefix=JXG$1.PrefixParser;JXG$1.createTapemeasure=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et;return o=s[0],h=s[1],c=JXG$1.copyAttributes(a,e.options,"tapemeasure","point1"),$=e.create("point",o,c),c=JXG$1.copyAttributes(a,e.options,"tapemeasure","point2"),j=e.create("point",h,c),$.setAttribute({ignoredSnapToPoints:[j.id]}),j.setAttribute({ignoredSnapToPoints:[$.id]}),c=JXG$1.copyAttributes(a,e.options,"tapemeasure"),d=c.withticks,g=c.withlabel,_=c.digits,_===2&&c.precision!==2&&(_=c.precision),g&&(c.withlabel=!0),b=e.create("segment",[$,j],c),g&&(a.name&&a.name!==""?_e=a.name+" = ":_e="",b.label.setText(function(){var tt=JXG$1.evaluate(b.label.visProp.digits);return b.label.useLocale()?_e+b.label.formatNumberLocale($.Dist(j),tt):_e+JXG$1.toFixed($.Dist(j),tt)})),d&&(c=JXG$1.copyAttributes(a,e.options,"tapemeasure","ticks"),et=e.create("ticks",[b,.1],c),b.inherits.push(et)),b.remove=function(){d&&b.removeTicks(et),e.removeObject(j),e.removeObject($),GeometryElement.prototype.remove.call(this)},b.Value=function(){return $.Dist(j)},$.dump=!1,j.dump=!1,b.elType="tapemeasure",b.getParents=function(){return[[$.X(),$.Y()],[j.X(),j.Y()]]},b.subs={point1:$,point2:j},d&&(et.dump=!1),b.methodMap=JXG$1.deepCopy(b.methodMap,{Value:"Value"}),b.prepareUpdate().update(),e.isSuspendedUpdate||(b.updateVisibility().updateRenderer(),b.point1.updateVisibility().updateRenderer(),b.point2.updateVisibility().updateRenderer()),b};JXG$1.registerElement("tapemeasure",JXG$1.createTapemeasure);JXG$1.createMeasurement=function(e,s,a){var o,h,c,d,g,_;for(h=JXG$1.copyAttributes(a,e.options,"measurement"),c=s[0],d=s[1],g=s[2],o=e.create("text",[c,d,""],h),o.type=JXG$1.OBJECT_TYPE_MEASUREMENT,o.elType="measurement",o.Value=function(){return Prefix.parse(g,"execute")},o.Dimension=function(){var b=JXG$1.evaluate(o.visProp.dim);return b!==null?b:Prefix.dimension(g)},o.Unit=function(){var b="",$=JXG$1.evaluate(o.visProp.units),j=o.Dimension();return JXG$1.isObject($)&&JXG$1.exists($[j])&&$[j]!==!1?b=JXG$1.evaluate($[j]):JXG$1.isObject($)&&JXG$1.exists($["dim"+j])&&$["dim"+j]!==!1?b=JXG$1.evaluate($["dim"+j]):(b=JXG$1.evaluate(o.visProp.baseunit),j===0?b="":j>1&&b!==""&&(b=b+"^{"+j+"}")),b},o.getTerm=function(){return g},o.getMethod=function(){var b=g[0];return b==="V"&&(b="Value"),b},o.toPrefix=function(){return Prefix.toPrefix(g)},o.getParents=function(){return Prefix.getParents(g)},o.addParents(o.getParents()),_=0;_<o.parents.length;_++)e.select(o.parents[_]).addChild(o);return o.setText(function(){var b="",$="",j=o.Dimension(),_e=JXG$1.evaluate(o.visProp.digits),et=o.Unit(),tt=o.Value(),it;if(JXG$1.evaluate(o.visProp.showprefix)&&(b=o.visProp.formatprefix.apply(o,[JXG$1.evaluate(o.visProp.prefix)])),JXG$1.evaluate(o.visProp.showsuffix)&&($=o.visProp.formatsuffix.apply(o,[JXG$1.evaluate(o.visProp.suffix)])),JXG$1.isNumber(tt))_e==="none"||(_e==="auto"?o.useLocale()?tt=o.formatNumberLocale(tt):tt=JXG$1.autoDigits(tt):o.useLocale()?tt=o.formatNumberLocale(tt,_e):tt=JXG$1.toFixed(tt,_e));else if(JXG$1.isArray(tt))for(it=0;it<tt.length;it++)JXG$1.isNumber(tt[it])&&(_e==="none"||(_e==="auto"?o.useLocale()?tt[it]=o.formatNumberLocale(tt[it]):tt[it]=JXG$1.autoDigits(tt[it]):o.useLocale()?tt[it]=o.formatNumberLocale(tt[it],_e):tt[it]=JXG$1.toFixed(tt[it],_e)));return j==="coords"&&JXG$1.isArray(tt)&&(tt.length===2&&tt.unshift(void 0),tt=o.visProp.formatcoords.apply(o,[tt[1],tt[2],tt[0]])),j==="direction"&&JXG$1.isArray(tt)&&(tt=o.visProp.formatdirection.apply(o,[tt[0],tt[1]])),JXG$1.isString(j)?b+tt+$:isNaN(j)?b+"NaN"+$:b+tt+et+$}),o.methodMap=JXG$1.deepCopy(o.methodMap,{Value:"Value",Dimension:"Dimension",Unit:"Unit",getTerm:"getTerm",Term:"getTerm",getMethod:"getMethod",Method:"getMethod",getParents:"getParents",Parents:"getParents"}),o};JXG$1.registerElement("measurement",JXG$1.createMeasurement);JXG$1.DataSource=function(){return this.data=[],this.columnHeaders=[],this.rowHeaders=[],this};JXG$1.extend(JXG$1.DataSource.prototype,{loadFromArray:function(e,s,a){var o,h,c;if(JXG$1.isArray(s)&&(this.columnHeaders=s,s=!1),JXG$1.isArray(a)&&(this.rowHeaders=a,a=!1),this.data=[],s&&(this.columnHeaders=[]),a&&(this.rowHeaders=[]),JXG$1.exists(e)){for(this.data=[],o=0;o<e.length;o++)for(this.data[o]=[],h=0;h<e[o].length;h++)c=e[o][h],parseFloat(c).toString()===c?this.data[o][h]=parseFloat(c):c!=="-"?this.data[o][h]=c:this.data[o][h]=NaN;if(s&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),a)for(this.rowHeaders=[],o=0;o<this.data.length;o++)this.rowHeaders.push(this.data[o][0]),this.data[o]=this.data[o].slice(1)}return this},loadFromTable:function(e,s,a){var o,h,c,d,g;if(JXG$1.isArray(s)&&(this.columnHeaders=s,s=!1),JXG$1.isArray(a)&&(this.rowHeaders=a,a=!1),this.data=[],s&&(this.columnHeaders=[]),a&&(this.rowHeaders=[]),e=document.getElementById(e),JXG$1.exists(e)){for(o=e.getElementsByTagName("tr"),this.data=[],h=0;h<o.length;h++)for(d=o[h].getElementsByTagName("td"),this.data[h]=[],c=0;c<d.length;c++)g=d[c].innerHTML,parseFloat(g).toString()===g?this.data[h][c]=parseFloat(g):g!=="-"?this.data[h][c]=g:this.data[h][c]=NaN;if(s&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),a)for(this.rowHeaders=[],h=0;h<this.data.length;h++)this.rowHeaders.push(this.data[h][0]),this.data[h]=this.data[h].slice(1)}return this},addColumn:function(e,s,a){throw new Error("not implemented")},addRow:function(e,s,a){throw new Error("not implemented")},getColumn:function(e){var s,a=[];if(JXG$1.isString(e)){for(s=0;s<this.columnHeaders.length;s++)if(e===this.columnHeaders[s]){e=s;break}}for(s=0;s<this.data.length;s++)this.data[s].length>e&&(a[s]=parseFloat(this.data[s][e]));return a},getRow:function(e){var s,a;if(JXG$1.isString(e)){for(a=0;a<this.rowHeaders.length;a++)if(e===this.rowHeaders[a]){e=a;break}}for(s=[],a=0;a<this.data[e].length;a++)s[a]=this.data[e][a];return s}});const DataSource=JXG$1.DataSource;JXG$1.Chart=function(e,s,a){this.constructor(e,a);var o,h,c,d,g,_;if(!JXG$1.isArray(s)||s.length===0)throw new Error("JSXGraph: Can't create a chart without data");if(this.elements=[],JXG$1.isNumber(s[0]))for(h=s,o=[],c=0;c<h.length;c++)o[c]=c+1;else if(s.length===1&&JXG$1.isArray(s[0]))for(h=s[0],o=[],_=JXG$1.evaluate(h).length,c=0;c<_;c++)o[c]=c+1;else s.length===2&&(_=Math.min(s[0].length,s[1].length),o=s[0].slice(0,_),h=s[1].slice(0,_));if(JXG$1.isArray(h)&&h.length===0)throw new Error("JSXGraph: Can't create charts without data.");for(g=a.chartstyle.replace(/ /g,"").split(","),c=0;c<g.length;c++){switch(g[c]){case"bar":d=this.drawBar(e,o,h,a);break;case"line":d=this.drawLine(e,o,h,a);break;case"fit":d=this.drawFit(e,o,h,a);break;case"spline":d=this.drawSpline(e,o,h,a);break;case"pie":d=this.drawPie(e,h,a);break;case"point":d=this.drawPoints(e,o,h,a);break;case"radar":d=this.drawRadar(e,s,a);break}this.elements.push(d)}return this.id=this.board.setId(this,"Chart"),this.elements};JXG$1.Chart.prototype=new GeometryElement;JXG$1.extend(JXG$1.Chart.prototype,{drawLine:function(e,s,a,o){return o.fillcolor="none",o.highlightfillcolor="none",e.create("curve",[s,a],o)},drawSpline:function(e,s,a,o){return o.fillColor="none",o.highlightfillcolor="none",e.create("spline",[s,a],o)},drawFit:function(e,s,a,o){var h=o.degree;return h=Math.max(parseInt(h,10),1)||1,o.fillcolor="none",o.highlightfillcolor="none",e.create("functiongraph",[Numerics.regressionPolynomial(h,s,a)],o)},drawBar:function(e,s,a,o){var h,c,d,g,_,b,$,j,_e=[],et=[],tt,it,at=function(st,rt){return function(){return s[st]()-rt*d}},nt={fixed:!0,withLabel:!1,visible:!1,name:""};if(tt=JXG$1.copyAttributes(o,e.options,"chart"),tt&&tt.width)d=tt.width;else{if(s.length<=1)d=1;else for(d=s[1]-s[0],h=1;h<s.length-1;h++)d=s[h+1]-s[h]<d?s[h+1]-s[h]:d;d*=.8}for(it=JXG$1.copyAttributes(o,e.options,"chart","label"),h=0;h<s.length;h++)JXG$1.isFunction(s[h])?(g=at(h,-.5),_=at(h,0),b=at(h,.5)):(g=s[h]-d*.5,_=s[h],b=s[h]+d*.5),JXG$1.isFunction(a[h])?$=a[h]():$=a[h],$=a[h],tt.dir==="horizontal"?(et[0]=e.create("point",[0,g],nt),et[1]=e.create("point",[$,g],nt),et[2]=e.create("point",[$,b],nt),et[3]=e.create("point",[0,b],nt),JXG$1.exists(tt.labels)&&JXG$1.exists(tt.labels[h])&&(it.anchorY="middle",c=e.create("text",[$,_,tt.labels[h]],it),c.visProp.anchorx=function(st){return function(){return st.X()>=0?"left":"right"}}(c))):(et[0]=e.create("point",[g,0],nt),et[1]=e.create("point",[g,$],nt),et[2]=e.create("point",[b,$],nt),et[3]=e.create("point",[b,0],nt),JXG$1.exists(tt.labels)&&JXG$1.exists(tt.labels[h])&&(it.anchorX="middle",c=e.create("text",[_,$,tt.labels[h]],it),c.visProp.anchory=function(st){return function(){return st.Y()>=0?"bottom":"top"}}(c))),JXG$1.isArray(tt.colors)&&(j=tt.colors,tt.fillcolor=j[h%j.length]),_e[h]=e.create("polygon",et,tt),JXG$1.exists(tt.labels)&&JXG$1.exists(tt.labels[h])&&(_e[h].text=c);return _e},drawPoints:function(e,s,a,o){var h,c=[],d=o.infoboxarray;for(o.fixed=!0,o.name="",h=0;h<s.length;h++)o.infoboxtext=d?d[h%d.length]:!1,c[h]=e.create("point",[s[h],a[h]],o);return c},drawPie:function(e,s,a){var o,h,c=[],d=[],g=a.colors,_=a.highlightcolors,b=a.labels,$=a.radius||4,j=$,_e=a.center||[0,0],et=_e[0],tt=_e[1],it=function(lt,ot,ht){return function(){var ct,ut,dt,ft=0;for(ut=0;ut<=lt;ut++)ft+=parseFloat(JXG$1.evaluate(s[ut]));for(ct=ft,ut=lt+1;ut<s.length;ut++)ct+=parseFloat(JXG$1.evaluate(s[ut]));return dt=ct!==0?2*Math.PI*ft/ct:0,j()*Math[ot](dt)+ht}},at=function(lt,ot){var ht=-this.point1.coords.usrCoords[1]+this.point2.coords.usrCoords[1],ct=-this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[2];JXG$1.exists(this.label)&&(this.label.rendNode.style.fontSize=ot*JXG$1.evaluate(this.label.visProp.fontsize)+"px",this.label.fullUpdate()),this.point2.coords=new Coords(Const.COORDS_BY_USER,[this.point1.coords.usrCoords[1]+ht*lt,this.point1.coords.usrCoords[2]+ct*lt],this.board),this.fullUpdate()},nt=function(){this.highlighted||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this),at.call(this,1.1,2))},st=function(){this.highlighted&&(this.highlighted=!1,this.board.renderer.noHighlight(this),at.call(this,.9090909,1))},rt={fixed:!0,withLabel:!1,visible:!1,name:""};if(!JXG$1.isArray(b))for(b=[],o=0;o<s.length;o++)b[o]="";for(JXG$1.isFunction($)||(j=function(){return $}),a.highlightonsector=a.highlightonsector||!1,a.straightfirst=!1,a.straightlast=!1,h=e.create("point",[et,tt],rt),c[0]=e.create("point",[function(){return j()+et},function(){return tt}],rt),o=0;o<s.length;o++)c[o+1]=e.create("point",[it(o,"cos",et),it(o,"sin",tt)],rt),a.name=b[o],a.withlabel=a.name!=="",a.fillcolor=g&&g[o%g.length],a.labelcolor=g&&g[o%g.length],a.highlightfillcolor=_&&_[o%_.length],d[o]=e.create("sector",[h,c[o],c[o+1]],a),a.highlightonsector&&(d[o].hasPoint=d[o].hasPointSector),a.highlightbysize&&(d[o].highlight=nt,d[o].noHighlight=st);return{sectors:d,points:c,midpoint:h}},drawRadar:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt,vt,Jt,Pt,$t,Et,Gt,_t,bt,yt,Ct,pt,Mt,xt,It,Nt,St,Bt,Ft,jt=s.length,Yt=function(){var Ht,Vt,Qt,_i,Zt=JXG$1.evaluate(this.visProp.label.offset).slice(0);return Ht=this.point1.X(),Vt=this.point2.X(),Qt=this.point1.Y(),_i=this.point2.Y(),Vt<Ht&&(Zt[0]=-Zt[0]),_i<Qt&&(Zt[1]=-Zt[1]),this.setLabelRelativeCoords(Zt),new Coords(Const.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)},Wt=function(Ht,Vt){var Qt,_i,Zt;return Qt=e.create("transform",[-(nt[Vt]-it[Vt]),0],{type:"translate"}),_i=e.create("transform",[ot/(st[Vt]+at[Vt]-(nt[Vt]-it[Vt])),1],{type:"scale"}),Qt.melt(_i),Zt=e.create("transform",[Ht],{type:"rotate"}),Qt.melt(Zt),Qt};if(jt<=0)throw new Error("JSXGraph radar chart: no data");if(c=a.paramarray,!JXG$1.exists(c))throw new Error("JSXGraph radar chart: need paramArray attribute");if(d=c.length,d<=1)throw new Error("JSXGraph radar chart: need more than one param in paramArray");for(o=0;o<jt;o++)if(d!==s[o].length)throw new Error("JSXGraph radar chart: use data length equal to number of params ("+s[o].length+" != "+d+")");for(g=[],_=[],h=0;h<d;h++)g[h]=s[0][h],_[h]=g[h];for(o=1;o<jt;o++)for(h=0;h<d;h++)s[o][h]>g[h]&&(g[h]=s[o][h]),s[o][h]<_[h]&&(_[h]=s[o][h]);for(b=[],$=[],o=0;o<jt;o++)b[o]="",$[o]=[];for(j=[],_e=[],et=a.startshiftratio||0,tt=a.endshiftratio||0,o=0;o<d;o++)j[o]=(g[o]-_[o])*et,_e[o]=(g[o]-_[o])*tt;if(it=a.startshiftarray||j,at=a.endshiftarray||_e,nt=a.startarray||_,JXG$1.exists(a.start))for(o=0;o<d;o++)nt[o]=a.start;if(st=a.endarray||g,JXG$1.exists(a.end))for(o=0;o<d;o++)st[o]=a.end;if(it.length!==d)throw new Error("JSXGraph radar chart: start shifts length is not equal to number of parameters");if(at.length!==d)throw new Error("JSXGraph radar chart: end shifts length is not equal to number of parameters");if(nt.length!==d)throw new Error("JSXGraph radar chart: starts length is not equal to number of parameters");if(st.length!==d)throw new Error("JSXGraph radar chart: snds length is not equal to number of parameters");for(rt=a.labelarray||b,lt=a.colors,ot=a.radius||10,Bt=a.strokewidth||1,JXG$1.exists(a.highlightonsector)||(a.highlightonsector=!1),ht={name:a.name,id:a.id,strokewidth:Bt,polystrokewidth:a.polystrokewidth||Bt,strokecolor:a.strokecolor||"black",straightfirst:!1,straightlast:!1,fillcolor:a.fillColor||"#FFFF88",fillopacity:a.fillOpacity||.4,highlightfillcolor:a.highlightFillColor||"#FF7400",highlightstrokecolor:a.highlightStrokeColor||"black",gradient:a.gradient||"none"},ct=a.center||[0,0],ut=ct[0],dt=ct[1],ft=e.create("point",[ut,dt],{name:"",fixed:!0,withlabel:!1,visible:!1}),gt=Math.PI/2-Math.PI/d,gt=a.startangle||0,mt=gt,vt=[],Jt=[],o=0;o<d;o++)for(mt+=2*Math.PI/d,$t=ot*Math.cos(mt)+ut,Et=ot*Math.sin(mt)+dt,vt[o]=e.create("point",[$t,Et],{name:"",fixed:!0,withlabel:!1,visible:!1}),Jt[o]=e.create("line",[ft,vt[o]],{name:c[o],strokeColor:ht.strokecolor,strokeWidth:ht.strokewidth,strokeOpacity:1,straightFirst:!1,straightLast:!1,withLabel:!0,highlightStrokeColor:ht.highlightstrokecolor}),Jt[o].getLabelAnchor=Yt,Pt=Wt(mt,o),h=0;h<s.length;h++)Ft=s[h][o],$[h][o]=e.create("point",[Ft,0],{name:"",fixed:!0,withlabel:!1,visible:!1}),$[h][o].addTransform($[h][o],Pt);for(Gt=[],o=0;o<jt;o++)for(ht.labelcolor=lt&&lt[o%lt.length],ht.strokecolor=lt&&lt[o%lt.length],ht.fillcolor=lt&&lt[o%lt.length],Gt[o]=e.create("polygon",$[o],{withLines:!0,withLabel:!1,fillColor:ht.fillcolor,fillOpacity:ht.fillopacity,highlightFillColor:ht.highlightfillcolor}),h=0;h<d;h++)Gt[o].borders[h].setAttribute("strokecolor:"+lt[o%lt.length]),Gt[o].borders[h].setAttribute("strokewidth:"+ht.polystrokewidth);switch(_t=a.legendposition||"none",_t){case"right":yt=a.legendleftoffset||2,Ct=a.legendtopoffset||1,this.legend=e.create("legend",[ut+ot+yt,dt+ot-Ct],{labels:rt,colors:lt});break;case"none":break;default:JXG$1.debug("Unknown legend position")}if(bt=[],a.showcircles){for(pt=[],o=0;o<6;o++)pt[o]=20*o;if(pt[0]="0",Mt=a.circlelabelarray||pt,xt=Mt.length,xt<2)throw new Error("JSXGraph radar chart: too less circles in circleLabelArray");for(It=[],Nt=gt+Math.PI/d,Pt=Wt(Nt,0),ht.fillcolor="none",ht.highlightfillcolor="none",ht.strokecolor=a.strokecolor||"black",ht.strokewidth=a.circlestrokewidth||.5,ht.layer=0,St=(st[0]-nt[0])/(xt-1),o=0;o<xt;o++)It[o]=e.create("point",[nt[0]+o*St,0],{name:Mt[o],size:0,fixed:!0,withLabel:!0,visible:!0}),It[o].addTransform(It[o],Pt),bt[o]=e.create("circle",[ft,It[o]],ht)}return this.rendNode=Gt[0].rendNode,{circles:bt,lines:Jt,points:$,midpoint:ft,polygons:Gt}},updateRenderer:function(){return this},update:function(){return this.needsUpdate&&this.updateDataArray(),this},updateDataArray:function(){return this}});JXG$1.createChart=function(e,s,a){var o,h,c,d,g,_=[],b,$,j,_e,et,tt,it,at,nt,st,rt,lt=JXG$1.isBrowser?e.document.getElementById(s[0]):null;if(s.length===1&&JXG$1.isString(s[0])){if(JXG$1.exists(lt)){if(_e=JXG$1.copyAttributes(a,e.options,"chart"),lt=new DataSource().loadFromTable(s[0],_e.withheaders,_e.withheaders),o=lt.data,g=lt.columnHeaders,h=lt.rowHeaders,et=_e.width,tt=_e.name,it=_e.strokecolor,at=_e.fillcolor,nt=_e.highlightstrokecolor,st=_e.highlightfillcolor,e.suspendUpdate(),rt=o.length,j=[],_e.rows&&JXG$1.isArray(_e.rows)){for(c=0;c<rt;c++)for(d=0;d<_e.rows.length;d++)if(_e.rows[d]===c||_e.withheaders&&_e.rows[d]===h[c]){j.push(o[c]);break}}else j=o;for(rt=j.length,c=0;c<rt;c++){if($=[],_e.chartstyle&&_e.chartstyle.indexOf("bar")!==-1){for(et?b=et:b=.8,$.push(1-b/2+(c+.5)*b/rt),d=1;d<j[c].length;d++)$.push($[d-1]+1);_e.width=b/rt}tt&&tt.length===rt?_e.name=tt[c]:_e.withheaders&&(_e.name=g[c]),it&&it.length===rt?_e.strokecolor=it[c]:_e.strokecolor=JXG$1.hsv2rgb((c+1)/rt*360,.9,.6),at&&at.length===rt?_e.fillcolor=at[c]:_e.fillcolor=JXG$1.hsv2rgb((c+1)/rt*360,.9,1),nt&&nt.length===rt?_e.highlightstrokecolor=nt[c]:_e.highlightstrokecolor=JXG$1.hsv2rgb((c+1)/rt*360,.9,1),st&&st.length===rt?_e.highlightfillcolor=st[c]:_e.highlightfillcolor=JXG$1.hsv2rgb((c+1)/rt*360,.9,.6),_e.chartstyle&&_e.chartstyle.indexOf("bar")!==-1?_.push(new JXG$1.Chart(e,[$,j[c]],_e)):_.push(new JXG$1.Chart(e,[j[c]],_e))}e.unsuspendUpdate()}return _}return _e=JXG$1.copyAttributes(a,e.options,"chart"),new JXG$1.Chart(e,s,_e)};JXG$1.registerElement("chart",JXG$1.createChart);JXG$1.Legend=function(e,s,a){var o;if(this.constructor(),o=JXG$1.copyAttributes(a,e.options,"legend"),this.board=e,this.coords=new Coords(Const.COORDS_BY_USER,s,this.board),this.myAtts={},this.label_array=o.labelarray||o.labels,this.color_array=o.colorarray||o.colors,this.lines=[],this.myAtts.strokewidth=o.strokewidth||5,this.myAtts.straightfirst=!1,this.myAtts.straightlast=!1,this.myAtts.withlabel=!0,this.myAtts.fixed=!0,this.style=o.legendstyle||o.style,this.style==="vertical")this.drawVerticalLegend(e,o);else throw new Error("JSXGraph: Unknown legend style: "+this.style)};JXG$1.Legend.prototype=new GeometryElement;JXG$1.Legend.prototype.drawVerticalLegend=function(e,s){var a,o=s.linelength||1,h=(s.rowheight||20)/this.board.unitY,c=function(){return this.setLabelRelativeCoords(this.visProp.label.offset),new Coords(Const.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)};for(a=0;a<this.label_array.length;a++)this.myAtts.name=this.label_array[a],this.myAtts.strokecolor=this.color_array[a%this.color_array.length],this.myAtts.highlightstrokecolor=this.color_array[a%this.color_array.length],this.myAtts.label={offset:[10,0],strokeColor:this.color_array[a%this.color_array.length],strokeWidth:this.myAtts.strokewidth},this.lines[a]=e.create("line",[[this.coords.usrCoords[1],this.coords.usrCoords[2]-a*h],[this.coords.usrCoords[1]+o,this.coords.usrCoords[2]-a*h]],this.myAtts),this.lines[a].getLabelAnchor=c,this.lines[a].prepareUpdate().update().updateVisibility(JXG$1.evaluate(this.lines[a].visProp.visible)).updateRenderer()};JXG$1.createLegend=function(e,s,a){var o=[0,0];if(JXG$1.exists(s)&&s.length===2)o=s;else throw new Error("JSXGraph: Legend element needs two numbers as parameters");return new JXG$1.Legend(e,o,a)};JXG$1.registerElement("legend",JXG$1.createLegend);JXG$1.Chart,JXG$1.Legend;JXG$1.Transformation=function(e,s,a){this.elementClass=Const.OBJECT_CLASS_OTHER,this.type=Const.OBJECT_TYPE_TRANSFORMATION,this.matrix=[[1,0,0],[0,1,0],[0,0,1]],this.board=e,this.isNumericMatrix=!1,this.setMatrix(e,s,a),this.methodMap={apply:"apply",applyOnce:"applyOnce",bindTo:"bindTo",bind:"bindTo",melt:"melt"}};JXG$1.Transformation.prototype={};JXG$1.extend(JXG$1.Transformation.prototype,{update:function(){return this},setMatrix:function(e,s,a){var o;for(this.isNumericMatrix=!0,o=0;o<a.length;o++)if(typeof a[o]!="number"){this.isNumericMatrix=!1;break}if(s==="translate"){if(a.length!==2)throw new Error("JSXGraph: translate transformation needs 2 parameters.");this.evalParam=JXG$1.createEvalFunction(e,a,2),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1)}}else if(s==="scale"){if(a.length!==2)throw new Error("JSXGraph: scale transformation needs 2 parameters.");this.evalParam=JXG$1.createEvalFunction(e,a,2),this.update=function(){this.matrix[1][1]=this.evalParam(0),this.matrix[2][2]=this.evalParam(1)}}else if(s==="reflect")a.length<4&&(a[0]=e.select(a[0])),a.length===2&&(a[1]=e.select(a[1])),a.length===4&&(this.evalParam=JXG$1.createEvalFunction(e,a,4)),this.update=function(){var h,c,d,g,_,b,$,j;a.length===1?$=a[0].stdform:a.length===2?$=Mat.crossProduct(a[1].coords.usrCoords,a[0].coords.usrCoords):a.length===4&&($=Mat.crossProduct([1,this.evalParam(2),this.evalParam(3)],[1,this.evalParam(0),this.evalParam(1)])),h=$[1],c=$[2],d=$[0],j=[-d*h,-d*c,h*h+c*c],b=j[2],g=j[0]/j[2],_=j[1]/j[2],h=-$[2],c=$[1],this.matrix[1][1]=(h*h-c*c)/b,this.matrix[1][2]=2*h*c/b,this.matrix[2][1]=this.matrix[1][2],this.matrix[2][2]=-this.matrix[1][1],this.matrix[1][0]=g*(1-this.matrix[1][1])-_*this.matrix[1][2],this.matrix[2][0]=_*(1-this.matrix[2][2])-g*this.matrix[2][1]};else if(s==="rotate")a.length===3?this.evalParam=JXG$1.createEvalFunction(e,a,3):a.length>0&&a.length<=2&&(this.evalParam=JXG$1.createEvalFunction(e,a,1),a.length===2&&!JXG$1.isArray(a[1])&&(a[1]=e.select(a[1]))),this.update=function(){var h,c,d=this.evalParam(0),g=Math.cos(d),_=Math.sin(d);this.matrix[1][1]=g,this.matrix[1][2]=-_,this.matrix[2][1]=_,this.matrix[2][2]=g,a.length>1&&(a.length===3?(h=this.evalParam(1),c=this.evalParam(2)):JXG$1.isArray(a[1])?(h=a[1][0],c=a[1][1]):(h=a[1].X(),c=a[1].Y()),this.matrix[1][0]=h*(1-g)+c*_,this.matrix[2][0]=c*(1-g)-h*_)};else if(s==="shear"){if(a.length!==2)throw new Error("JSXGraph: shear transformation needs 2 parameters.");this.evalParam=JXG$1.createEvalFunction(e,a,2),this.update=function(){this.matrix[1][2]=this.evalParam(0),this.matrix[2][1]=this.evalParam(1)}}else if(s==="generic"){if(a.length!==9)throw new Error("JSXGraph: generic transformation needs 9 parameters.");this.evalParam=JXG$1.createEvalFunction(e,a,9),this.update=function(){this.matrix[0][0]=this.evalParam(0),this.matrix[0][1]=this.evalParam(1),this.matrix[0][2]=this.evalParam(2),this.matrix[1][0]=this.evalParam(3),this.matrix[1][1]=this.evalParam(4),this.matrix[1][2]=this.evalParam(5),this.matrix[2][0]=this.evalParam(6),this.matrix[2][1]=this.evalParam(7),this.matrix[2][2]=this.evalParam(8)}}},apply:function(e,s){return this.update(),JXG$1.exists(s)?Mat.matVecMult(this.matrix,e.initialCoords.usrCoords):Mat.matVecMult(this.matrix,e.coords.usrCoords)},applyOnce:function(e){var s,a,o;for(JXG$1.isArray(e)||(e=[e]),a=e.length,o=0;o<a;o++)this.update(),s=Mat.matVecMult(this.matrix,e[o].coords.usrCoords),e[o].coords.setCoordinates(Const.COORDS_BY_USER,s)},bindTo:function(e){var s,a;if(JXG$1.isArray(e))for(a=e.length,s=0;s<a;s++)e[s].transformations.push(this);else e.transformations.push(this)},setProperty:function(e){JXG$1.deprecated("Transformation.setProperty()","Transformation.setAttribute()")},setAttribute:function(e){},melt:function(e){var s=[],a,o,h,c,d,g;for(o=e.matrix.length,h=this.matrix[0].length,a=0;a<o;a++)s[a]=[];for(this.update(),e.update(),a=0;a<o;a++)for(g=0;g<h;g++){for(d=0,c=0;c<o;c++)d+=e.matrix[a][c]*this.matrix[c][g];s[a][g]=d}return this.update=function(){var _=this.matrix.length,b=this.matrix[0].length;for(a=0;a<_;a++)for(g=0;g<b;g++)this.matrix[a][g]=s[a][g]},this},getParents:function(){var e=[[].concat.apply([],this.matrix)];return this.parents.length!==0&&(e=this.parents),e}});JXG$1.createTransform=function(e,s,a){return new JXG$1.Transformation(e,a.type,s)};JXG$1.registerElement("transform",JXG$1.createTransform);JXG$1.Transformation;JXG$1.Turtle=function(e,s,a){var o,h,c;return this.constructor(e,a,Const.OBJECT_TYPE_TURTLE,Const.OBJECT_CLASS_OTHER),this.turtleIsHidden=!1,this.board=e,this.visProp.curveType="plot",this._attributes=JXG$1.copyAttributes(this.visProp,e.options,"turtle"),delete this._attributes.id,o=0,h=0,c=90,s.length!==0&&(s.length===3?(o=s[0],h=s[1],c=s[2]):s.length===2?JXG$1.isArray(s[0])?(o=s[0][0],h=s[0][1],c=s[1]):(o=s[0],h=s[1]):(o=s[0][0],h=s[0][1])),this.init(o,h,c),this.methodMap=JXG$1.deepCopy(this.methodMap,{forward:"forward",fd:"forward",back:"back",bk:"back",right:"right",rt:"right",left:"left",lt:"left",penUp:"penUp",pu:"penUp",up:"penUp",penDown:"penDown",pd:"penDown",down:"penDown",clearScreen:"clearScreen",cs:"clearScreen",clean:"clean",setPos:"setPos",home:"home",hideTurtle:"hideTurtle",ht:"hideTurtle",hide:"hideTurtle",showTurtle:"showTurtle",st:"showTurtle",show:"showTurtle",penSize:"setPenSize",setPenSize:"setPenSize",penColor:"setPenColor",setPenColor:"setPenColor",highlightPenColor:"setHighlightPenColor",setHighlightPenColor:"setHighlightPenColor",getPenColor:"getPenColor",Color:"getPenColor",getHighlightPenColor:"getHighlightPenColor",HighlightColor:"getHighlightPenColor",getPenSize:"getPenSize",Size:"getPenSize",pushTurtle:"pushTurtle",push:"pushTurtle",popTurtle:"popTurtle",pop:"popTurtle",lookTo:"lookTo",pos:"pos",Pos:"pos",moveTo:"moveTo",X:"X",Y:"Y"}),this};JXG$1.Turtle.prototype=new GeometryElement;JXG$1.extend(JXG$1.Turtle.prototype,{init:function(e,s,a){var o={fixed:!0,name:"",visible:!1,withLabel:!1};this.arrowLen=20/Mat.hypot(this.board.unitX,this.board.unitY),this.pos=[e,s],this.isPenDown=!0,this.dir=90,this.stack=[],this.objects=[],this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.turtle=this.board.create("point",this.pos,o),this.objects.push(this.turtle),this.turtle2=this.board.create("point",[this.pos[0],this.pos[1]+this.arrowLen],o),this.objects.push(this.turtle2),this.visProp.arrow.lastArrow=!0,this.visProp.arrow.straightFirst=!1,this.visProp.arrow.straightLast=!1,this.arrow=this.board.create("line",[this.turtle,this.turtle2],this.visProp.arrow),this.objects.push(this.arrow),this.subs={arrow:this.arrow},this.inherits.push(this.arrow),this.right(90-a),this.board.update()},forward:function(e){if(e===0)return this;var s,a=e*Math.cos(this.dir*Math.PI/180),o=e*Math.sin(this.dir*Math.PI/180);return this.turtleIsHidden||(s=this.board.create("transform",[a,o],{type:"translate"}),s.applyOnce(this.turtle),s.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]+=a,this.pos[1]+=o,this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update(),this},back:function(e){return this.forward(-e)},right:function(e){if(this.dir-=e,this.dir%=360,!this.turtleIsHidden){var s=this.board.create("transform",[-e*Math.PI/180,this.turtle],{type:"rotate"});s.applyOnce(this.turtle2)}return this.board.update(),this},left:function(e){return this.right(-e)},penUp:function(){return this.isPenDown=!1,this},penDown:function(){return this.isPenDown=!0,this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this},clean:function(){var e,s;for(e=0;e<this.objects.length;e++)s=this.objects[e],s.type===Const.OBJECT_TYPE_CURVE&&(this.board.removeObject(s),this.objects.splice(e,1));return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},clearScreen:function(){var e,s,a=this.objects.length;for(e=0;e<a;e++)s=this.objects[e],this.board.removeObject(s);return this.init(0,0,90),this},setPos:function(e,s){var a;return JXG$1.isArray(e)?this.pos=e:this.pos=[e,s],this.turtleIsHidden||(this.turtle.setPositionDirectly(Const.COORDS_BY_USER,[e,s]),this.turtle2.setPositionDirectly(Const.COORDS_BY_USER,[e,s+this.arrowLen]),a=this.board.create("transform",[-(this.dir-90)*Math.PI/180,this.turtle],{type:"rotate"}),a.applyOnce(this.turtle2)),this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},setPenSize:function(e){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeWidth",e)),this.objects.push(this.curve),this},setPenColor:function(e){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeColor",e)),this.objects.push(this.curve),this},getPenAttribute:function(e){var s,a=this.objects.length;return a===4?s=0:s=a-1,JXG$1.evaluate(this.objects[s].visProp[e])},getPenSize:function(){return this.getPenAttribute("strokewidth")},getPenColor:function(){return this.getPenAttribute("strokecolor")},getHighlightPenColor:function(){return this.getPenAttribute("highlightstrokecolor")},setHighlightPenColor:function(e){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("highlightStrokeColor",e)),this.objects.push(this.curve),this},setAttribute:function(e){var s,a,o,h=this.objects.length;for(s=0;s<h;s++)a=this.objects[s],a.type===Const.OBJECT_TYPE_CURVE&&a.setAttribute(e);return o=this.visProp.id,this.visProp=JXG$1.deepCopy(this.curve.visProp),this.visProp.id=o,this._attributes=JXG$1.deepCopy(this.visProp),delete this._attributes.id,this},copyAttr:function(e,s){return this._attributes[e.toLowerCase()]=s,this._attributes},showTurtle:function(){return this.turtleIsHidden=!1,this.arrow.setAttribute({visible:!0}),this.visProp.arrow.visible=!1,this.setPos(this.pos[0],this.pos[1]),this.board.update(),this},hideTurtle:function(){return this.turtleIsHidden=!0,this.arrow.setAttribute({visible:!1}),this.visProp.arrow.visible=!1,this.board.update(),this},home:function(){return this.pos=[0,0],this.setPos(this.pos[0],this.pos[1]),this},pushTurtle:function(){return this.stack.push([this.pos[0],this.pos[1],this.dir]),this},popTurtle:function(){var e=this.stack.pop();return this.pos[0]=e[0],this.pos[1]=e[1],this.dir=e[2],this.setPos(this.pos[0],this.pos[1]),this},lookTo:function(e){var s,a,o,h,c;return JXG$1.isArray(e)?(s=this.pos[0],a=this.pos[1],o=e[0],h=e[1],c=Math.atan2(h-a,o-s),this.right(this.dir-c*180/Math.PI)):JXG$1.isNumber(e)&&this.right(this.dir-e),this},moveTo:function(e){var s,a,o;return JXG$1.isArray(e)&&(s=e[0]-this.pos[0],a=e[1]-this.pos[1],this.turtleIsHidden||(o=this.board.create("transform",[s,a],{type:"translate"}),o.applyOnce(this.turtle),o.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]=e[0],this.pos[1]=e[1],this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update()),this},fd:function(e){return this.forward(e)},bk:function(e){return this.back(e)},lt:function(e){return this.left(e)},rt:function(e){return this.right(e)},pu:function(){return this.penUp()},pd:function(){return this.penDown()},ht:function(){return this.hideTurtle()},st:function(){return this.showTurtle()},cs:function(){return this.clearScreen()},push:function(){return this.pushTurtle()},pop:function(){return this.popTurtle()},evalAt:function(e,s){var a,o,h,c,d=this.objects.length;for(a=0,o=0;a<d;a++)if(h=this.objects[a],h.elementClass===Const.OBJECT_CLASS_CURVE){if(o<=e&&e<o+h.numberPoints)return c=e-o,h[s](c);o+=h.numberPoints}return this[s]()},X:function(e){return JXG$1.exists(e)?this.evalAt(e,"X"):this.pos[0]},Y:function(e){return JXG$1.exists(e)?this.evalAt(e,"Y"):this.pos[1]},Z:function(e){return 1},minX:function(){return 0},maxX:function(){var e,s,a=this.objects.length,o=0;for(e=0;e<a;e++)s=this.objects[e],s.elementClass===Const.OBJECT_CLASS_CURVE&&(o+=this.objects[e].numberPoints);return o},hasPoint:function(e,s){var a,o;for(a=0;a<this.objects.length;a++)if(o=this.objects[a],o.type===Const.OBJECT_TYPE_CURVE&&o.hasPoint(e,s))return!0;return!1}});JXG$1.createTurtle=function(e,s,a){var o;return s=s||[],o=JXG$1.copyAttributes(a,e.options,"turtle"),new JXG$1.Turtle(e,s,o)};JXG$1.registerElement("turtle",JXG$1.createTurtle);JXG$1.Turtle;JXG$1.Ticks=function(e,s,a){if(this.constructor(e.board,a,Const.OBJECT_TYPE_TICKS,Const.OBJECT_CLASS_OTHER),this.line=e,this.board=this.line.board,this.fixedTicks=null,this.equidistant=!1,this.labelsData=[],JXG$1.isFunction(s))throw this.ticksFunction=s,new Error("Function arguments are no longer supported.");JXG$1.isArray(s)?this.fixedTicks=s:this.equidistant=!0,this.ticks=[],this.labels=[],this.labelCounter=0,this.id=this.line.addTicks(this),this.elType="ticks",this.inherits.push(this.labels),this.board.setId(this,"Ti")};JXG$1.Ticks.prototype=new GeometryElement;JXG$1.extend(JXG$1.Ticks.prototype,{hasPoint:function(e,s){var a,o,h,c,d=this.ticks&&this.ticks.length||0;if(JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(c=this.board._inputDevice,h=JXG$1.evaluate(this.visProp.precision[c])):h=this.board.options.precision.hasPoint,h+=JXG$1.evaluate(this.visProp.strokewidth)*.5,!JXG$1.evaluate(this.line.visProp.scalable)||this.line.elementClass===Const.OBJECT_CLASS_CURVE||this.line.stdform[1]!==0&&this.line.stdform[2]!==0&&this.line.type!==Const.OBJECT_TYPE_AXIS)return!1;for(a=0;a<d;a++)if(o=this.ticks[a],o[2]&&!(this.line.stdform[1]===0&&Math.abs(o[0][0]-this.line.point1.coords.scrCoords[1])<Mat.eps||this.line.stdform[2]===0&&Math.abs(o[1][0]-this.line.point1.coords.scrCoords[2])<Mat.eps)&&(Math.abs(o[0][0]-o[0][1])>=1||Math.abs(o[1][0]-o[1][1])>=1)){if(this.line.stdform[1]===0){if(Math.abs(s-this.line.point1.coords.scrCoords[2])<2*h&&o[0][0]-h<e&&e<o[0][1]+h)return!0}else if(this.line.stdform[2]===0&&Math.abs(e-this.line.point1.coords.scrCoords[1])<2*h&&o[1][0]-h<s&&s<o[1][1]+h)return!0}return!1},setPositionDirectly:function(e,s,a){var o,h,c=new Coords(e,s,this.board),d=new Coords(e,a,this.board),g=this.board.getBoundingBox();return this.line.type!==Const.OBJECT_TYPE_AXIS||!JXG$1.evaluate(this.line.visProp.scalable)?this:(Math.abs(this.line.stdform[1])<Mat.eps&&Math.abs(c.usrCoords[1]*d.usrCoords[1])>Mat.eps?(o=d.usrCoords[1]/c.usrCoords[1],g[0]*=o,g[2]*=o,this.board.setBoundingBox(g,this.board.keepaspectratio,"update")):Math.abs(this.line.stdform[2])<Mat.eps&&Math.abs(c.usrCoords[2]*d.usrCoords[2])>Mat.eps&&(h=d.usrCoords[2]/c.usrCoords[2],g[3]*=h,g[1]*=h,this.board.setBoundingBox(g,this.board.keepaspectratio,"update")),this)},calculateTicksCoordinates:function(){var e,s,a,o;if(!(this.line.elementClass===Const.OBJECT_CLASS_LINE&&(this.setTicksSizeVariables(),Math.abs(this.dx)<Mat.eps&&Math.abs(this.dy)<Mat.eps)))return e=this.getZeroCoordinates(),this.line.elementClass===Const.OBJECT_CLASS_LINE?s=this.getLowerAndUpperBounds(e,"ticksdistance"):s={lower:this.line.minX(),upper:this.line.maxX(),a1:0,a2:0,m1:0,m2:0},JXG$1.evaluate(this.visProp.type)==="polar"&&(o=this.board.getBoundingBox(),a=Math.max(Mat.hypot(o[0],o[1]),Mat.hypot(o[2],o[3])),s.upper=a),this.ticks=[],this.labelsData=[],this.equidistant?this.generateEquidistantTicks(e,s):this.generateFixedTicks(e,s),this},setTicksSizeVariables:function(e){var s,a,o,h,c=JXG$1.evaluate(this.visProp.majorheight)*.5,d=JXG$1.evaluate(this.visProp.minorheight)*.5;JXG$1.exists(e)?(a=this.line.minX(),o=this.line.maxX(),h=this.line.points.length,h<2?(this.dxMaj=0,this.dyMaj=0):Mat.relDif(e,a)<Mat.eps?(this.dxMaj=this.line.points[0].usrCoords[2]-this.line.points[1].usrCoords[2],this.dyMaj=this.line.points[1].usrCoords[1]-this.line.points[0].usrCoords[1]):Mat.relDif(e,o)<Mat.eps?(this.dxMaj=this.line.points[h-2].usrCoords[2]-this.line.points[h-1].usrCoords[2],this.dyMaj=this.line.points[h-1].usrCoords[1]-this.line.points[h-2].usrCoords[1]):(this.dxMaj=-Numerics.D(this.line.Y)(e),this.dyMaj=Numerics.D(this.line.X)(e))):(this.dxMaj=this.line.stdform[1],this.dyMaj=this.line.stdform[2]),this.dxMin=this.dxMaj,this.dyMin=this.dyMaj,this.dx=this.dxMaj,this.dy=this.dyMaj,s=Mat.hypot(this.dxMaj*this.board.unitX,this.dyMaj*this.board.unitY),this.dxMaj*=c/s*this.board.unitX,this.dyMaj*=c/s*this.board.unitY,this.dxMin*=d/s*this.board.unitX,this.dyMin*=d/s*this.board.unitY,this.minStyle=JXG$1.evaluate(this.visProp.minorheight)<0?"infinite":"finite",this.majStyle=JXG$1.evaluate(this.visProp.majorheight)<0?"infinite":"finite"},getZeroCoordinates:function(){var e,s,a,o,h,c,d,g,_,b=JXG$1.evaluate(this.visProp.anchor);return this.line.elementClass===Const.OBJECT_CLASS_LINE?this.line.type===Const.OBJECT_TYPE_AXIS?Geometry.projectPointToLine({coords:{usrCoords:[1,0,0]}},this.line,this.board):(a=this.line.point1.coords.usrCoords[0],e=this.line.point1.coords.usrCoords[1],s=this.line.point1.coords.usrCoords[2],c=this.line.point2.coords.usrCoords[0],o=this.line.point2.coords.usrCoords[1],h=this.line.point2.coords.usrCoords[2],b==="right"?this.line.point2.coords:b==="middle"?new Coords(Const.COORDS_BY_USER,[(a+c)*.5,(e+o)*.5,(s+h)*.5],this.board):JXG$1.isNumber(b)?new Coords(Const.COORDS_BY_USER,[a+(c-a)*b,e+(o-e)*b,s+(h-s)*b],this.board):this.line.point1.coords):(g=this.line.minX(),_=this.line.maxX(),b==="right"?d=_:b==="middle"?d=(g+_)*.5:JXG$1.isNumber(b)?d=g*(1-b)+_*b:d=g,d)},getLowerAndUpperBounds:function(e,s){var a,o,h,c,d,g,_,b,$,j,_e,et,tt,it,at,nt=Mat.eps*10,st=JXG$1.evaluate(this.line.visProp.straightfirst),rt=JXG$1.evaluate(this.line.visProp.straightlast),lt=JXG$1.evaluate(this.visProp.includeboundaries);return this.line.elementClass===Const.OBJECT_CLASS_CURVE?{lower:this.line.minX(),upper:this.line.maxX()}:(d=new Coords(Const.COORDS_BY_USER,this.line.point1.coords.usrCoords,this.board),g=new Coords(Const.COORDS_BY_USER,this.line.point2.coords.usrCoords,this.board),_=Math.abs(d.usrCoords[0])>=Mat.eps&&d.scrCoords[1]>=0&&d.scrCoords[1]<=this.board.canvasWidth&&d.scrCoords[2]>=0&&d.scrCoords[2]<=this.board.canvasHeight,b=Math.abs(g.usrCoords[0])>=Mat.eps&&g.scrCoords[1]>=0&&g.scrCoords[1]<=this.board.canvasWidth&&g.scrCoords[2]>=0&&g.scrCoords[2]<=this.board.canvasHeight,JXG$1.exists(s)&&s==="ticksdistance"?(Geometry.calcStraight(this.line,d,g,0),it=this.getDistanceFromZero(e,d),at=this.getDistanceFromZero(e,g),Geometry.calcStraight(this.line,d,g,JXG$1.evaluate(this.line.visProp.margin)),it=this.getDistanceFromZero(e,d)-it,at=this.getDistanceFromZero(e,g).m2):Geometry.calcLineDelimitingPoints(this.line,d,g),h=JXG$1.evaluate(this.line.visProp.firstarrow),c=JXG$1.evaluate(this.line.visProp.lastarrow),et=this.getDistanceFromZero(e,d),tt=this.getDistanceFromZero(e,g),(h||c)&&(_e=this.board.renderer.getArrowHeadData(this.line,JXG$1.evaluate(this.line.visProp.strokewidth),""),this.board.renderer.getPositionArrowHead(this.line,d,g,_e)),$=this.getDistanceFromZero(e,d),j=this.getDistanceFromZero(e,g),et=$-et,tt=$-tt,$<j?(a=$,o=j,!st&&_&&!lt&&(a+=nt),!rt&&b&&!lt&&(o-=nt)):j<$?(a=j,o=$,!rt&&b&&!lt&&(a+=nt),!st&&_&&!lt&&(o-=nt)):(a=0,o=0),{lower:a,upper:o,a1:et,a2:tt,m1:it,m2:at})},getDistanceFromZero:function(e,s){var a,o,h,c,d;return a=this.line.point1.coords,o=this.line.point2.coords,d=e.distance(Const.COORDS_BY_USER,s),h=[o.usrCoords[0]-a.usrCoords[0],o.usrCoords[1]-a.usrCoords[1],o.usrCoords[2]-a.usrCoords[2]],c=[s.usrCoords[0]-e.usrCoords[0],s.usrCoords[1]-e.usrCoords[1],s.usrCoords[2]-e.usrCoords[2]],Mat.innerProduct(h,c,3)<0&&(d*=-1),d},generateEquidistantTicks:function(e,s){var a,o=Mat.eps,h,c,d=JXG$1.evaluate(this.visProp.minorticks);if(c=this.getDistanceMajorTicks(),this.line.elementClass===Const.OBJECT_CLASS_LINE&&(h=this.getXandYdeltas()),c*=JXG$1.evaluate(this.visProp.scale),c/=d+1,this.ticksDelta=c,!(c<Mat.eps)){for(a=0,JXG$1.evaluate(this.visProp.drawzero)||(a=c);a<=s.upper+o&&(a>=s.lower-o&&this.processTickPosition(e,a,c,h),a+=c,!(s.upper-a>c*1e4)););for(a=-c;a>=s.lower-o&&(a<=s.upper+o&&this.processTickPosition(e,a,c,h),a-=c,!(a-s.lower>c*1e4)););}},getDistanceMajorTicks:function(){var e,s,a,o,h,c,d=5,g,_,b;return JXG$1.evaluate(this.visProp.insertticks)?(a=this.getLowerAndUpperBounds(this.getZeroCoordinates(),""),h=a.upper-a.lower,c=JXG$1.evaluate(this.visProp.scale),g=h/(d+1)/c,_=JXG$1.evaluate(this.visProp.minticksdistance)/c,b=JXG$1.evaluate(this.visProp.minorticks),o=this.getXandYdeltas(),o.x*=this.board.unitX,o.y*=this.board.unitY,_/=Mat.hypot(o.x,o.y),_*=b+1,e=Math.pow(10,Math.floor(Math.log(_)/Math.LN10)),2*e>=_?e*=2:5*e>=_&&(e*=5),s=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),5*s<g?s*=5:2*s<g&&(s*=2),e=Math.max(e,s),e):JXG$1.evaluate(this.visProp.ticksdistance)},processTickPosition:function(e,s,a,o){var h,c,d,g,_,b=JXG$1.evaluate(this.visProp.ticksperlabel),$=null;this.line.elementClass===Const.OBJECT_CLASS_LINE?(h=e.usrCoords[1]+s*o.x,c=e.usrCoords[2]+s*o.y):(h=this.line.X(e+s),c=this.line.Y(e+s)),d=new Coords(Const.COORDS_BY_USER,[h,c],this.board),this.line.elementClass===Const.OBJECT_CLASS_CURVE&&($=e+s,this.setTicksSizeVariables($)),d.major=Math.round(s/a)%(JXG$1.evaluate(this.visProp.minorticks)+1)===0,b||(b=JXG$1.evaluate(this.visProp.minorticks)+1),_=Math.round(s/a)%b===0,g=this.createTickPath(d,d.major),g.length===3&&(this.ticks.push(g),_&&JXG$1.evaluate(this.visProp.drawlabels)?this.labelsData.push(this.generateLabelData(this.generateLabelText(d,e,$),d,this.ticks.length)):this.labelsData.push(null))},generateFixedTicks:function(e,s){var a,o,h,c,d,g,_=Mat.eps,b,$=JXG$1.isArray(this.visProp.labels),j,_e=JXG$1.evaluate(this.visProp.drawlabels);for(this.line.elementClass===Const.OBJECT_CLASS_LINE&&(j=this.getXandYdeltas()),h=0;h<this.fixedTicks.length;h++)this.line.elementClass===Const.OBJECT_CLASS_LINE?(b=this.fixedTicks[h],d=e.usrCoords[1]+b*j.x,g=e.usrCoords[2]+b*j.y):(b=e+this.fixedTicks[h],d=this.line.X(b),g=this.line.Y(b)),a=new Coords(Const.COORDS_BY_USER,[d,g],this.board),this.line.elementClass===Const.OBJECT_CLASS_CURVE&&this.setTicksSizeVariables(b),c=this.createTickPath(a,!0),c.length===3&&b>=s.lower-_&&b<=s.upper+_&&(this.ticks.push(c),_e&&($||JXG$1.exists(this.visProp.labels[h]))?(o=$?JXG$1.evaluate(this.visProp.labels[h]):b,this.labelsData.push(this.generateLabelData(this.generateLabelText(a,e,o),a,h))):this.labelsData.push(null))},getXandYdeltas:function(){var e,s,a=this.line.point1.Dist(this.line.point2);return e=this.line.point1.coords.usrCoords,s=this.line.point2.coords.usrCoords,{x:(s[1]-e[1])/a,y:(s[2]-e[2])/a}},_isInsideCanvas:function(e,s,a){var o=this.board.canvasWidth,h=this.board.canvasHeight;return a===void 0&&(a=0),e[0]>=a&&e[0]<=o-a&&s[0]>=a&&s[0]<=h-a||e[1]>=a&&e[1]<=o-a&&s[1]>=a&&s[1]<=h-a},createTickPath:function(e,s){var a,o,h,c,d,g,_,b,$,j=[-2e6,-2e6],_e=[-2e6,-2e6],et,tt,it,at,nt,st,rt,lt,ot;if(a=e.scrCoords,s?(c=this.dxMaj,d=this.dyMaj,$=this.majStyle,rt=JXG$1.evaluate(this.visProp.majortickendings[0])>0,lt=JXG$1.evaluate(this.visProp.majortickendings[1])>0):(c=this.dxMin,d=this.dyMin,$=this.minStyle,rt=JXG$1.evaluate(this.visProp.tickendings[0])>0,lt=JXG$1.evaluate(this.visProp.tickendings[1])>0),o=[-d*a[1]-c*a[2],d,c],s&&JXG$1.evaluate(this.visProp.type)==="polar"){if(at=this.board.getBoundingBox(),nt=2*Math.PI,st=nt/180,a=e.usrCoords,tt=Mat.hypot(a[1],a[2]),it=Math.max(Mat.hypot(at[0],at[1]),Mat.hypot(at[2],at[3])),tt<it){for(j=[],_e=[],et=0;et<=nt;et+=st)j.push(this.board.origin.scrCoords[1]+tt*Math.cos(et)*this.board.unitX),_e.push(this.board.origin.scrCoords[2]+tt*Math.sin(et)*this.board.unitY);return[j,_e,s]}}else{if($==="infinite"){if(JXG$1.evaluate(this.visProp.ignoreinfinitetickendings)&&(rt=lt=!0),h=Geometry.meetLineBoard(o,this.board),rt&&lt)j[0]=h[0].scrCoords[1],j[1]=h[1].scrCoords[1],_e[0]=h[0].scrCoords[2],_e[1]=h[1].scrCoords[2];else if(ot=[Mat.innerProduct(h[0].usrCoords.slice(1,3),this.line.stdform.slice(1,3))+this.line.stdform[0],Mat.innerProduct(h[1].usrCoords.slice(1,3),this.line.stdform.slice(1,3))+this.line.stdform[0]],ot[0]<ot[1]&&(h.reverse(),ot.reverse()),rt){if(ot[0]<0)return[];ot[1]<0?(j[0]=h[0].scrCoords[1],_e[0]=h[0].scrCoords[2],j[1]=a[1],_e[1]=a[2]):(j[0]=h[0].scrCoords[1],_e[0]=h[0].scrCoords[2],j[1]=h[1].scrCoords[1],_e[1]=h[1].scrCoords[2])}else if(lt){if(ot[1]>0)return[];ot[0]>0?(j[0]=a[1],_e[0]=a[2],j[1]=h[1].scrCoords[1],_e[1]=h[1].scrCoords[2]):(j[0]=h[0].scrCoords[1],_e[0]=h[0].scrCoords[2],j[1]=h[1].scrCoords[1],_e[1]=h[1].scrCoords[2])}}else JXG$1.evaluate(this.visProp.face)===">"?b=Math.PI/4:JXG$1.evaluate(this.visProp.face)==="<"?b=-Math.PI/4:b=0,g=Math.cos(b)*c-Math.sin(b)*d,_=Math.sin(b)*c+Math.cos(b)*d,j[0]=a[1]+g*rt,_e[0]=a[2]-_*rt,j[1]=a[1],_e[1]=a[2],b=-b,g=Math.cos(b)*c-Math.sin(b)*d,_=Math.sin(b)*c+Math.cos(b)*d,j[2]=a[1]-g*lt,_e[2]=a[2]+_*lt;if(this._isInsideCanvas(j,_e))return[j,_e,s]}return[]},formatLabelText:function(e){var s,a,o=JXG$1.evaluate(this.visProp.label.usemathjax),h=JXG$1.evaluate(this.visProp.label.usekatex),c=JXG$1.evaluate(this.visProp.scalesymbol);return JXG$1.isNumber(e)?(JXG$1.evaluate(this.visProp.label.tofraction)?o?s="\\("+JXG$1.toFraction(e,!0)+"\\)":s=JXG$1.toFraction(e,h):(a=JXG$1.evaluate(this.visProp.digits),this.useLocale()?s=this.formatNumberLocale(e,a):(s=(Math.round(e*1e11)/1e11).toString(),(s.length>JXG$1.evaluate(this.visProp.maxlabellength)||s.indexOf("e")!==-1)&&(JXG$1.evaluate(this.visProp.precision)!==3&&a===3&&(a=JXG$1.evaluate(this.visProp.precision)),s=e.toExponential(a).toString()))),JXG$1.evaluate(this.visProp.beautifulscientificticklabels)&&(s=this.beautifyScientificNotationLabel(s)),s.indexOf(".")>-1&&s.indexOf("e")===-1&&(s=s.replace(/0+$/,""),s=s.replace(/\.$/,""))):s=e.toString(),c.length>0&&(s==="1"?s=c:s==="-1"?s="-"+c:s!=="0"&&(s=s+c)),JXG$1.evaluate(this.visProp.useunicodeminus)&&(s=s.replace(/-/g,"−")),s},beautifyScientificNotationLabel:function(e){var s;return e.indexOf("e")===-1?e:(s=parseFloat(e.substring(0,e.indexOf("e")))+e.substring(e.indexOf("e")),s=s.replace(/e(.*)$/g,function(a,o){var h="•10";return h+=o.replace(/-/g,"⁻").replace(/\+/g,"").replace(/0/g,"⁰").replace(/1/g,"¹").replace(/2/g,"²").replace(/3/g,"³").replace(/4/g,"⁴").replace(/5/g,"⁵").replace(/6/g,"⁶").replace(/7/g,"⁷").replace(/8/g,"⁸").replace(/9/g,"⁹"),h}),s)},generateLabelText:function(e,s,a){var o,h;if(!JXG$1.exists(a)){if(h=this.getDistanceFromZero(s,e),Math.abs(h)<Mat.eps)return"0";a=h/JXG$1.evaluate(this.visProp.scale)}return o=this.formatLabelText(a),o},generateLabelData:function(e,s,a){var o,h,c,d;return d=JXG$1.evaluate(this.visProp.label.fontsize),o=[s.scrCoords[1],s.scrCoords[1]],h=[s.scrCoords[2],s.scrCoords[2]],c=d===void 0?12:d,c*=.5,this._isInsideCanvas(o,h,c)?(o=JXG$1.evaluate(this.visProp.label.offset[0]),h=JXG$1.evaluate(this.visProp.label.offset[1]),{x:s.usrCoords[1]+o/this.board.unitX,y:s.usrCoords[2]+h/this.board.unitY,t:e,i:a}):null},update:function(){return this.needsUpdate&&this.board.canvasWidth!==0&&this.board.canvasHeight!==0&&this.calculateTicksCoordinates(),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&this.board.renderer.updateTicks(this),this.updateRendererLabels(),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateRendererLabels:function(){var e,s,a,o,h,c,d,g;for(a=this.labelsData.length,o=this.labels.length,e=0,s=0;e<a;e++)this.labelsData[e]!==null&&(d=this.labelsData[e],s<o?(c=this.labels[s],c.setText(d.t),c.setCoords(d.x,d.y),s++):(this.labelCounter+=1,h={isLabel:!0,layer:this.board.options.layer.line,highlightStrokeColor:this.board.options.text.strokeColor,highlightStrokeWidth:this.board.options.text.strokeWidth,highlightStrokeOpacity:this.board.options.text.strokeOpacity,priv:this.visProp.priv},h=JXG$1.deepCopy(h,this.visProp.label),h.id=this.id+d.i+"Label"+this.labelCounter,c=JXG$1.createText(this.board,[d.x,d.y,d.t],h),this.addChild(c),c.setParents(this),c.isDraggable=!1,c.dump=!1,this.labels.push(c)),g=JXG$1.evaluate(this.visProp.label.visible),g==="inherit"&&(g=this.visPropCalc.visible),c.prepareUpdate().updateVisibility(g).updateRenderer(),c.distanceX=JXG$1.evaluate(this.visProp.label.offset[0]),c.distanceY=JXG$1.evaluate(this.visProp.label.offset[1]));for(a=s,s=a;s<o;s++)this.board.renderer.display(this.labels[s],!1),this.labels[s].visProp.visible=this.labels[s].visPropCalc.visible=!1;return this},hideElement:function(){var e;for(JXG$1.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),e=0;e<this.labels.length;e++)JXG$1.exists(this.labels[e])&&this.labels[e].hideElement();return this},showElement:function(){var e;for(JXG$1.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!1),e=0;e<this.labels.length;e++)JXG$1.exists(this.labels[e])&&this.labels[e].showElement();return this}});JXG$1.createTicks=function(e,s,a){var o,h,c=JXG$1.copyAttributes(a,e.options,"ticks");if(s.length<2?h=c.ticksdistance:h=s[1],s[0].elementClass===Const.OBJECT_CLASS_LINE||s[0].elementClass===Const.OBJECT_CLASS_CURVE)o=new JXG$1.Ticks(s[0],h,c);else throw new Error("JSXGraph: Can't create Ticks with parent types '"+typeof s[0]+"'.");return JXG$1.isFunction(c.generatelabelvalue)&&(o.generateLabelText=c.generatelabelvalue),JXG$1.isFunction(c.generatelabeltext)&&(o.generateLabelText=c.generatelabeltext),o.setParents(s[0]),o.isDraggable=!0,o.fullUpdate(s[0].visPropCalc.visible),o};JXG$1.createHatchmark=function(e,s,a){var o,h,c,d,g,_,b=[],$=JXG$1.copyAttributes(a,e.options,"hatch");if(s[0].elementClass!==Const.OBJECT_CLASS_LINE&&s[0].elementClass!==Const.OBJECT_CLASS_CURVE||typeof s[1]!="number")throw new Error("JSXGraph: Can't create Hatch mark with parent types '"+typeof s[0]+"' and '"+typeof s[1]+" and ''"+typeof s[2]+"'.");for(o=s[1],d=$.ticksdistance,g=(o-1)*d,c=-g*.5,h=0;h<o;h++)b[h]=c+h*d;return _=e.create("ticks",[s[0],b],$),_.elType="hatch",s[0].inherits.push(_),_};JXG$1.registerElement("ticks",JXG$1.createTicks);JXG$1.registerElement("hash",JXG$1.createHatchmark);JXG$1.registerElement("hatch",JXG$1.createHatchmark);JXG$1.Ticks;var bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],NAMEMAX=256;JXG$1.Util=JXG$1.Util||{};JXG$1.Util.Unzip=function(e){var s,a,o,h,c=[],d=0,g=[],_=new Array(32768),b=0,$=!1,j=e.length,_e=0,et=1,tt=new Array(288),it=new Array(32),at=0,nt=null,st=0,rt=new Array(17),lt=[];rt[0]=0;function ot(){return _e<j?e[_e++]:-1}function ht(){et=1}function ct(){var _t;try{_t=et&1,et>>=1,et===0&&(et=ot(),_t=et&1,et=et>>1|128)}catch(bt){throw console.log("Probably problems on iOS7 with >>"),bt}return _t}function ut(_t){var bt=0,yt=_t;try{for(;yt--;)bt=bt<<1|ct();_t&&(bt=bitReverse[bt]>>8-_t)}catch(Ct){throw console.log("Probably problems on iOS7 with >>"),Ct}return bt}function dt(){b=0}function ft(_t){_[b++]=_t,c.push(String.fromCharCode(_t)),b===32768&&(b=0)}function gt(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function mt(){for(var _t=!0;_t;){if(rt[st]>=h)return-1;if(o[rt[st]]===st)return rt[st]++;rt[st]++}}function vt(){var _t=nt[at],bt;if(st===17)return-1;if(at++,st++,bt=mt(),bt>=0)_t.b0=bt;else if(_t.b0=32768,vt())return-1;if(bt=mt(),bt>=0)_t.b1=bt,_t.jump=null;else if(_t.b1=32768,_t.jump=nt[at],_t.jumppos=at,vt())return-1;return st--,0}function Jt(_t,bt,yt,Ct){var pt;for(nt=_t,at=0,o=yt,h=bt,pt=0;pt<17;pt++)rt[pt]=0;return st=0,vt()?-1:0}function Pt(_t){for(var bt,yt,Ct,pt=!0,Mt=0,xt=_t[Mt];pt;)if(Ct=ct(),Ct){if(!(xt.b1&32768))return xt.b1;for(xt=xt.jump,bt=_t.length,yt=0;yt<bt;yt++)if(_t[yt]===xt){Mt=yt;break}}else{if(!(xt.b0&32768))return xt.b0;Mt++,xt=_t[Mt]}}function $t(){var _t,bt,yt,Ct,pt,Mt,xt,It,Nt,St,Bt,Ft,jt,Yt,Wt,Ht,Vt=!0;do if(_t=ct(),yt=ut(2),yt===0)for(ht(),St=ot(),St|=ot()<<8,Ft=ot(),Ft|=ot()<<8,(St^~Ft)&65535&&JXG$1.debug(`BlockLen checksum mismatch
`);St--;)bt=ot(),ft(bt);else if(yt===1)for(;Vt;)if(pt=bitReverse[ut(7)]>>1,pt>23?(pt=pt<<1|ct(),pt>199?(pt-=128,pt=pt<<1|ct()):(pt-=48,pt>143&&(pt=pt+136))):pt+=256,pt<256)ft(pt);else{if(pt===256)break;for(pt-=257,Nt=ut(cplext[pt])+cplens[pt],pt=bitReverse[ut(5)]>>3,cpdext[pt]>8?(Bt=ut(8),Bt|=ut(cpdext[pt]-8)<<8):Bt=ut(cpdext[pt]),Bt+=cpdist[pt],pt=0;pt<Nt;pt++)bt=_[b-Bt&32767],ft(bt)}else if(yt===2){for(xt=new Array(320),Yt=257+ut(5),Wt=1+ut(5),Ht=4+ut(4),pt=0;pt<19;pt++)xt[pt]=0;for(pt=0;pt<Ht;pt++)xt[border[pt]]=ut(3);for(Nt=it.length,Ct=0;Ct<Nt;Ct++)it[Ct]=new gt;if(Jt(it,19,xt))return dt(),1;for(jt=Yt+Wt,Ct=0;Ct<jt;)if(pt=Pt(it),pt<16)xt[Ct++]=pt;else if(pt===16){if(pt=3+ut(2),Ct+pt>jt)return dt(),1;for(Mt=Ct?xt[Ct-1]:0;pt--;)xt[Ct++]=Mt}else{if(pt===17?pt=3+ut(3):pt=11+ut(7),Ct+pt>jt)return dt(),1;for(;pt--;)xt[Ct++]=0}for(Nt=tt.length,Ct=0;Ct<Nt;Ct++)tt[Ct]=new gt;if(Jt(tt,Yt,xt))return dt(),1;for(Nt=tt.length,Ct=0;Ct<Nt;Ct++)it[Ct]=new gt;for(It=[],Ct=Yt;Ct<xt.length;Ct++)It[Ct-Yt]=xt[Ct];if(Jt(it,Wt,It))return dt(),1;for(;Vt;)if(pt=Pt(tt),pt>=256){if(pt-=256,pt===0)break;for(pt-=1,Nt=ut(cplext[pt])+cplens[pt],pt=Pt(it),cpdext[pt]>8?(Bt=ut(8),Bt|=ut(cpdext[pt]-8)<<8):Bt=ut(cpdext[pt]),Bt+=cpdist[pt];Nt--;)bt=_[b-Bt&32767],ft(bt)}else ft(pt)}while(!_t);return dt(),ht(),0}function Et(){var _t,bt,yt,Ct,pt,Mt,xt,It,Nt=[];try{if(c=[],$=!1,Nt[0]=ot(),Nt[1]=ot(),Nt[0]===120&&Nt[1]===218&&($t(),g[d]=[c.join(""),"geonext.gxt"],d++),Nt[0]===31&&Nt[1]===139&&(Gt(),g[d]=[c.join(""),"file"],d++),Nt[0]===80&&Nt[1]===75){if($=!0,Nt[2]=ot(),Nt[3]=ot(),Nt[2]===3&&Nt[3]===4){for(Nt[0]=ot(),Nt[1]=ot(),s=ot(),s|=ot()<<8,It=ot(),It|=ot()<<8,ot(),ot(),ot(),ot(),xt=ot(),xt|=ot()<<8,xt|=ot()<<16,xt|=ot()<<24,Mt=ot(),Mt|=ot()<<8,Mt|=ot()<<16,Mt|=ot()<<24,pt=ot(),pt|=ot()<<8,pt|=ot()<<16,pt|=ot()<<24,Ct=ot(),Ct|=ot()<<8,yt=ot(),yt|=ot()<<8,_t=0,lt=[];Ct--;)bt=ot(),bt==="/"|bt===":"?_t=0:_t<NAMEMAX-1&&(lt[_t++]=String.fromCharCode(bt));for(a||(a=lt),_t=0;_t<yt;)bt=ot(),_t++;if(It===8&&($t(),g[d]=new Array(2),g[d][0]=c.join(""),g[d][1]=lt.join(""),d++),Gt())return!1}return!0}}catch(St){throw console.log("Probably problems on iOS7 with >>"),St}return!1}function Gt(){var _t,bt,yt,Ct,pt,Mt=[];if(s&8&&(Mt[0]=ot(),Mt[1]=ot(),Mt[2]=ot(),Mt[3]=ot(),Mt[0]===80&&Mt[1]===75&&Mt[2]===7&&Mt[3]===8?(_t=ot(),_t|=ot()<<8,_t|=ot()<<16,_t|=ot()<<24):_t=Mt[0]|Mt[1]<<8|Mt[2]<<16|Mt[3]<<24,bt=ot(),bt|=ot()<<8,bt|=ot()<<16,bt|=ot()<<24,yt=ot(),yt|=ot()<<8,yt|=ot()<<16,yt|=ot()<<24),$&&Et())return!1;if(Mt[0]=ot(),Mt[0]!==8)return!0;if(s=ot(),ot(),ot(),ot(),ot(),ot(),ot(),s&4)for(Mt[0]=ot(),Mt[2]=ot(),st=Mt[0]+256*Mt[1],Ct=0;Ct<st;Ct++)ot();if(s&8)for(Ct=0,lt=[],pt=ot();pt;)(pt==="7"||pt===":")&&(Ct=0),Ct<NAMEMAX-1&&(lt[Ct++]=pt),pt=ot();if(s&16)for(pt=ot();pt;)pt=ot();return s&2&&(ot(),ot()),$t(),_t=ot(),_t|=ot()<<8,_t|=ot()<<16,_t|=ot()<<24,yt=ot(),yt|=ot()<<8,yt|=ot()<<16,yt|=ot()<<24,$&&Et(),!1}JXG$1.Util.Unzip.prototype.unzipFile=function(_t){var bt;for(this.unzip(),bt=0;bt<g.length;bt++)if(g[bt][1]===_t)return g[bt][0];return""},JXG$1.Util.Unzip.prototype.unzip=function(){return Et(),g}};JXG$1.Util;JXG$1.CA=function(e,s,a){this.node=e,this.createNode=s,this.parser=a};JXG$1.extend(JXG$1.CA.prototype,{findMapNode:function(e,s){var a,o,h;if(s.value==="op_assign"&&s.children[0].value===e)return s.children[1];if(s.children){for(o=s.children.length,a=0;a<o;++a)if(h=this.findMapNode(e,s.children[a]),h!==null)return h}return null},setMath:function(e){var s,a;if((e.type=="node_op"&&(e.value=="op_add"||e.value=="op_sub"||e.value=="op_mul"||e.value=="op_div"||e.value=="op_neg"||e.value=="op_execfun"||e.value=="op_exp")||e.type=="node_var"||e.type=="node_const")&&(e.isMath=!0),e.children)for(a=e.children.length,s=0;s<a;++s)this.setMath(e.children[s])},deriveElementary:function(e,s){var a=e.children[0].value,o=e.children[1],h;switch(a){case"abs":h=this.createNode("node_op","op_div",o[0],this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0]))]));break;case"sqrt":h=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_mul",this.createNode("node_const",2),this.createNode(e.type,e.value,JXG$1.deepCopy(e.children[0]),JXG$1.deepCopy(e.children[1]))));break;case"sin":h=this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),JXG$1.deepCopy(o));break;case"cos":h=this.createNode("node_op","op_neg",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),JXG$1.deepCopy(o)));break;case"tan":h=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),JXG$1.deepCopy(o)),this.createNode("node_const",2)));break;case"cot":h=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),JXG$1.deepCopy(o)),this.createNode("node_const",2))));break;case"exp":h=this.createNode(e.type,e.value,JXG$1.deepCopy(e.children[0]),JXG$1.deepCopy(e.children[1]));break;case"pow":h=this.createNode("node_op","op_mul",this.createNode("node_op","op_execfun",JXG$1.deepCopy(e.children[0]),JXG$1.deepCopy(e.children[1])),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(e.children[1][0],s),this.createNode("node_op","op_div",JXG$1.deepCopy(e.children[1][1]),JXG$1.deepCopy(e.children[1][0]))),this.createNode("node_op","op_mul",this.derivative(e.children[1][1],s),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[JXG$1.deepCopy(e.children[1][0])]))));break;case"log":case"ln":h=this.createNode("node_op","op_div",this.createNode("node_const",1),JXG$1.deepCopy(o[0]));break;case"log2":case"lb":case"ld":h=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),JXG$1.deepCopy(o[0])),this.createNode("node_const",1.4426950408889634));break;case"log10":case"lg":h=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),JXG$1.deepCopy(o[0])),this.createNode("node_const",.43429448190325176));break;case"asin":h=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0])))]));break;case"acos":h=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0])))])));break;case"atan":h=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0]))));break;case"acot":h=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0])))));break;case"sinh":h=this.createNode("node_op","op_execfun",this.createNode("node_var","cosh"),[JXG$1.deepCopy(o[0])]);break;case"cosh":h=this.createNode("node_op","op_execfun",this.createNode("node_var","sinh"),[JXG$1.deepCopy(o[0])]);break;case"tanh":h=this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","tanh"),[JXG$1.deepCopy(o[0])]),this.createNode("node_const",2)));break;case"asinh":h=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_add",this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0])),this.createNode("node_const",1))]));break;case"acosh":h=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0])),this.createNode("node_const",1))]));break;case"atanh":h=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",JXG$1.deepCopy(o[0]),JXG$1.deepCopy(o[0]))));break;default:throw h=this.createNode("node_const",0),console.log('Derivative of "'+a+'" not yet implemented'),new Error("Error("+this.line+"): ")}return h},derivative:function(e,s){var a;switch(e.type){case"node_op":switch(e.value){case"op_execfun":e.children[0].value=="pow"?a=this.deriveElementary(e,s):e.children[1].length===0?a=this.createNode("node_const",0):a=this.createNode("node_op","op_mul",this.deriveElementary(e,s),this.derivative(e.children[1][0],s));break;case"op_div":a=this.createNode("node_op","op_div",this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",this.derivative(e.children[0],s),JXG$1.deepCopy(e.children[1])),this.createNode("node_op","op_mul",JXG$1.deepCopy(e.children[0]),this.derivative(e.children[1],s))),this.createNode("node_op","op_mul",JXG$1.deepCopy(e.children[1]),JXG$1.deepCopy(e.children[1])));break;case"op_mul":a=this.createNode("node_op","op_add",this.createNode("node_op","op_mul",JXG$1.deepCopy(e.children[0]),this.derivative(e.children[1],s)),this.createNode("node_op","op_mul",this.derivative(e.children[0],s),JXG$1.deepCopy(e.children[1])));break;case"op_neg":a=this.createNode("node_op","op_neg",this.derivative(e.children[0],s));break;case"op_add":case"op_sub":a=this.createNode("node_op",e.value,this.derivative(e.children[0],s),this.derivative(e.children[1],s));break;case"op_exp":a=this.createNode("node_op","op_mul",JXG$1.deepCopy(e),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(e.children[0],s),this.createNode("node_op","op_div",JXG$1.deepCopy(e.children[1]),JXG$1.deepCopy(e.children[0]))),this.createNode("node_op","op_mul",this.derivative(e.children[1],s),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[JXG$1.deepCopy(e.children[0])]))));break}break;case"node_var":e.value===s?a=this.createNode("node_const",1):a=this.createNode("node_const",0);break;case"node_const":a=this.createNode("node_const",0);break}return a},expandDerivatives:function(e,s,a){var o,h,c,d,g,_,b,$,j,_e,et,tt,it;if(_=0,!e)return _;for(this.line=e.line,this.col=e.col,o=e.children.length,h=0;h<o;++h)if(e.children[h]&&e.children[h].type)e.children[h]=this.expandDerivatives(e.children[h],e,a);else if(JXG$1.isArray(e.children[h]))for(c=0;c<e.children[h].length;++c)e.children[h][c]&&e.children[h][c].type&&(e.children[h][c]=this.expandDerivatives(e.children[h][c],e,a));switch(e.type){case"node_op":switch(e.value){case"op_execfun":if(e.children[0]&&e.children[0].value==="D"){if(it=!1,e.children[1][0].type=="node_var"&&(j=e.children[1][0].value,d=this.findMapNode(j,a),d!==null&&(it=!0)),it?(et=d.children[0],e.children[1].length>=2?_e=e.children[1][1].value:_e=d.children[0][0],g=d.children[1]):(g=e.children[1][0],et=["x"],e.children[1].length>=2?_e=e.children[1][1].value:_e="x"),e.children[1].length>=3?tt=e.children[1][2].value:tt=1,$=g,tt>=1)for(;tt>=1;)$=this.derivative($,_e),$=this.removeTrivialNodes($),tt--;s.type=="node_op"&&s.value=="op_assign"?b=this.createNode("node_op","op_map",et,$):b=$,this.setMath(b),e.type=b.type,e.value=b.value,b.children.length>0&&(e.children[0]=b.children[0]),b.children.length>1&&(e.children[1]=b.children[1])}}break}return e},removeTrivialNodes:function(e){var s,a,o,h,c;if(JXG$1.isArray(e))for(a=e.length,s=0;s<a;++s)e[s]=this.removeTrivialNodes(e[s]);if(e.type!="node_op"||!e.children)return e;for(a=e.children.length,s=0;s<a;++s){this.mayNotBeSimplified=!1;do e.children[s]=this.removeTrivialNodes(e.children[s]);while(this.mayNotBeSimplified)}switch(e.value){case"op_map":if(o=e.children[0],h=e.children[1],h.type=="node_var"){for(s=0;s<o.length;++s)if(o[s]==h.value){h.isMath=!0;break}}break;case"op_add":if(o=e.children[0],h=e.children[1],o.type=="node_const"&&o.value===0)return h;if(h.type=="node_const"&&h.value===0)return o;if(o.type=="node_const"&&h.type=="node_const")return o.value+=h.value,o;break;case"op_mul":if(o=e.children[0],h=e.children[1],o.type=="node_const"&&o.value==1)return h;if(h.type=="node_const"&&h.value==1||o.type=="node_const"&&o.value===0)return o;if(h.type=="node_const"&&h.value===0||h.type=="node_const"&&h.value===0)return h;if(o.type=="node_op"&&o.value=="op_neg"&&h.type=="node_op"&&h.value=="op_neg")return e.children=[o.children[0],h.children[0]],this.mayNotBeSimplified=!0,e;if(o.value=="op_neg"&&h.value!="op_neg")return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_mul",o.children[0],h)],this.mayNotBeSimplified=!0,e;if(o.value!="op_neg"&&h.value=="op_neg")return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_mul",o,h.children[0])],this.mayNotBeSimplified=!0,e;if(o.value=="op_div"&&o.children[0].type=="node_const"&&o.children[0].value==1)return e.type="node_op",e.value="op_div",e.children=[h,o.children[1]],this.mayNotBeSimplified=!0,e;if(h.value=="op_div"&&h.children[0].type=="node_const"&&h.children[0].value==1)return e.type="node_op",e.value="op_div",e.children=[o,h.children[1]],this.mayNotBeSimplified=!0,e;if(o.type!="node_const"&&h.type=="node_const")return e.children=[h,o],this.mayNotBeSimplified=!0,e;if(o.type!="node_const"&&h.type=="node_op"&&h.value=="op_neg"&&h.children[0].type=="node_const")return e.children=[h,o],this.mayNotBeSimplified=!0,e;if(o.type=="node_op"&&o.value!="op_execfun"&&(h.type=="node_var"||h.type=="node_op"&&h.value=="op_execfun"))return e.children=[h,o],this.mayNotBeSimplified=!0,e;if(o.type!="node_op"&&h.type=="node_op"&&h.value=="op_neg"&&h.children[0].type=="node_var")return e.children=[h,o],this.mayNotBeSimplified=!0,e;if(o.type!="node_const"&&h.type=="node_op"&&(h.value=="op_mul"||h.value=="op_div")&&h.children[0].type=="node_const")return c=h.children[0],h.children[0]=o,e.children=[c,h],this.mayNotBeSimplified=!0,e;if(h.type!="node_const"&&o.type=="node_op"&&o.value=="op_mul"&&o.children[0].type=="node_const")return e.children=[o.children[0],this.createNode("node_op","op_mul",o.children[1],h)],this.mayNotBeSimplified=!0,e;if(o.type=="node_const"&&h.type=="node_const")return o.value*=h.value,o;if(o.type=="node_const"&&h.type=="node_op"&&(h.value=="op_mul"||h.value=="op_div")&&h.children[0].type=="node_const")return h.children[0].value*=o.value,h;if(o.hash=this.parser.compile(o),h.hash=this.parser.compile(h),o.hash===h.hash)return e.value="op_exp",e.children[1]=this.createNode("node_const",2),e;if(o.type=="node_const"&&h.type=="node_op"&&(h.value=="op_mul"||h.value=="op_div")&&h.children[0].type=="node_const")return h.children[0].value*=o.value,h;if(h.type=="node_op"&&h.value=="op_exp"&&(o.hash||(o.hash=this.parser.compile(o)),h.children[0].hash||(h.children[0].hash=this.parser.compile(h.children[0])),o.hash===h.children[0].hash))return h.children[1]=this.createNode("node_op","op_add",h.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,h;if(o.type=="node_op"&&o.value=="op_exp"&&h.type=="node_op"&&h.value=="op_exp"&&(o.children[0].hash=this.parser.compile(o.children[0]),h.children[0].hash=this.parser.compile(h.children[0]),o.children[0].hash===h.children[0].hash))return o.children[1]=this.createNode("node_op","op_add",o.children[1],h.children[1]),this.mayNotBeSimplified=!0,o;break;case"op_sub":if(o=e.children[0],h=e.children[1],o.type=="node_const"&&o.value===0)return e.value="op_neg",e.children[0]=h,e;if(h.type=="node_const"&&h.value===0)return o;if(o.type=="node_const"&&h.type=="node_const"&&o.value==h.value)return this.createNode("node_const",0);if(o.type=="node_var"&&h.type=="node_var"&&o.value==h.value)return this.createNode("node_const",0);if(o.type=="node_const"&&h.type=="node_const")return o.value-=h.value,o;if(o.type=="node_op"&&o.value=="op_mul"&&h.type=="node_op"&&h.value=="op_mul"&&(o.children[1].hash=this.parser.compile(o.children[1]),h.children[1].hash=this.parser.compile(h.children[1]),o.children[1].hash===h.children[1].hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_sub",o.children[0],h.children[0]),o.children[1]],this.mayNotBeSimplified=!0,e;if(o.type=="node_op"&&o.value=="op_mul"&&(o.children[1].hash=this.parser.compile(o.children[1]),h.hash=this.parser.compile(h),o.children[1].hash===h.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_sub",o.children[0],this.createNode("node_const",1)),h],this.mayNotBeSimplified=!0,e;if(h.type=="node_op"&&h.value=="op_mul"&&(h.children[1].hash=this.parser.compile(h.children[1]),o.hash=this.parser.compile(o),h.children[1].hash===o.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_sub",this.createNode("node_const",1),h.children[0]),o],this.mayNotBeSimplified=!0,e;break;case"op_neg":if(o=e.children[0],o.type=="node_const"&&o.value===0)return o;if(o.type=="node_op"&&o.value=="op_neg")return o.children[0];break;case"op_div":if(o=e.children[0],h=e.children[1],o.type=="node_const"&&h.type=="node_const"&&o.value==h.value&&o.value!==0)return o.value=1,o;if(o.type=="node_const"&&o.value===0&&h.type=="node_const"&&h.value!==0)return o.value=0,o;if(o.type=="node_const"&&o.value===0&&(h.type=="node_op"||h.type=="node_var"))return e.type="node_const",e.value=0,e;if(o.type=="node_var"&&h.type=="node_var"&&o.value==h.value)return this.createNode("node_const",1);if(o.type=="node_const"&&o.value!==0&&h.type=="node_const"&&h.value===0)return o.value>0?o.value=1/0:o.value=-1/0,o;if(o.type=="node_op"&&o.value=="op_neg"&&h.type=="node_op"&&h.value=="op_neg")return e.children=[o.children[0],h.children[0]],this.mayNotBeSimplified=!0,e;if(o.value=="op_neg"&&h.value!="op_neg")return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_div",o.children[0],h)],this.mayNotBeSimplified=!0,e;if(o.value!="op_neg"&&h.value=="op_neg")return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_div",o,h.children[0])],this.mayNotBeSimplified=!0,e;if(o.type=="node_op"&&o.value=="op_exp"&&(h.hash||(h.hash=this.parser.compile(h)),o.children[0].hash||(o.children[0].hash=this.parser.compile(o.children[0])),h.hash===o.children[0].hash))return o.children[1]=this.createNode("node_op","op_sub",o.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,o;if(h.type!="node_const"&&o.type=="node_op"&&o.value=="op_mul"&&o.children[0].type=="node_const")return e.value="op_mul",e.children=[o.children[0],this.createNode("node_op","op_div",o.children[1],h)],this.mayNotBeSimplified=!0,e;if(o.type=="node_op"&&o.value=="op_exp"&&h.type=="node_op"&&h.value=="op_exp"&&(o.children[0].hash=this.parser.compile(o.children[0]),h.children[0].hash=this.parser.compile(h.children[0]),o.children[0].hash===h.children[0].hash))return o.children[1]=this.createNode("node_op","op_sub",o.children[1],h.children[1]),this.mayNotBeSimplified=!0,o;break;case"op_exp":if(o=e.children[0],h=e.children[1],h.type=="node_const"&&h.value===0)return h.value=1,h;if(h.type=="node_const"&&h.value==1||o.type=="node_const"&&o.value==1||o.type=="node_const"&&o.value===0&&h.type=="node_const"&&h.value!==0)return o;if(o.type=="node_op"&&o.value=="op_exp")return e.children=[o.children[0],this.createNode("node_op","op_mul",o.children[1],h)],e;break}switch(e.value){case"op_add":if(o=e.children[0],h=e.children[1],o.type=="node_const"&&h.type=="node_const"&&o.value==h.value)return o.value+=h.value,o;if(o.type=="node_var"&&h.type=="node_var"&&o.value==h.value)return e.children[0]=this.createNode("node_const",2),e.value="op_mul",e;if(o.type=="node_op"&&o.value=="op_neg")return e.value="op_sub",e.children[0]=h,e.children[1]=o.children[0],this.mayNotBeSimplified=!0,e;if(h.type=="node_op"&&h.value=="op_neg")return e.value="op_sub",e.children[1]=h.children[0],this.mayNotBeSimplified=!0,e;if(o.type=="node_op"&&o.value=="op_mul"&&h.type=="node_op"&&h.value=="op_mul"&&(o.children[1].hash=this.parser.compile(o.children[1]),h.children[1].hash=this.parser.compile(h.children[1]),o.children[1].hash===h.children[1].hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_add",o.children[0],h.children[0]),o.children[1]],this.mayNotBeSimplified=!0,e;if(o.type=="node_op"&&o.value=="op_mul"&&(o.children[1].hash=this.parser.compile(o.children[1]),h.hash=this.parser.compile(h),o.children[1].hash===h.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_add",o.children[0],this.createNode("node_const",1)),h],this.mayNotBeSimplified=!0,e;if(h.type=="node_op"&&h.value=="op_mul"&&(h.children[1].hash=this.parser.compile(h.children[1]),o.hash=this.parser.compile(o),h.children[1].hash===o.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_add",this.createNode("node_const",1),h.children[0]),o],this.mayNotBeSimplified=!0,e;break;case"op_sub":if(o=e.children[0],h=e.children[1],h.type=="node_op"&&h.value=="op_neg")return e.value="op_add",e.children[1]=h.children[0],this.mayNotBeSimplified=!0,e;break;case"op_execfun":return this.simplifyElementary(e)}return e},simplifyElementary:function(e){var s=e.children[0].value,a=e.children[1];if(a.length==0)return e;switch(s){case"sin":case"tan":if(a[0].type=="node_const"&&a[0].value===0||a[0].type=="node_var"&&a[0].value=="PI"||a[0].type=="node_op"&&a[0].value=="op_mul"&&a[0].children[0].type=="node_const"&&a[0].children[0].value%1===0&&a[0].children[1].type=="node_var"&&a[0].children[1].value=="PI")return e.type="node_const",e.value=0,e;break;case"cos":if(a[0].type=="node_const"&&a[0].value===0)return e.type="node_const",e.value=1,e;if(a[0].type=="node_var"&&a[0].value=="PI")return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_const",1)],e;break;case"exp":if(a[0].type=="node_const"&&a[0].value===0)return e.type="node_const",e.value=1,e;break;case"pow":if(a[1].type=="node_const"&&a[1].value===0)return e.type="node_const",e.value=1,e;break}return e}});JXG$1.CA;JXG$1.Dump={addMarkers:function(e,s,a){var o,h,c;JXG$1.isArray(s)||(s=[s]),JXG$1.isArray(a)||(a=[a]),h=Math.min(s.length,a.length),s.length=h,a.length=h;for(o in e.objects)if(e.objects.hasOwnProperty(o))for(c=0;c<h;c++)e.objects[o][s[c]]=a[c]},deleteMarkers:function(e,s){var a,o,h;JXG$1.isArray(s)||(s=[s]),o=s.length,s.length=o;for(a in e.objects)if(e.objects.hasOwnProperty(a))for(h=0;h<o;h++)delete e.objects[a][s[h]]},str:function(e){return typeof e=="string"&&e.slice(0,7)!=="function"&&(e='"'+e+'"'),e},minimizeObject:function(e,s){var a,o,h,c={},d=JXG$1.deepCopy(e),g=[];for(h=1;h<arguments.length;h++)g.push(arguments[h]);for(c=JXG$1.deepCopy(c,JXG$1.Options.elements,!0),h=g.length;h>0;h--)c=JXG$1.deepCopy(c,g[h-1],!0);for(a in c)c.hasOwnProperty(a)&&(o=a.toLowerCase(),typeof c[a]!="object"&&c[a]===d[o]&&delete d[o]);return d},prepareAttributes:function(e,s){var a,o;a=this.minimizeObject(s.getAttributes(),JXG$1.Options[s.elType]);for(o in s.subs)s.subs.hasOwnProperty(o)&&(a[o]=this.minimizeObject(s.subs[o].getAttributes(),JXG$1.Options[s.elType][o],JXG$1.Options[s.subs[o].elType]),a[o].id=s.subs[o].id,a[o].name=s.subs[o].name);return a.id=s.id,a.name=s.name,a},setBoundingBox:function(e,s,a){return e.push({obj:a,method:"setBoundingBox",params:[s.getBoundingBox(),s.keepaspectratio]}),e},dump:function(e){var s,a,o,h,c=[],d=[],g=[],_=e.objectsList.length;for(this.addMarkers(e,"dumped",!1),s=0;s<_;s++)if(a=e.objectsList[s],o={},!a.dumped&&a.dump){for(o.type=a.getType(),o.parents=a.getParents().slice(),o.type==="point"&&o.parents[0]===1&&(o.parents=o.parents.slice(1)),h=0;h<o.parents.length;h++)JXG$1.isString(o.parents[h])&&o.parents[h][0]!=="'"&&o.parents[h][0]!=='"'?o.parents[h]='"'+o.parents[h]+'"':JXG$1.isArray(o.parents[h])&&(o.parents[h]="["+o.parents[h].toString()+"]");o.attributes=this.prepareAttributes(e,a),o.type==="glider"&&a.onPolygon&&c.push({obj:a.id,prop:"onPolygon",val:!0}),g.push(o)}return this.deleteMarkers(e,"dumped"),{elements:g,props:c,methods:d}},arrayToParamStr:function(e,s){var a,o=[];for(a=0;a<e.length;a++)o.push(s.call(this,e[a]));return o.join(", ")},toJCAN:function(e){var s,a,o;switch(typeof e){case"object":if(e){if(a=[],JXG$1.isArray(e)){for(s=0;s<e.length;s++)a.push(this.toJCAN(e[s]));return"["+a.join(",")+"]"}for(o in e)e.hasOwnProperty(o)&&a.push(o+": "+this.toJCAN(e[o]));return"<<"+a.join(", ")+">> "}return"null";case"string":return"'"+e.replace(/\\/g,"\\\\").replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return e.toString();case"null":return"null"}},toJessie:function(e){var s,a,o,h=this.dump(e),c=[];for(h.methods=this.setBoundingBox(h.methods,e,"$board"),a=h.elements,s=0;s<a.length;s++)a[s].attributes.name.length>0&&c.push("// "+a[s].attributes.name),c.push("s"+s+" = "+a[s].type+"("+a[s].parents.join(", ")+") "+this.toJCAN(a[s].attributes).replace(/\n/,"\\n")+";"),a[s].type==="axis"&&(o=a[s].attributes.id,e.objects[o].defaultTicks===null&&c.push("s"+s+".removeAllTicks();")),c.push("");for(s=0;s<h.methods.length;s++)c.push(h.methods[s].obj+"."+h.methods[s].method+"("+this.arrayToParamStr(h.methods[s].params,this.toJCAN)+");"),c.push("");for(s=0;s<h.props.length;s++)c.push(h.props[s].obj+"."+h.props[s].prop+" = "+this.toJCAN(h.props[s].val)+";"),c.push("");return c.join(`
`)},toJavaScript:function(e){var s,a,o,h=this.dump(e),c=[];for(h.methods=this.setBoundingBox(h.methods,e,"board"),a=h.elements,s=0;s<a.length;s++)c.push('board.create("'+a[s].type+'", ['+a[s].parents.join(", ")+"], "+JXG$1.toJSON(a[s].attributes)+");"),a[s].type==="axis"&&(o=a[s].attributes.id,e.objects[o].defaultTicks===null&&c.push('board.objects["'+o+'"].removeTicks(board.objects["'+o+'"].defaultTicks);'));for(s=0;s<h.methods.length;s++)c.push(h.methods[s].obj+"."+h.methods[s].method+"("+this.arrayToParamStr(h.methods[s].params,JXG$1.toJSON)+");"),c.push("");for(s=0;s<h.props.length;s++)c.push(h.props[s].obj+"."+h.props[s].prop+" = "+JXG$1.toJSON(h.props[s].val)+";"),c.push("");return c.join(`
`)}};JXG$1.Dump;JXG$1.createComb=function(e,s,a){var o,h,c,d,g;if(s.length===2){if(JXG$1.isArray(s[0])&&s[0].length>1)d=JXG$1.copyAttributes(a,e.options,"comb","point1"),o=e.create("point",s[0],d);else if(JXG$1.isString(s[0])||JXG$1.isPoint(s[0]))o=e.select(s[0]);else if(JXG$1.isFunction(s[0])&&JXG$1.isPoint(s[0]()))o=s[0]();else if(JXG$1.isFunction(s[0])&&s[0]().length&&s[0]().length>=2)d=JXG$1.copyAttributes(a,e.options,"comb","point1"),o=JXG$1.createPoint(e,s[0](),d);else throw new Error("JSXGraph: Can't create comb with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`);if(JXG$1.isArray(s[1])&&s[1].length>1)d=JXG$1.copyAttributes(a,e.options,"comb","point2"),h=e.create("point",s[1],d);else if(JXG$1.isString(s[1])||JXG$1.isPoint(s[1]))h=e.select(s[1]);else if(JXG$1.isFunction(s[1])&&JXG$1.isPoint(s[1]()))h=s[1]();else if(JXG$1.isFunction(s[1])&&s[1]().length&&s[1]().length>=2)d=JXG$1.copyAttributes(a,e.options,"comb","point2"),h=JXG$1.createPoint(e,s[1](),d);else throw new Error("JSXGraph: Can't create comb with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`)}else throw g=s.map(function(_){return"'"+typeof _+"'"}),new Error("JSXGraph: Can't create comb with parent types "+g.join(", ")+`.
Possible parent types: [point,point], [[x1,y1],[x2,y2]]`);return d=JXG$1.copyAttributes(a,e.options,"comb"),c=e.create("curve",[[0],[0]],d),c.updateDataArray=function(){var _=0,b=o.Dist(h),$,j,_e,et,tt,it,at,nt=o,st=h,rt,lt,ot;for(rt=JXG$1.evaluate(c.visProp.frequency),lt=-JXG$1.evaluate(c.visProp.angle),ot=JXG$1.evaluate(c.visProp.width),JXG$1.evaluate(c.visProp.reverse)&&(nt=h,st=o,lt=-lt),$=Math.cos(lt),j=Math.sin(lt),_e=(st.X()-nt.X())/b,et=(st.Y()-nt.Y())/b,$*=ot/Math.abs(j),j*=ot/Math.abs(j),this.dataX=[],this.dataY=[];_<b;)tt=nt.X()+_e*_,it=nt.Y()+et*_,at=Math.min($,b-_)/Math.abs($),j*=at,$*=at,this.dataX.push(tt),this.dataY.push(it),this.dataX.push(tt+_e*$+et*j),this.dataY.push(it-_e*j+et*$),this.dataX.push(NaN),this.dataY.push(NaN),_+=rt},c};JXG$1.registerElement("comb",JXG$1.createComb);var priv$3={removeSlopeTriangle:function(){Polygon.prototype.remove.call(this),this.board.removeObject(this.toppoint),this.board.removeObject(this.glider),this.board.removeObject(this.baseline),this.board.removeObject(this.basepoint),this.board.removeObject(this.label),this._isPrivateTangent&&this.board.removeObject(this.tangent)},Value:function(){return this.tangent.getSlope()},Direction:function(){return this.tangent.Direction()}};JXG$1.createSlopeTriangle=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e=!1;if(s.length===1&&s[0].type===Const.OBJECT_TYPE_TANGENT)h=s[0],c=h.glider;else if(s.length===1&&s[0].type===Const.OBJECT_TYPE_GLIDER)c=s[0],j=JXG$1.copyAttributes(a,e.options,"slopetriangle","tangent"),h=e.create("tangent",[c],j),_e=!0;else if(s.length===2&&s[0].elementClass===Const.OBJECT_CLASS_LINE&&JXG$1.isPoint(s[1]))h=s[0],c=s[1];else throw new Error("JSXGraph: Can't create slope triangle with parent types '"+typeof s[0]+"'.");return j=JXG$1.copyAttributes(a,e.options,"slopetriangle","basepoint"),b=e.create("point",[function(){return[c.X()+1,c.Y()]}],j),j=JXG$1.copyAttributes(a,e.options,"slopetriangle","baseline"),_=e.create("line",[c,b],j),j=JXG$1.copyAttributes(a,e.options,"slopetriangle","glider"),d=e.create("glider",[c.X()+1,c.Y(),_],j),j=JXG$1.copyAttributes(a,e.options,"slopetriangle","toppoint"),g=e.create("point",[function(){return[d.X(),d.Y()+(d.X()-c.X())*h.getSlope()]}],j),j=JXG$1.copyAttributes(a,e.options,"slopetriangle"),o=e.create("polygon",[c,d,g],j),o.Value=priv$3.Value,o.Direction=priv$3.Direction,o.tangent=h,o._isPrivateTangent=_e,o.borders[2].setArrow(!1,!1),j=JXG$1.copyAttributes(a,e.options,"slopetriangle","label"),j=JXG$1.copyAttributes(j,e.options,"label"),j.isLabel=!0,j.anchor=o.borders[1],j.priv=o.borders[1].visProp.priv,j.id=o.borders[1].id+"Label",$=e.create("text",[0,0,function(){return""}],j),$.needsUpdate=!0,$.dump=!1,o.borders[1].label=$,o.borders[1].hasLabel=!0,o.borders[1].visProp.withlabel=!0,$._setText(function(){var et=JXG$1.evaluate($.visProp.digits);return $.useLocale()?$.formatNumberLocale(o.Value(),et):JXG$1.toFixed(o.Value(),et)}),$.fullUpdate(),o.glider=d,o.basepoint=b,o.baseline=_,o.toppoint=g,o.label=$,o.subs={glider:d,basePoint:b,baseLine:_,topPoint:g,label:$},o.inherits.push(d,b,_,g,$),o.methodMap=JXG$1.deepCopy(o.methodMap,{tangent:"tangent",glider:"glider",basepoint:"basepoint",baseline:"baseline",toppoint:"toppoint",label:"label",Value:"Value",V:"Value",Direction:"Direction"}),o.remove=priv$3.removeSlopeTriangle,o};JXG$1.registerElement("slopetriangle",JXG$1.createSlopeTriangle);var priv$2={CheckboxChangeEventHandler:function(){this._value=this.rendNodeCheckbox.checked,this.board.update()}};JXG$1.createCheckbox=function(e,s,a){var o,h,c=JXG$1.copyAttributes(a,e.options,"checkbox");return h=[s[0],s[1],'<span style="display:inline"><input type="checkbox" /><label for=""></label></span>'],o=e.create("text",h,c),o.type=JXG$1.OBJECT_TYPE_CHECKBOX,o.rendNodeCheckbox=o.rendNode.childNodes[0].childNodes[0],o.rendNodeLabel=o.rendNode.childNodes[0].childNodes[1],o.rendNodeTag=o.rendNodeCheckbox,o.rendNodeTag.disabled=!!c.disabled,o.rendNodeCheckbox.id=o.rendNode.id+"_checkbox",o.rendNodeLabel.id=o.rendNode.id+"_label",o.rendNodeLabel.setAttribute("for",o.rendNodeCheckbox.id),o.setText(s[2]),o.visPropOld.fontsize="0px",e.renderer.updateTextStyle(o,!1),o.rendNodeCheckbox.checked=c.checked,o._value=c.checked,o.Value=function(){return this._value},o.update=function(){return this.needsUpdate&&(JXG$1.Text.prototype.update.call(this),this._value=this.rendNodeCheckbox.checked),this},JXG$1.addEvent(o.rendNodeCheckbox,"change",priv$2.CheckboxChangeEventHandler,o),o};JXG$1.registerElement("checkbox",JXG$1.createCheckbox);var priv$1={InputInputEventHandler:function(e){this._value=this.rendNodeInput.value,this.board.update()}};JXG$1.createInput=function(e,s,a){var o,h,c=JXG$1.copyAttributes(a,e.options,"input");return h=[s[0],s[1],'<span style="display:inline; white-space:nowrap; padding:0px;"><span></span><input type="text" maxlength="'+c.maxlength+'" style="width:100%"/></span>'],o=e.create("text",h,c),o.type=JXG$1.OBJECT_TYPE_INPUT,o.rendNodeLabel=o.rendNode.childNodes[0].childNodes[0],o.rendNodeInput=o.rendNode.childNodes[0].childNodes[1],o.rendNodeInput.value=s[2],o.rendNodeTag=o.rendNodeInput,o.rendNodeTag.disabled=!!c.disabled,o.rendNodeLabel.id=o.rendNode.id+"_label",o.rendNodeInput.id=o.rendNode.id+"_input",o.setText(s[3]),o._value=s[2],o.update=function(){return this.needsUpdate&&(JXG$1.Text.prototype.update.call(this),this._value=this.rendNodeInput.value),this},o.Value=function(){return this._value},o.set=function(d){return this._value=d,this.rendNodeInput.value=d,this},JXG$1.addEvent(o.rendNodeInput,"input",priv$1.InputInputEventHandler,o),JXG$1.addEvent(o.rendNodeInput,"mousedown",function(d){JXG$1.exists(d.stopPropagation)&&d.stopPropagation()},o),JXG$1.addEvent(o.rendNodeInput,"touchstart",function(d){JXG$1.exists(d.stopPropagation)&&d.stopPropagation()},o),JXG$1.addEvent(o.rendNodeInput,"pointerdown",function(d){JXG$1.exists(d.stopPropagation)&&d.stopPropagation()},o),o.visPropOld.fontsize="0px",e.renderer.updateTextStyle(o,!1),o};JXG$1.registerElement("input",JXG$1.createInput);var priv={ButtonClickEventHandler:function(){this._handler&&this._handler(),this.board.update()}};JXG$1.createButton=function(e,s,a){var o,h,c=JXG$1.copyAttributes(a,e.options,"button");return h=[s[0],s[1],'<button type="button" style="width:100%;"></button>'],o=e.create("text",h,c),o.type=JXG$1.OBJECT_TYPE_BUTTON,o.rendNodeButton=o.rendNode.childNodes[0],o.rendNodeButton.id=o.rendNode.id+"_button",o.rendNodeTag=o.rendNodeButton,o.rendNodeTag.disabled=!!c.disabled,o.setText(s[2]),o.visPropOld.fontsize="0px",e.renderer.updateTextStyle(o,!1),s[3]&&(JXG$1.isString(s[3])?(o._jc=new JXG$1.JessieCode,o._jc.use(e),o._handler=function(){o._jc.parse(s[3])}):o._handler=s[3]),JXG$1.addEvent(o.rendNodeButton,"click",priv.ButtonClickEventHandler,o),JXG$1.addEvent(o.rendNodeButton,"mousedown",function(d){JXG$1.exists(d.stopPropagation)&&d.stopPropagation()},o),JXG$1.addEvent(o.rendNodeButton,"touchstart",function(d){JXG$1.exists(d.stopPropagation)&&d.stopPropagation()},o),JXG$1.addEvent(o.rendNodeButton,"pointerdown",function(d){JXG$1.exists(d.stopPropagation)&&d.stopPropagation()},o),o};JXG$1.registerElement("button",JXG$1.createButton);JXG$1.createVectorField=function(e,s,a){var o,h;if(!(s.length>=3&&(JXG$1.isArray(s[0])||JXG$1.isFunction(s[0])||JXG$1.isString(s[0]))&&JXG$1.isArray(s[1])&&s[1].length===3&&JXG$1.isArray(s[2])&&s[2].length===3))throw new Error("JSXGraph: Can't create vector field with parent types '"+typeof s[0]+"', '"+typeof s[1]+"', '"+typeof s[2]+"'.");return h=JXG$1.copyAttributes(a,e.options,"vectorfield"),o=e.create("curve",[[],[]],h),o.elType="vectorfield",o.setF=function(c,d){var g,_;return JXG$1.isArray(c)?(g=JXG$1.createFunction(c[0],this.board,d),_=JXG$1.createFunction(c[1],this.board,d),this.F=function(b,$){return[g(b,$),_(b,$)]}):this.F=JXG$1.createFunction(c,o.board,d),this},o.setF(s[0],"x, y"),o.xData=s[1],o.yData=s[2],o.updateDataArray=function(){var c,d,g,_,b=JXG$1.evaluate(this.visProp.scale),$=JXG$1.evaluate(this.xData[0]),j=JXG$1.evaluate(this.xData[1]),_e=JXG$1.evaluate(this.xData[2]),et=(_e-$)/j,tt=JXG$1.evaluate(this.yData[0]),it=JXG$1.evaluate(this.yData[1]),at=JXG$1.evaluate(this.yData[2]),nt=(at-tt)/it,st,rt,lt,ot,ht=JXG$1.evaluate(this.visProp.arrowhead.enabled),ct,ut,dt,ft;for(ht&&(ct=JXG$1.evaluate(this.visProp.arrowhead.size),ut=ct/e.unitX,dt=ct/e.unitY,ft=JXG$1.evaluate(this.visProp.arrowhead.angle)),this.dataX=[],this.dataY=[],g=0,c=$;g<=j;c+=et,g++)for(_=0,d=tt;_<=it;d+=nt,_++)st=this.F(c,d),st[0]*=b,st[1]*=b,JXG$1.concat(this.dataX,[c,c+st[0],NaN]),JXG$1.concat(this.dataY,[d,d+st[1],NaN]),ht&&Math.abs(st[0])+Math.abs(st[1])>0&&(rt=Math.atan2(st[1],st[0]),lt=rt+ft,ot=rt-ft,JXG$1.concat(this.dataX,[c+st[0]-Math.cos(lt)*ut,c+st[0],c+st[0]-Math.cos(ot)*ut,NaN]),JXG$1.concat(this.dataY,[d+st[1]-Math.sin(lt)*dt,d+st[1],d+st[1]-Math.sin(ot)*dt,NaN]))},o.methodMap=JXG$1.deepCopy(o.methodMap,{setF:"setF"}),o};JXG$1.registerElement("vectorfield",JXG$1.createVectorField);JXG$1.createSlopeField=function(e,s,a){var o,h,c;if(!(s.length>=3&&(JXG$1.isFunction(s[0])||JXG$1.isString(s[0]))&&JXG$1.isArray(s[1])&&s[1].length===3&&JXG$1.isArray(s[2])&&s[2].length===3))throw new Error("JSXGraph: Can't create slope field with parent types '"+typeof s[0]+"', '"+typeof s[1]+"', '"+typeof s[2]+"'.");return h=JXG$1.createFunction(s[0],e,"x, y"),s[0]=function(d,g){var _=h(d,g),b=Math.sqrt(1+_*_);return[1/b,_/b]},c=JXG$1.copyAttributes(a,e.options,"slopefield"),o=e.create("vectorfield",s,c),o.elType="slopefield",o.setF=function(d,g){var _=JXG$1.createFunction(d,o.board,g);this.F=function(b,$){var j=_(b,$),_e=Math.sqrt(1+j*j);return[1/_e,j/_e]}},o.methodMap=JXG$1.deepCopy(o.methodMap,{setF:"setF"}),o};JXG$1.registerElement("slopefield",JXG$1.createSlopeField);JXG$1.createSmartLabel=function(e,s,a){var o,h,c,d,g,_;if(s.length===0||[Const.OBJECT_CLASS_POINT,Const.OBJECT_CLASS_LINE,Const.OBJECT_CLASS_CIRCLE].indexOf(s[0].elementClass)<0&&[Const.OBJECT_TYPE_POLYGON,Const.OBJECT_TYPE_ANGLE].indexOf(s[0].type)<0)throw new Error("JSXGraph: Can't create smartlabel with parent types '"+typeof s[0]+"', '"+typeof s[1]+"'.");return c=s[0],d=s[1]||"",c.elementClass===Const.OBJECT_CLASS_POINT?h=JXG$1.copyAttributes(a,e.options,"smartlabelpoint"):c.elementClass===Const.OBJECT_CLASS_LINE?(h=JXG$1.copyAttributes(a,e.options,"smartlabelline"),h.rotate=function(){return Math.atan(c.getSlope())*180/Math.PI},h.visible=function(){return!(c.L()<1.5)}):c.elementClass===Const.OBJECT_CLASS_CIRCLE?(h=JXG$1.copyAttributes(a,e.options,"smartlabelcircle"),h.visible=function(){return!(c.Radius()<1.5)}):c.type===Const.OBJECT_TYPE_POLYGON?h=JXG$1.copyAttributes(a,e.options,"smartlabelpolygon"):c.type===Const.OBJECT_TYPE_ANGLE&&(h=JXG$1.copyAttributes(a,e.options,"smartlabelangle"),h.rotate=function(){var b=c.center.coords.usrCoords,$=c.getLabelAnchor().usrCoords,j=Math.atan2($[2]-b[2],$[1]-b[1])*180/Math.PI;return j>90&&j<270?j+180:j},h.anchorX=function(){var b=c.center.coords.usrCoords,$=c.getLabelAnchor().usrCoords,j=Math.atan2($[2]-b[2],$[1]-b[1])*180/Math.PI;return j>90&&j<270?"right":"left"}),g=function(b,$,j,_e){var et;switch(_e){case"length":et=function(){return $.L()};break;case"slope":et=function(){return $.Slope()};break;case"area":et=function(){return $.Area()};break;case"radius":et=function(){return $.Radius()};break;case"perimeter":et=function(){return $.Perimeter()};break;case"rad":et=function(){return $.Value()};break;case"deg":et=function(){return $.Value()*180/Math.PI};break;default:et=function(){return 0}}return function(){var tt="",it,at=JXG$1.evaluate(d),nt=JXG$1.evaluate(b.visProp.digits),st=JXG$1.evaluate(b.visProp.unit),rt=JXG$1.evaluate(b.visProp.prefix),lt=JXG$1.evaluate(b.visProp.suffix),ot=JXG$1.evaluate(b.visProp.usemathjax)||JXG$1.evaluate(b.visProp.usekatex);return at===""?(b.useLocale()?it=b.formatNumberLocale(et(),nt):it=JXG$1.toFixed(et(),nt),ot?tt=["\\(",rt,it,"\\,",st,lt,"\\)"].join(""):tt=[rt,it,st,lt].join("")):tt=at,tt}},c.elementClass===Const.OBJECT_CLASS_POINT?(o=e.create("text",[function(){return c.X()},function(){return c.Y()},""],h),_=function(){var b="",$=JXG$1.evaluate(d),j=JXG$1.evaluate(o.visProp.digits),_e=JXG$1.evaluate(o.visProp.unit),et=JXG$1.evaluate(o.visProp.prefix),tt=JXG$1.evaluate(o.visProp.suffix),it=JXG$1.evaluate(o.visProp.dir),at=JXG$1.evaluate(o.visProp.usemathjax)||JXG$1.evaluate(o.visProp.usekatex),nt,st;return o.useLocale()?(nt=o.formatNumberLocale(c.X(),j),st=o.formatNumberLocale(c.Y(),j)):(nt=JXG$1.toFixed(c.X(),j),st=JXG$1.toFixed(c.Y(),j)),$===""?it==="row"?at?b=["\\(",et,nt,"\\,",_e," / ",st,"\\,",_e,tt,"\\)"].join(""):b=[et,nt," ",_e," / ",st," ",_e,tt].join(""):it.indexOf("col")===0&&(at?b=["\\(",et,"\\left(\\array{",nt,"\\,",_e,"\\\\ ",st,"\\,",_e,"}\\right)",tt,"\\)"].join(""):b=[et,nt," ",_e,"<br/>",st," ",_e,tt].join("")):b=$,b}):c.elementClass===Const.OBJECT_CLASS_LINE?h.measure==="length"?(o=e.create("text",[function(){return(c.point1.X()+c.point2.X())*.5},function(){return(c.point1.Y()+c.point2.Y())*.5},""],h),_=g(o,c,"line","length")):h.measure==="slope"&&(o=e.create("text",[function(){return c.point1.X()*.25+c.point2.X()*.75},function(){return c.point1.Y()*.25+c.point2.Y()*.75},""],h),_=g(o,c,"line","slope")):c.elementClass===Const.OBJECT_CLASS_CIRCLE?h.measure==="radius"?(o=e.create("text",[function(){return c.center.X()+c.Radius()*.5},function(){return c.center.Y()},""],h),_=g(o,c,"circle","radius")):h.measure==="area"?(o=e.create("text",[function(){return c.center.X()},function(){return c.center.Y()+c.Radius()*.5},""],h),_=g(o,c,"circle","area")):(h.measure==="circumference"||h.measure==="perimeter")&&(o=e.create("text",[function(){return c.getLabelAnchor()},""],h),_=g(o,c,"circle","perimeter")):c.type===Const.OBJECT_TYPE_POLYGON?h.measure==="area"?(o=e.create("text",[function(){return c.getTextAnchor()},""],h),_=g(o,c,"polygon","area")):h.measure==="perimeter"&&(o=e.create("text",[function(){var b=c.borders.length-1;return b>=0?[(c.borders[b].point1.X()+c.borders[b].point2.X())*.5,(c.borders[b].point1.Y()+c.borders[b].point2.Y())*.5]:c.getTextAnchor()},""],h),_=g(o,c,"polygon","perimeter")):c.type===Const.OBJECT_TYPE_ANGLE&&(o=e.create("text",[function(){return c.getLabelAnchor()},""],h),_=g(o,c,"angle",h.measure)),JXG$1.exists(o)&&(o.setText(_),c.addChild(o),o.setParents([c])),o};JXG$1.registerElement("smartlabel",JXG$1.createSmartLabel);JXG$1.ForeignObject=function(e,s,a,o,h){this.constructor(e,a,Const.OBJECT_TYPE_FOREIGNOBJECT,Const.OBJECT_CLASS_OTHER),this.element=this.board.select(a.anchor),this.coordsConstructor(s),this._useUserSize=!1,this.size=[1,1],JXG$1.exists(h)&&h.length>0&&(this._useUserSize=!0,this.W=JXG$1.createFunction(h[0],this.board,""),this.H=JXG$1.createFunction(h[1],this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this.usrSize=[this.W(),this.H()]),this.content=o,this.elType="foreignobject",this.id=this.board.setId(this,"Im"),this.board.renderer.drawForeignObject(this),this.board.finalizeAdding(this),this.methodMap=JXG$1.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform",W:"W",Width:"W",H:"H",Height:"H"})};JXG$1.ForeignObject.prototype=new GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.ForeignObject,CoordsElement,"coordsConstructor");JXG$1.extend(JXG$1.ForeignObject.prototype,{hasPoint:function(e,s){var a,o,h,c,d,g,_,b,$,j=this.transformations.length;return JXG$1.isObject(JXG$1.evaluate(this.visProp.precision))?(c=this.board._inputDevice,d=JXG$1.evaluate(this.visProp.precision[c])):d=this.board.options.precision.hasPoint,j===0?(a=e-this.coords.scrCoords[1],o=this.coords.scrCoords[2]-s,h=d,a>=-h&&a-this.size[0]<=h&&o>=-h&&o-this.size[1]<=h):(g=new Coords(Const.COORDS_BY_SCREEN,[e,s],this.board),g=g.usrCoords,_=[g[0]-this.span[0][0],g[1]-this.span[0][1],g[2]-this.span[0][2]],$=Mat.innerProduct,b=$(_,this.span[1]),0<=b&&b<=$(this.span[1],this.span[1])&&(b=$(_,this.span[2]),0<=b&&b<=$(this.span[2],this.span[2])))},update:function(e){return this.needsUpdate?(this.updateCoords(e),this.updateSize(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateForeignObject")},updateSize:function(){var e=[0,0];return this._useUserSize?(this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)]):this.rendNode.hasChildNodes()&&(e=this.rendNode.childNodes[0].getBoundingClientRect(),this.size=[e.width,e.height]),this},updateSpan:function(){var e,s,a=this.transformations.length,o=[];if(a===0)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(o[0]=[this.Z(),this.X(),this.Y()],o[1]=[this.Z(),this.X()+this.W(),this.Y()],o[2]=[this.Z(),this.X(),this.Y()+this.H()],e=0;e<a;e++)for(s=0;s<3;s++)o[s]=Mat.matVecMult(this.transformations[e].matrix,o[s]);for(s=0;s<3;s++)o[s][1]/=o[s][0],o[s][2]/=o[s][0],o[s][0]/=o[s][0];for(s=1;s<3;s++)o[s][0]-=o[0][0],o[s][1]-=o[0][1],o[s][2]-=o[0][2];this.span=o}return this},addTransform:function(e){var s;if(JXG$1.isArray(e))for(s=0;s<e.length;s++)this.transformations.push(e[s]);else this.transformations.push(e);return this},getParents:function(){var e=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return this.parents.length!==0&&(e=this.parents),e},setSize:function(e,s){return this.W=JXG$1.createFunction(e,this.board,""),this.H=JXG$1.createFunction(s,this.board,""),this._useUserSize=!0,this.addParentsFromJCFunctions([this.W,this.H]),this},W:function(){},H:function(){}});JXG$1.createForeignObject=function(e,s,a){var o,h,c=s[0],d=s[1],g=[];if(s.length>=2&&(g=s[2]),o=JXG$1.copyAttributes(a,e.options,"foreignobject"),h=CoordsElement.create(JXG$1.ForeignObject,e,d,o,c,g),!h)throw new Error("JSXGraph: Can't create foreignObject with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [string, [x, y], [w, h]], [string, [x, y]], [element,transformation]`);return h};JXG$1.registerElement("foreignobject",JXG$1.createForeignObject);JXG$1.registerElement("fo",JXG$1.createForeignObject);JXG$1.ForeignObject;JXG$1.extend(Options,{axes3d:{axesPosition:"center",xAxis:{visible:!0,point2:{name:"x"},strokeColor:JXG$1.palette.red},yAxis:{visible:!0,point2:{name:"y"},strokeColor:JXG$1.palette.green},zAxis:{visible:!0,point2:{name:"z"},strokeColor:JXG$1.palette.blue},xAxisBorder:{name:"x",visible:"ìnherit",withLabel:!1,label:{position:"50% left",offset:[30,0],fontsize:15},strokeWidth:1,lastArrow:!1,ticks3d:{visible:"ìnherit",label:{anchorX:"middle",anchorY:"middle"}}},yAxisBorder:{name:"y",visible:"ìnherit",withLabel:!1,label:{position:"50% right",offset:[0,-30],fontsize:15},strokeWidth:1,lastArrow:!1,ticks3d:{visible:"ìnherit",label:{anchorX:"middle"}}},zAxisBorder:{name:"z",visible:"ìnherit",withLabel:!1,label:{position:"50% right",offset:[30,0],fontsize:15},strokeWidth:1,lastArrow:!1,ticks3d:{visible:"ìnherit",label:{anchorX:"middle",anchorY:"middle"}}},xPlaneRear:{visible:!0,layer:0,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",mesh3d:{layer:1}},yPlaneRear:{visible:!0,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},zPlaneRear:{visible:!0,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},xPlaneFront:{visible:!1,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},yPlaneFront:{visible:!1,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},zPlaneFront:{visible:!1,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},xPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1}},axis3d:{highlight:!1,fixed:!0,strokeColor:"black",strokeWidth:1,tabindex:null,point1:{visible:!1,name:""},point2:{visible:!1,name:"",label:{visible:!0}}},circle3d:{point:{visible:!1,name:""}},curve3d:{highlight:!1,tabindex:-1,strokeWidth:1,numberPointsHigh:200},intersectionline3d:{point1:{visible:!1,name:""},point2:{visible:!1,name:""}},line3d:{strokeWidth:1,strokeColor:"black",fixed:!0,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",point:{visible:!1,name:""},point1:{visible:!1,name:""},point2:{visible:!1,name:""}},mesh3d:{strokeWidth:1,strokeColor:"#9a9a9a",strokeOpacity:.6,highlight:!1,tabindex:null,visible:"inherit"},plane3d:{strokeWidth:0,strokeColor:"black",strokeOpacity:1,highlight:!1,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",gradientAngle:Math.PI,fillColor:"#a7a7a7",fillOpacity:.6,point:{visible:!1,name:"",fixed:!0}},point3d:{infoboxDigits:"auto",strokeWidth:0,gradient:"radial",gradientSecondColor:"#555555",fillColor:"yellow",highlightStrokeColor:"#555555",gradientFX:.7,gradientFY:.3},polygon3d:{highlight:!1,tabindex:-1,strokeWidth:1,fillColor:"none"},sphere3d:{highlight:!1,strokeWidth:1,strokeColor:"#00ff80",fillColor:"white",gradient:"radial",gradientSecondColor:"#00ff80",gradientFX:.7,gradientFY:.3,fillOpacity:.4},surface3d:{highlight:!1,tabindex:-1,strokeWidth:1,stepsU:30,stepsV:30},text3d:{},ticks3d:{visible:!0,ticksDistance:1,majorHeight:10,minorTicks:0,tickEndings:[0,1],drawLabels:!0,label:{visible:!0}},vectorfield3d:{scale:1,arrowhead:{enabled:!0,size:5,angle:Math.PI*.125}},view3d:{needsRegularUpdate:!0,projection:"parallel",verticalDrag:{enabled:!0,key:"shift"},az:{pointer:{enabled:!0,speed:1,outside:!0,button:-1,key:"none"},keyboard:{enabled:!0,step:10,key:"ctrl"},continuous:!0,slider:{visible:"inherit",style:6,point1:{frozen:!0},point2:{frozen:!0},min:0,max:2*Math.PI,start:1}},el:{pointer:{enabled:!0,speed:1,outside:!0,button:-1,key:"none"},keyboard:{enabled:!0,step:10,key:"ctrl"},continuous:!0,slider:{visible:"inherit",style:6,point1:{frozen:!0},point2:{frozen:!0},min:0,max:2*Math.PI,start:.3}},bank:{pointer:{enabled:!0,speed:.08,outside:!0,button:-1,key:"none"},keyboard:{enabled:!0,step:10,key:"ctrl"},continuous:!0,slider:{visible:"inherit",style:6,point1:{frozen:!0},point2:{frozen:!0},min:-Math.PI,max:Math.PI,start:0}},trackball:{enabled:!1,outside:!0,button:-1,key:"none"},r:"auto",fov:1/5*2*Math.PI,depthOrderPoints:!1,values:[[0,1.57],[.78,.62],[0,0],[5.49,.62],[4.71,0],[3.93,.62],[3.14,0],[2.36,.62],[1.57,1.57]],infobox:{strokeColor:"#000000",fontSize:24,useKatex:!1,useMathjax:!1},_currentView:-1}});JXG$1.Options;JXG$1.View3D=function(e,s,a){this.constructor(e,a,Const.OBJECT_TYPE_VIEW3D,Const.OBJECT_CLASS_3D),this.objects={},this.points=this.visProp.depthorderpoints?[]:null,this.elementsByName={},this.defaultAxes=null,this.angles={az:null,el:null,bank:null},this.matrix3DRot=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.matrix3D=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],this.boxToCam=[],this.llftCorner=s[0],this.size=s[1],this.bbox3D=s[2],this.r=-1,this.focalDist=-1,this.projectionType="parallel",this.trackballEnabled=!1,this.timeoutAzimuth=null,this.id=this.board.setId(this,"V"),this.board.finalizeAdding(this),this.elType="view3d",this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.View3D.prototype=new GeometryElement;JXG$1.extend(JXG$1.View3D.prototype,{create:function(e,s,a){var o=[],h;return e.indexOf("3d")>0&&o.push(this),h=this.board.create(e,o.concat(s),a),h},select:function(e,s){var a,o,h,c,d=e;if(d===null)return d;if(JXG$1.isString(d)&&d!=="")JXG$1.exists(this.objects[d])?d=this.objects[d]:JXG$1.exists(this.elementsByName[d])&&(d=this.elementsByName[d]);else if(!s&&(JXG$1.isFunction(d)||JXG$1.isObject(d)&&!JXG$1.isFunction(d.setAttribute))){for(a=JXG$1.filterElements(this.objectsList,d),o={},c=a.length,h=0;h<c;h++)o[a[h].id]=a[h];d=new Composition(o)}else JXG$1.isObject(d)&&JXG$1.exists(d.id)&&!JXG$1.exists(this.objects[d.id])&&(d=null);return d},setAnglesFromRotation:function(){var e=this.matrix3DRot,s,a,o,h,c,d,g;s=Math.sqrt(e[1][3]*e[1][3]+e[2][3]*e[2][3]),s>Mat.eps?(a=e[2][3]/s,o=e[1][3]/s):(a=Math.cos(this.angles.bank),o=Math.sin(this.angles.bank)),e=Mat.matMatMult([[1,0,0,0],[0,a,-o,0],[0,o,a,0],[0,0,0,1]],e),this.angles.bank=Math.atan2(o,a),h=e[2][3],c=e[3][3],e=Mat.matMatMult([[1,0,0,0],[0,1,0,0],[0,0,h,c],[0,0,-c,h]],e),this.angles.el=Math.atan2(c,h),d=-e[1][1],g=e[3][1],this.angles.az=Math.atan2(g,d),this.angles.az<0&&(this.angles.az+=2*Math.PI),this.setSlidersFromAngles()},anglesHaveMoved:function(){return this._hasMoveAz||this._hasMoveEl||Math.abs(this.angles.az-this.az_slide.Value())>Mat.eps||Math.abs(this.angles.el-this.el_slide.Value())>Mat.eps||Math.abs(this.angles.bank-this.bank_slide.Value())>Mat.eps},getAnglesFromSliders:function(){this.angles.az=this.az_slide.Value(),this.angles.el=this.el_slide.Value(),this.angles.bank=this.bank_slide.Value()},setSlidersFromAngles:function(){this.az_slide.setValue(this.angles.az),this.el_slide.setValue(this.angles.el),this.bank_slide.setValue(this.angles.bank)},getRotationFromAngles:function(){var e,s,a,o,h,c,d=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];return e=this.angles.az,s=this.angles.el,a=this.angles.bank,o=-Math.sin(s),d[1][1]=-Math.cos(e),d[1][2]=Math.sin(e),d[1][3]=0,d[2][1]=o*Math.sin(e),d[2][2]=o*Math.cos(e),d[2][3]=Math.cos(s),d[3][1]=Math.cos(s)*Math.sin(e),d[3][2]=Math.cos(s)*Math.cos(e),d[3][3]=Math.sin(s),h=Math.cos(a),c=Math.sin(a),d=Mat.matMatMult([[1,0,0,0],[0,h,c,0],[0,-c,h,0],[0,0,0,1]],d),d},_projectToSphere:function(e,s,a){var o=Mat.hypot(s,a),h,c;return o<e*.7071067811865475?c=Math.sqrt(e*e-o*o):(h=e/1.414213562373095,c=h*h/o),c},updateProjectionTrackball:function(e){var s=100,a,o,h,c,d,g,_,b,$,j,_e,et,tt,it=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];return JXG$1.exists(this._trackball)?(a=this._trackball.dx,o=this._trackball.dy,h=a*a+o*o,h>Mat.eps&&(s=(this.size[0]*this.board.unitX+this.size[1]*this.board.unitY)*.25,g=this._trackball.x,_=this._trackball.y,d=[g,_,this._projectToSphere(s,g,_)],g-=a,_-=o,c=[g,_,this._projectToSphere(s,g,_)],tt=Mat.crossProduct(c,d),j=Mat.hypot(tt[0],tt[1],tt[2]),tt[0]/=j,tt[1]/=j,tt[2]/=j,$=Geometry.distance(d,c,3)/(2*s),$=$>1?1:$,$=$<-1?-1:$,b=2*Math.asin($),_e=Math.cos(b),$=1-_e,et=Math.sin(b),it[1][1]=_e+tt[0]*tt[0]*$,it[2][1]=tt[1]*tt[0]*$+tt[2]*et,it[3][1]=tt[2]*tt[0]*$-tt[1]*et,it[1][2]=tt[0]*tt[1]*$-tt[2]*et,it[2][2]=_e+tt[1]*tt[1]*$,it[3][2]=tt[2]*tt[1]*$+tt[0]*et,it[1][3]=tt[0]*tt[2]*$+tt[1]*et,it[2][3]=tt[1]*tt[2]*$-tt[0]*et,it[3][3]=_e+tt[2]*tt[2]*$),it=Mat.matMatMult(it,this.matrix3DRot),it):this.matrix3DRot},updateAngleSliderBounds:function(){var e,s,a,o,h,c,d,g,_,b,$,j,_e;this.trackballEnabled=JXG$1.evaluate(this.visProp.trackball.enabled),this.trackballEnabled?(this.az_slide.setMin(0),this.az_slide.setMax(2*Math.PI),this.el_slide.setMin(-.5*Math.PI),this.el_slide.setMax(.5*Math.PI),this.bank_slide.setMin(-Math.PI),this.bank_slide.setMax(Math.PI)):(this.az_slide.setMin(this.visProp.az.slider.min),this.az_slide.setMax(this.visProp.az.slider.max),this.el_slide.setMin(this.visProp.el.slider.min),this.el_slide.setMax(this.visProp.el.slider.max),this.bank_slide.setMin(this.visProp.bank.slider.min),this.bank_slide.setMax(this.visProp.bank.slider.max)),e=this.az_slide._smax,s=this.az_slide._smin,a=this.el_slide._smax,o=this.el_slide._smin,j=this.bank_slide._smax,_e=this.bank_slide._smin,this.trackballEnabled?(h=Mat.mod(this.angles.el,2*Math.PI),.5*Math.PI<h&&h<1.5*Math.PI&&(this.angles.el=Math.PI-h,this.angles.az=Mat.wrap(this.angles.az+Math.PI,s,e),this.angles.bank=Mat.wrap(this.angles.bank+Math.PI,_e,j)),this.angles.az=Mat.wrap(this.angles.az,s,e),this.angles.el=Mat.wrap(this.angles.el,o,a),this.angles.bank=Mat.wrap(this.angles.bank,_e,j)):($=function(et){return et<o?o-et:a<et?et-a:0},c=.5*(o+a),d=Mat.wrap(this.angles.el,c-Math.PI,c+Math.PI),g=Mat.wrap(Math.PI-this.angles.el,c-Math.PI,c+Math.PI),_=$(d),b=$(g),_<=b?this.angles.el=Mat.clamp(d,o,a):(this.angles.el=Mat.clamp(g,o,a),this.angles.az=Mat.wrap(this.angles.az+Math.PI,s,e),this.angles.bank=Mat.wrap(this.angles.bank+Math.PI,_e,j)),this.angles.az=Mat.wrapAndClamp(this.angles.az,s,e,2*Math.PI),this.angles.bank=Mat.wrapAndClamp(this.angles.bank,_e,j,2*Math.PI),this.matrix3DRot=this.getRotationFromAngles()),this.setSlidersFromAngles()},_updateCentralProjection:function(){var e=20,s=8,a,o;return a=JXG$1.evaluate(this.visProp.r),a==="auto"&&(a=Mat.hypot(this.bbox3D[0][0]-this.bbox3D[0][1],this.bbox3D[1][0]-this.bbox3D[1][1],this.bbox3D[2][0]-this.bbox3D[2][1])*1.01),this.boxToCam=this.matrix3DRot.map(h=>h.slice()),this.boxToCam[3][0]=-a,this.focalDist=1/Math.tan(.5*JXG$1.evaluate(this.visProp.fov)),o=[[0,0,0,-1],[0,this.focalDist,0,0],[0,0,this.focalDist,0],[2*e*s/(s-e),0,0,(e+s)/(s-e)]],Mat.matMatMult(o,this.boxToCam)},compareDepth:function(e,s){var a=[0,e.coords[1]-s.coords[1],e.coords[2]-s.coords[2],e.coords[3]-s.coords[3]],o=Mat.matVecMult(this.matrix3DRot,Mat.matVecMult(this.shift,a));return o[3]},update:function(){var e=this.r,s=[[1,0,0,0],[0,-e,0,0],[0,0,-e,0],[0,0,0,1]],a,o,h,c,d,g;if(!JXG$1.exists(this.el_slide)||!JXG$1.exists(this.az_slide)||!JXG$1.exists(this.bank_slide)||!this.needsUpdate)return this;switch(a=[[1,0,0],[0,1,0],[0,0,1]],this.projectionType=JXG$1.evaluate(this.visProp.projection).toLowerCase(),this.trackballEnabled!==JXG$1.evaluate(this.visProp.trackball.enabled)&&this.updateAngleSliderBounds(),this._hasMoveTrackball?(this.matrix3DRot=this.updateProjectionTrackball(),this.setAnglesFromRotation()):this.anglesHaveMoved()&&(this.getAnglesFromSliders(),this.matrix3DRot=this.getRotationFromAngles()),this.shift=[[1,0,0,0],[-.5*(this.bbox3D[0][0]+this.bbox3D[0][1]),1,0,0],[-.5*(this.bbox3D[1][0]+this.bbox3D[1][1]),0,1,0],[-.5*(this.bbox3D[2][0]+this.bbox3D[2][1]),0,0,1]],this.projectionType){case"central":h=2*.4,a[1][1]=this.size[0]/h,a[2][2]=this.size[1]/h,a[1][0]=this.llftCorner[0]+a[1][1]*.5*h,a[2][0]=this.llftCorner[1]+a[2][2]*.5*h,this.viewPortTransform=a,o=this._updateCentralProjection(),this.matrix3D=Mat.matMatMult(o,this.shift);break;case"parallel":default:c=this.bbox3D[0][1]-this.bbox3D[0][0],d=this.bbox3D[1][1]-this.bbox3D[1][0],a[1][1]=this.size[0]/c,a[2][2]=this.size[1]/d,a[1][0]=this.llftCorner[0]+a[1][1]*.5*c,a[2][0]=this.llftCorner[1]+a[2][2]*.5*d,this.matrix3D=Mat.matMatMult(a,Mat.matMatMult(Mat.matMatMult(this.matrix3DRot,s),this.shift).slice(0,3))}return this.visProp.depthorderpoints&&this.points===null&&(g=Object.values(this.objects),this.points=g.filter(_=>_.type===Const.OBJECT_TYPE_POINT3D)),!this.visProp.depthorderpoints&&this.points!==null&&(this.points=null),this.visProp.depthorderpoints&&this.board.renderer&&this.board.renderer.type==="svg"&&this.points.filter(_=>JXG$1.evaluate(_.element2D.visProp.visible)).sort(this.compareDepth.bind(this)).forEach(_=>this.board.renderer.setLayer(_.element2D,_.element2D.visProp.layer)),this},updateRenderer:function(){return this.needsUpdate=!1,this},removeObject:function(e,s){var a;if(JXG$1.isArray(e)){for(a=0;a<e.length;a++)this.removeObject(e[a]);return this}if(e=this.select(e),!JXG$1.exists(e)||JXG$1.isString(e))return this;try{delete this.objects[e.id]}catch(o){JXG$1.debug("View3D "+e.id+": Could not be removed: "+o)}return this.board.removeObject(e,s),this},worldToFocal:function(e,s=!0){var a,o=Mat.matVecMult(this.boxToCam,Mat.matVecMult(this.shift,e));if(o[3]-=o[0]*this.focalDist,s)return o;for(a=1;a<4;a++)o[a]/=o[0];return o.slice(1,4)},project3DTo2D:function(e,s,a){var o,h;switch(arguments.length===3?o=[1,e,s,a]:e.length===3?(o=e.slice(),o.unshift(1)):o=e,h=Mat.matVecMult(this.matrix3D,o),this.projectionType){case"central":return h[1]/=h[0],h[2]/=h[0],h[3]/=h[0],h[0]/=h[0],Mat.matVecMult(this.viewPortTransform,h.slice(0,3));case"parallel":default:return h}},_getW0:function(e,s,a){var o=Mat.inverse(e),h=o[0][0]+s[1]*o[0][1]+s[2]*o[0][2],c=o[3][0]+s[1]*o[3][1]+s[2]*o[3][2],d,g,_;return _=a*o[0][3]-o[3][3],d=(c*o[0][3]-h*o[3][3])/_,g=(c-h*a)/_,[1/d,g]},project2DTo3DPlane:function(e,s,a){var o,h,c,d,g,_=s.slice(1),b,$,j;if(a=a||[1,0,0,0],d=Mat.norm(_,3),c=Mat.innerProduct(a.slice(1),_,3)/d,this.projectionType==="parallel"){o=this.matrix3D.slice(0,3),o.push([0,_[0],_[1],_[2]]),h=e.coords.usrCoords.slice(),h.push(c);try{o[2][3]===1&&(o[2][1]=o[2][2]=Mat.eps*.001),g=Mat.Numerics.Gauss(o,h)}catch{g=[0,NaN,NaN,NaN]}}else{o=this.matrix3D,h=e.coords.usrCoords.slice(),b=Mat.Numerics.Gauss(this.viewPortTransform,h),j=this._getW0(o,b,c),$=j[0],h=[b[0]*$,b[1]*$,b[2]*$,j[1]*$];try{o[2][3]===1&&(o[2][1]=o[2][2]=Mat.eps*.001),g=Mat.Numerics.Gauss(o,h),g[1]/=g[0],g[2]/=g[0],g[3]/=g[0],g[0]/=g[0]}catch{g=[0,NaN,NaN,NaN]}}return g},projectScreenToSegment:function(e,s,a){var o=this.project3DTo2D(s).slice(1,3),h=this.project3DTo2D(a).slice(1,3),c=[h[0]-o[0],h[1]-o[1]],d=Mat.innerProduct(c,c),g=[e[0]-o[0],e[1]-o[1]],_=Mat.innerProduct(g,c)/d,b,$,j,_e,et,tt,it;return this.projectionType==="central"?(b=[.5*(s[0]+a[0]),.5*(s[1]+a[1]),.5*(s[2]+a[2])],$=this.project3DTo2D(b).slice(1,3),j=[$[0]-o[0],$[1]-o[1]],_e=Mat.innerProduct(j,c)/d,et=(1-_e)*_/((1-2*_e)*_+_e)):et=_,tt=Math.min(Math.max(et,0),1),it=1-tt,[1,it*s[0]+tt*a[0],it*s[1]+tt*a[1],it*s[2]+tt*a[2]]},project2DTo3DVertical:function(e,s){var a=e.coords.usrCoords.slice(1,3),o=[s[1],s[2],this.bbox3D[2][0]],h=[s[1],s[2],this.bbox3D[2][1]];return this.projectScreenToSegment(a,o,h)},project3DToCube:function(e){var s=this.bbox3D,a=!1;return e[1]<s[0][0]&&(e[1]=s[0][0],a=!0),e[1]>s[0][1]&&(e[1]=s[0][1],a=!0),e[2]<s[1][0]&&(e[2]=s[1][0],a=!0),e[2]>s[1][1]&&(e[2]=s[1][1],a=!0),e[3]<=s[2][0]&&(e[3]=s[2][0],a=!0),e[3]>=s[2][1]&&(e[3]=s[2][1],a=!0),[e,a]},intersectionLineCube:function(e,s,a){var o,h,c,d;for(o=a,h=0;h<3;h++)s[h]!==0&&(c=(this.bbox3D[h][0]-e[h])/s[h],d=(this.bbox3D[h][1]-e[h])/s[h],a<0?o=Math.max(o,Math.min(c,d)):o=Math.min(o,Math.max(c,d)));return o},isInCube:function(e){return e[0]>this.bbox3D[0][0]-Mat.eps&&e[0]<this.bbox3D[0][1]+Mat.eps&&e[1]>this.bbox3D[1][0]-Mat.eps&&e[1]<this.bbox3D[1][1]+Mat.eps&&e[2]>this.bbox3D[2][0]-Mat.eps&&e[2]<this.bbox3D[2][1]+Mat.eps},intersectionPlanePlane:function(e,s,a){var o=[[],[]],h,c,d,g;return a=a||s.d,h=Mat.Geometry.meet3Planes(e.normal,e.d,s.normal,a,Mat.crossProduct(e.normal,s.normal),0),c=Mat.Geometry.meetPlanePlane(e.vec1,e.vec2,s.vec1,s.vec2),d=this.intersectionLineCube(h,c,1/0),g=Mat.axpy(d,c,h),this.isInCube(g)&&(o[0]=g),d=this.intersectionLineCube(h,c,-1/0),g=Mat.axpy(d,c,h),this.isInCube(g)&&(o[1]=g),o},getMesh:function(e,s,a){var o,h,c,d,g,_,b,$=[0,0,0],j=s[2],_e=a[2],et=[],tt=[];for(_=(JXG$1.evaluate(s[1])-JXG$1.evaluate(s[0]))/j,b=(JXG$1.evaluate(a[1])-JXG$1.evaluate(a[0]))/_e,o=0;o<=j;o++){for(c=s[0]+_*o,h=0;h<=_e;h++)d=a[0]+b*h,JXG$1.isFunction(e)?$=e(c,d):$=[e[0](c,d),e[1](c,d),e[2](c,d)],g=this.project3DTo2D($),et.push(g[1]),tt.push(g[2]);et.push(NaN),tt.push(NaN)}for(h=0;h<=_e;h++){for(d=a[0]+b*h,o=0;o<=j;o++)c=s[0]+_*o,JXG$1.isFunction(e)?$=e(c,d):$=[e[0](c,d),e[1](c,d),e[2](c,d)],g=this.project3DTo2D($),et.push(g[1]),tt.push(g[2]);et.push(NaN),tt.push(NaN)}return[et,tt]},animateAzimuth:function(){var e=this.az_slide._smin,s=this.az_slide._smax,a=s-e,o=this.az_slide.Value()+.1;this.az_slide.position=(o-e)/a,this.az_slide.position>1&&(this.az_slide.position=0),this.board.update(),this.timeoutAzimuth=setTimeout((function(){this.animateAzimuth()}).bind(this),200)},stopAzimuth:function(){clearTimeout(this.timeoutAzimuth),this.timeoutAzimuth=null},isVerticalDrag:function(){var e=this.board,s;return JXG$1.evaluate(this.visProp.verticaldrag.enabled)?(s="_"+JXG$1.evaluate(this.visProp.verticaldrag.key)+"Key",e[s]):!1},setView:function(e,s,a){return a=a||this.r,this.az_slide.setValue(e),this.el_slide.setValue(s),this.r=a,this.board.update(),this},nextView:function(){var e=JXG$1.evaluate(this.visProp.values),s=this.visProp._currentview;return s=(s+1)%e.length,this.setCurrentView(s),this},previousView:function(){var e=JXG$1.evaluate(this.visProp.values),s=this.visProp._currentview;return s=(s+e.length-1)%e.length,this.setCurrentView(s),this},setCurrentView:function(e){var s=JXG$1.evaluate(this.visProp.values);return(e<0||e>=s.length)&&(e=(e%s.length+s.length)%s.length),this.setView(s[e][0],s[e][1],s[e][2]),this.visProp._currentview=e,this},_azEventHandler:function(e){var s=this.az_slide._smax,a=this.az_slide._smin,o=(s-a)/this.board.canvasWidth*JXG$1.evaluate(this.visProp.az.pointer.speed),h=e.movementX,c=this.az_slide.Value(),d=this.el_slide.Value();return this.board.mode===this.board.BOARD_MODE_DRAG?this:(JXG$1.evaluate(this.visProp.az.keyboard.enabled)&&(e.key==="ArrowRight"?c=c+JXG$1.evaluate(this.visProp.az.keyboard.step)*Math.PI/180:e.key==="ArrowLeft"&&(c=c-JXG$1.evaluate(this.visProp.az.keyboard.step)*Math.PI/180)),JXG$1.evaluate(this.visProp.az.pointer.enabled)&&h!==0&&e.key==null&&(c+=h*o),JXG$1.evaluate(this.visProp.az.continuous)?c=Mat.wrap(c,a,s):c>0?c=Math.min(s,c):c<0&&(c=Math.max(a,c)),this.setView(c,d),this)},_elEventHandler:function(e){var s=this.el_slide._smax,a=this.el_slide._smin,o=(s-a)/this.board.canvasHeight*JXG$1.evaluate(this.visProp.el.pointer.speed),h=e.movementY,c=this.az_slide.Value(),d=this.el_slide.Value();return this.board.mode===this.board.BOARD_MODE_DRAG?this:(JXG$1.evaluate(this.visProp.el.keyboard.enabled)&&(e.key==="ArrowUp"?d=d-JXG$1.evaluate(this.visProp.el.keyboard.step)*Math.PI/180:e.key==="ArrowDown"&&(d=d+JXG$1.evaluate(this.visProp.el.keyboard.step)*Math.PI/180)),JXG$1.evaluate(this.visProp.el.pointer.enabled)&&h!==0&&e.key==null&&(d+=h*o),JXG$1.evaluate(this.visProp.el.continuous)&&!this.trackballEnabled?d=Mat.wrap(d,a,s):d>0?d=Math.min(s,d):d<0&&(d=Math.max(a,d)),this.setView(c,d),this)},_bankEventHandler:function(e){var s=this.bank_slide._smax,a=this.bank_slide._smin,o,h,c=e.deltaY,d=this.bank_slide.Value();return this.board.mode===this.board.BOARD_MODE_DRAG?this:(JXG$1.evaluate(this.visProp.bank.keyboard.enabled)&&(o=JXG$1.evaluate(this.visProp.bank.keyboard.step)*Math.PI/180,e.key==="."||e.key==="<"?d-=o:(e.key===","||e.key===">")&&(d+=o)),JXG$1.evaluate(this.visProp.bank.pointer.enabled)&&c!==0&&e.key==null&&(h=(s-a)/this.board.canvasHeight*JXG$1.evaluate(this.visProp.bank.pointer.speed),d+=c*h,e.preventDefault()),JXG$1.evaluate(this.visProp.bank.continuous)?d=Mat.wrap(d,a,s):d=Mat.clamp(d,a,s),this.bank_slide.setValue(d),this.board.update(),this)},_trackballHandler:function(e){var s=this.board.getMousePosition(e),a,o,h;return h=new Coords(Const.COORDS_BY_USER,[this.llftCorner[0]+this.size[0]*.5,this.llftCorner[1]+this.size[1]*.5],this.board),a=s[0]-h.scrCoords[1],o=s[1]-h.scrCoords[2],this._trackball={dx:e.movementX,dy:-e.movementY,x:a,y:-o},this.board.update(),this},pointerDownHandler:function(e){var s,a,o;this._hasMoveAz=!1,this._hasMoveEl=!1,this._hasMoveBank=!1,this._hasMoveTrackball=!1,this.board.mode===this.board.BOARD_MODE_NONE&&(JXG$1.evaluate(this.visProp.trackball.enabled)?(s=JXG$1.evaluate(this.visProp.trackball.button),a=JXG$1.evaluate(this.visProp.trackball.key),(s===-1||s===e.button)&&(a==="none"||a.indexOf("shift")>-1&&e.shiftKey||a.indexOf("ctrl")>-1&&e.ctrlKey)&&(o=JXG$1.evaluate(this.visProp.trackball.outside)?document:this.board.containerObj,JXG$1.addEvent(o,"pointermove",this._trackballHandler,this),this._hasMoveTrackball=!0)):(JXG$1.evaluate(this.visProp.az.pointer.enabled)&&(s=JXG$1.evaluate(this.visProp.az.pointer.button),a=JXG$1.evaluate(this.visProp.az.pointer.key),(s===-1||s===e.button)&&(a==="none"||a.indexOf("shift")>-1&&e.shiftKey||a.indexOf("ctrl")>-1&&e.ctrlKey)&&(o=JXG$1.evaluate(this.visProp.az.pointer.outside)?document:this.board.containerObj,JXG$1.addEvent(o,"pointermove",this._azEventHandler,this),this._hasMoveAz=!0)),JXG$1.evaluate(this.visProp.el.pointer.enabled)&&(s=JXG$1.evaluate(this.visProp.el.pointer.button),a=JXG$1.evaluate(this.visProp.el.pointer.key),(s===-1||s===e.button)&&(a==="none"||a.indexOf("shift")>-1&&e.shiftKey||a.indexOf("ctrl")>-1&&e.ctrlKey)&&(o=JXG$1.evaluate(this.visProp.el.pointer.outside)?document:this.board.containerObj,JXG$1.addEvent(o,"pointermove",this._elEventHandler,this),this._hasMoveEl=!0)),JXG$1.evaluate(this.visProp.bank.pointer.enabled)&&(s=JXG$1.evaluate(this.visProp.bank.pointer.button),a=JXG$1.evaluate(this.visProp.bank.pointer.key),(s===-1||s===e.button)&&(a==="none"||a.indexOf("shift")>-1&&e.shiftKey||a.indexOf("ctrl")>-1&&e.ctrlKey)&&(o=JXG$1.evaluate(this.visProp.bank.pointer.outside)?document:this.board.containerObj,JXG$1.addEvent(o,"wheel",this._bankEventHandler,this,{passive:!1}),this._hasMoveBank=!0))),JXG$1.addEvent(document,"pointerup",this.pointerUpHandler,this))},pointerUpHandler:function(e){var s;this._hasMoveAz&&(s=JXG$1.evaluate(this.visProp.az.pointer.outside)?document:this.board.containerObj,JXG$1.removeEvent(s,"pointermove",this._azEventHandler,this),this._hasMoveAz=!1),this._hasMoveEl&&(s=JXG$1.evaluate(this.visProp.el.pointer.outside)?document:this.board.containerObj,JXG$1.removeEvent(s,"pointermove",this._elEventHandler,this),this._hasMoveEl=!1),this._hasMoveBank&&(s=JXG$1.evaluate(this.visProp.bank.pointer.outside)?document:this.board.containerObj,JXG$1.removeEvent(s,"wheel",this._bankEventHandler,this),this._hasMoveBank=!1),this._hasMoveTrackball&&(s=JXG$1.evaluate(this.visProp.az.pointer.outside)?document:this.board.containerObj,JXG$1.removeEvent(s,"pointermove",this._trackballHandler,this),this._hasMoveTrackball=!1),JXG$1.removeEvent(document,"pointerup",this.pointerUpHandler,this)}});JXG$1.createView3D=function(e,s,a){var o,h,c,d,g,_,b,$,j,_e=s[0],et=s[1];return h=JXG$1.copyAttributes(a,e.options,"view3d"),o=new JXG$1.View3D(e,s,h),o.defaultAxes=o.create("axes3d",[],h),_=_e[0],b=_e[1],$=et[0],j=et[1],c=JXG$1.copyAttributes(h,e.options,"view3d","az","slider"),c.name="az",d=JXG$1.copyAttributes(h,e.options,"view3d","el","slider"),d.name="el",g=JXG$1.copyAttributes(h,e.options,"view3d","bank","slider"),g.name="bank",o.az_slide=e.create("slider",[[_-1,b-2],[_+$+1,b-2],[JXG$1.evaluate(c.min),JXG$1.evaluate(c.start),JXG$1.evaluate(c.max)]],c),o.inherits.push(o.az_slide),o.el_slide=e.create("slider",[[_-1,b],[_-1,b+j],[JXG$1.evaluate(d.min),JXG$1.evaluate(d.start),JXG$1.evaluate(d.max)]],d),o.inherits.push(o.el_slide),o.bank_slide=e.create("slider",[[_-1,b+j+2],[_+$+1,b+j+2],[JXG$1.evaluate(g.min),JXG$1.evaluate(g.start),JXG$1.evaluate(g.max)]],g),o.inherits.push(o.bank_slide),o.board.infobox.visProp=JXG$1.merge(o.board.infobox.visProp,h.infobox),o.board.highlightInfobox=function(tt,it,at){var nt,st,rt,lt,ot="",ht=at.board,ct,ut,dt=null;for(this.mode===this.BOARD_MODE_DRAG&&(o.isVerticalDrag()?ot='<span style="color:black; font-size:200%">⇅ &nbsp;</span>':ot='<span style="color:black; font-size:200%">⇄ &nbsp;</span>'),st=0;st<at.parents.length&&(dt=ht.objects[at.parents[st]],!dt.is3D);st++);if(dt){if(lt=[1,0,0,dt.coords[3]],o._w0=Mat.innerProduct(o.matrix3D[0],lt,4),rt=o.project2DTo3DPlane(dt.element2D,[1,0,0,1],lt),!o.isInCube(rt)){o.board.highlightCustomInfobox("",dt);return}nt=JXG$1.evaluate(dt.visProp.infoboxdigits),ut=o.board.infobox,nt==="auto"?ut.useLocale()?ct=[ot,"(",ut.formatNumberLocale(dt.X())," | ",ut.formatNumberLocale(dt.Y())," | ",ut.formatNumberLocale(dt.Z()),")"]:ct=[ot,"(",JXG$1.autoDigits(dt.X())," | ",JXG$1.autoDigits(dt.Y())," | ",JXG$1.autoDigits(dt.Z()),")"]:ut.useLocale()?ct=[ot,"(",ut.formatNumberLocale(dt.X(),nt)," | ",ut.formatNumberLocale(dt.Y(),nt)," | ",ut.formatNumberLocale(dt.Z(),nt),")"]:ct=[ot,"(",JXG$1.toFixed(dt.X(),nt)," | ",JXG$1.toFixed(dt.Y(),nt)," | ",JXG$1.toFixed(dt.Z(),nt),")"],o.board.highlightCustomInfobox(ct.join(""),dt)}else o.board.highlightCustomInfobox("("+tt+", "+it+")",at)},o.BOARD_MODE_NONE=0,JXG$1.addEvent(e.containerObj,"keydown",function(tt){var it,at=!1;JXG$1.evaluate(o.visProp.el.keyboard.enabled)&&(tt.key==="ArrowUp"||tt.key==="ArrowDown")&&(it=JXG$1.evaluate(o.visProp.el.keyboard.key),(it==="none"||it.indexOf("shift")>-1&&tt.shiftKey||it.indexOf("ctrl")>-1&&tt.ctrlKey)&&(o._elEventHandler(tt),at=!0)),JXG$1.evaluate(o.visProp.el.keyboard.enabled)&&(tt.key==="ArrowLeft"||tt.key==="ArrowRight")&&(it=JXG$1.evaluate(o.visProp.az.keyboard.key),(it==="none"||it.indexOf("shift")>-1&&tt.shiftKey||it.indexOf("ctrl")>-1&&tt.ctrlKey)&&(o._azEventHandler(tt),at=!0)),JXG$1.evaluate(o.visProp.bank.keyboard.enabled)&&(tt.key===","||tt.key==="<"||tt.key==="."||tt.key===">")&&(it=JXG$1.evaluate(o.visProp.bank.keyboard.key),(it==="none"||it.indexOf("shift")>-1&&tt.shiftKey||it.indexOf("ctrl")>-1&&tt.ctrlKey)&&(o._bankEventHandler(tt),at=!0)),tt.key==="PageUp"?(o.nextView(),at=!0):tt.key==="PageDown"&&(o.previousView(),at=!0),at&&tt.preventDefault()},o),JXG$1.addEvent(e.containerObj,"pointerdown",o.pointerDownHandler,o),o.getAnglesFromSliders(),o.matrix3DRot=o.getRotationFromAngles(),o.updateAngleSliderBounds(),o.board.update(),o};JXG$1.registerElement("view3d",JXG$1.createView3D);JXG$1.View3D;JXG$1.GeometryElement3D=function(e,s){this.elType=s,this.id=this.board.setId(this,s),this.view=e,this.element2D=null,this.is3D=!0,this.view.objects[this.id]=this,this.name!==""&&(this.view.elementsByName[this.name]=this)};JXG$1.extend(JXG$1.GeometryElement3D.prototype,{setAttr2D:function(e){var s=e;return s.name=this.name,s},setAttribute:function(e){var s,a,o,h,c,d={};for(s=0;s<arguments.length;s++)h=arguments[s],JXG$1.isString(h)?(c=h.split(":"),d[JXG$1.trim(c[0])]=JXG$1.trim(c[1])):JXG$1.isArray(h)?d[h[0]]=h[1]:JXG$1.extend(d,h);for(s in d)if(d.hasOwnProperty(s))switch(a=s.replace(/\s+/g,"").toLowerCase(),o=d[s],a){case"numberpointshigh":case"stepsu":case"stepsv":JXG$1.exists(this.visProp[a])&&(!JXG$1.Validator[a]||JXG$1.Validator[a]&&JXG$1.Validator[a](o)||JXG$1.Validator[a]&&JXG$1.isFunction(o)&&JXG$1.Validator[a](o()))&&(o=o.toLowerCase&&o.toLowerCase()==="false"?!1:o,this._set(a,o));break;default:JXG$1.exists(this.element2D)&&this.element2D.setAttribute(d)}},getAttribute:function(e){var s;switch(e=e.toLowerCase(),e){case"numberpointshigh":case"stepsu":case"stepsv":s=this.visProp[e];break;default:JXG$1.exists(this.element2D)&&(s=this.element2D.getAttribute(e));break}return s},getAttributes:function(){var e={},s,a,o=["numberpointshigh","stepsu","stepsv"],h=o.length;for(JXG$1.exists(this.element2D)&&(e=JXG$1.merge(this.element2D.getAttributes())),s=0;s<h;s++)a=o[s],JXG$1.exists(this.visProp[a])&&(e[a]=this.visProp[a]);return e},setPosition2D:function(e){},remove:function(){}});JXG$1.GeometryElement3D;JXG$1.createAxes3D=function(e,s,a){var o=s[0],h=["x","y","z"],c="Axis",d=["Rear","Front"],g=[0,0,0],_=[0,0,0],b,$,j,_e,et,tt,it,at,nt,st,rt,lt,ot,ht,ct,ut,dt,ft,gt,mt={};if(JXG$1.exists(o.bbox3D))for(b=0;b<h.length;b++)g[b]=o.bbox3D[b][0],_[b]=o.bbox3D[b][1];else for(b=0;b<h.length;b++)g[b]=s[1][b],_[b]=s[2][1];for(tt=JXG$1.copyAttributes(a,e.options,"axes3d"),it=tt.axesposition,b=0;b<h.length;b++)at=h[b],dt=at+c,it==="center"?(rt=[0,0,0],lt=[0,0,0],lt[b]=_[b],mt[dt]=o.create("axis3d",[rt,lt],tt[dt.toLowerCase()]),mt[dt].view=o):it==="border"&&(dt+="Border",rt=g.slice(),lt=_.slice(),at==="z"?(rt[1]=_[1],lt[0]=g[0]):at==="x"?(rt=[g[0],_[1],g[2]],lt=[_[0],_[1],g[2]]):(rt=[_[0],g[1],g[2]],lt=[_[0],_[1],g[2]]),lt[b]=_[b],mt[dt]=o.create("axis3d",[rt,lt],tt[dt.toLowerCase()]),mt[dt].view=o,gt=tt[dt.toLowerCase()].ticks3d,st=_[b]-g[b],at==="x"?mt[dt+"Ticks"]=o.create("ticks3d",[rt,[1,0,0],st,[0,1,0]],gt):at==="y"?mt[dt+"Ticks"]=o.create("ticks3d",[rt,[0,1,0],st,[1,0,0]],gt):mt[dt+"Ticks"]=o.create("ticks3d",[rt,[0,0,1],st,[0,1,0]],gt),mt[dt+"Ticks"].view=o);for(it==="center"?(mt.O=o.create("intersection",[mt[h[0]+c],mt[h[1]+c]],{name:"",visible:!1,withLabel:!1}),mt.O.view=o):mt.O=null,b=0;b<h.length;b++)for(_e=(b+1)%3,et=(b+2)%3,at=h[b],$=0;$<d.length;$++)rt=[0,0,0],rt[b]=$===0?g[b]:_[b],ot=[0,0,0],ht=[0,0,0],ot[_e]=1,ht[et]=1,ct=[g[_e],_[_e]],ut=[g[et],_[et]],dt=at+"Plane"+d[$],tt=JXG$1.copyAttributes(a,e.options,"axes3d",dt),mt[dt]=o.create("plane3d",[rt,ot,ht,ct,ut],tt),mt[dt].elType="axisplane3d";for(b=0;b<h.length;b++)for(at=h[b],$=0;$<d.length;$++)for(j=1;j<=2;j++)_e=(b+j)%3,nt=h[_e],dt=at+"Plane"+d[$]+nt.toUpperCase()+"Axis",ft=at+"Plane"+d[$],rt=[0,0,0],lt=[0,0,0],rt[b]=lt[b]=$===0?g[b]:_[b],rt[_e]=g[_e],lt[_e]=_[_e],tt=JXG$1.copyAttributes(a,e.options,"axes3d",dt),mt[dt]=o.create("axis3d",[rt,lt],tt),mt[dt].view=o,mt[ft].addChild(mt[dt]),mt[ft].element2D.inherits.push(mt[dt]);return mt};JXG$1.registerElement("axes3d",JXG$1.createAxes3D);JXG$1.createAxis3D=function(e,s,a){var o=s[0],h,c=s[1],d=s[2],g,_,b;return h=JXG$1.copyAttributes(a.point1,e.options,"axis3d","point1"),g=o.create("point",[function($,j,_e){return function(){return o.project3DTo2D($,j,_e)[1]}}(c[0],c[1],c[2]),function($,j,_e){return function(){return o.project3DTo2D($,j,_e)[2]}}(c[0],c[1],c[2])],h),h=JXG$1.copyAttributes(a.point2,e.options,"axis3d","point2"),_=o.create("point",[function($,j,_e){return function(){return o.project3DTo2D($,j,_e)[1]}}(d[0],d[1],d[2]),function($,j,_e){return function(){return o.project3DTo2D($,j,_e)[2]}}(d[0],d[1],d[2])],h),h=JXG$1.copyAttributes(a,e.options,"axis3d"),b=o.create("arrow",[g,_],h),b};JXG$1.registerElement("axis3d",JXG$1.createAxis3D);JXG$1.createMesh3D=function(e,s,a){var o=s[0],h=s[1],c=s[2],d=s[3],g=s[4],_=s[5],b=s[6]||1,$;return $=o.create("curve",[[],[]],a),$.point=h,$.direction1=c,$.range1=d,$.direction2=g,$.range2=_,$.step=b,$.updateDataArray=function(){var j=JXG$1.evaluate(this.range1),_e=JXG$1.evaluate(this.range2),et=j[0],tt=j[1],it=_e[0],at=_e[1],nt,st,rt,lt,ot=[0,0,0],ht=[0,0,0],ct=JXG$1.evaluate(this.step),ut=[0,0,0];if(this.dataX=[],this.dataY=[],JXG$1.isFunction(this.point))ut=this.point().slice(1);else for(lt=0;lt<3;lt++)ut[lt]=JXG$1.evaluate(this.point[lt]);for(lt=0;lt<3;lt++)ot[lt]=JXG$1.evaluate(this.direction1[lt]),ht[lt]=JXG$1.evaluate(this.direction2[lt]);for(nt=JXG$1.Math.norm(ot,3),st=JXG$1.Math.norm(ht,3),lt=0;lt<3;lt++)ot[lt]/=nt,ht[lt]/=st;rt=o.getMesh([function(dt,ft){return ut[0]+dt*ot[0]+ft*ht[0]},function(dt,ft){return ut[1]+dt*ot[1]+ft*ht[1]},function(dt,ft){return ut[2]+dt*ot[2]+ft*ht[2]}],[Math.ceil(et),Math.floor(tt),(Math.ceil(tt)-Math.floor(et))/ct],[Math.ceil(it),Math.floor(at),(Math.ceil(at)-Math.floor(it))/ct]),this.dataX=rt[0],this.dataY=rt[1]},$};JXG$1.registerElement("mesh3d",JXG$1.createMesh3D);JXG$1.Circle3D=function(e,s,a,o,h){var c;this.constructor(e.board,h,Const.OBJECT_TYPE_CIRCLE3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"circle3d"),this.center=this.board.select(s),this.normal=[0,0,0],this.curve,this.frame1,this.frame2,this.updateNormal=function(){var d,g;for(d=0;d<3;d++)this.normal[d]=JXG$1.evaluate(a[d]);if(g=Mat.norm(this.normal),Math.abs(g)>Mat.eps)for(d=0;d<3;d++)this.normal[d]/=g},JXG$1.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),this.updateRadius=JXG$1.createFunction(o,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.updateNormal(),this.frame1=Mat.crossProduct(this.normal,[1,0,0]),c=Mat.crossProduct(this.normal,[-.5,.8660254037844386,0]),Mat.norm(c)>Mat.norm(this.frame1)&&(this.frame1=c),this.frame2=Mat.crossProduct(this.normal,this.frame1),this.normalizeFrame(),this.curve=e.create("curve3d",[d=>this.center.X()+this.Radius()*(Math.cos(d)*this.frame1[0]+Math.sin(d)*this.frame2[0]),d=>this.center.Y()+this.Radius()*(Math.cos(d)*this.frame1[1]+Math.sin(d)*this.frame2[1]),d=>this.center.Z()+this.Radius()*(Math.cos(d)*this.frame1[2]+Math.sin(d)*this.frame2[2]),[0,2*Math.PI]],h)};JXG$1.Circle3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Circle3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Circle3D.prototype,{update:function(){return this.updateNormal(),this.updateFrame(),this.curve.visProp.visible=!isNaN(this.Radius()),this},updateRenderer:function(){return this.needsUpdate=!1,this},setRadius:function(e){return this.updateRadius=JXG$1.createFunction(e,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.board.update(),this},Radius:function(e){return JXG$1.exists(e)?(this.setRadius(e),this.Radius()):Math.abs(this.updateRadius())},normalizeFrame:function(){var e=Mat.norm(this.frame1),s=Mat.norm(this.frame2),a;for(a=0;a<3;a++)this.frame1[a]/=e,this.frame2[a]/=s},updateFrame:function(){this.frame1=Mat.crossProduct(this.frame2,this.normal),this.frame2=Mat.crossProduct(this.normal,this.frame1),this.normalizeFrame()},projectCoords:function(e,s){return this.curve.projectCoords(e,s)},projectScreenCoords:function(e,s){return this.curve.projectScreenCoords(e,s)}});JXG$1.createCircle3D=function(e,s,a){var o=s[0],h=JXG$1.copyAttributes(a,e.options,"circle3d"),c=JXG$1.providePoints3D(o,[s[1]],a,"circle3d",["point"])[0],d=s[2],g=s[3],_;return _=new JXG$1.Circle3D(o,c,d,g,h),_.curve.addParents([_]),_.addChild(_.curve),_.update(),_};JXG$1.registerElement("circle3d",JXG$1.createCircle3D);JXG$1.createIntersectionCircle3D=function(e,s,a){var o=s[0],h=s[1],c=s[2],d,g,_,b=JXG$1.copyAttributes(a,e.options,"intersectioncircle3d");_=Geometry.intersectionFunction3D(o,h,c),g=o.create("point3d",_[0],{visible:!1}),d=o.create("circle3d",[g,_[1],_[2]],b);try{h.addChild(d),c.addChild(d)}catch{throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'.")}return d.type=Const.OBJECT_TYPE_INTERSECTION_CIRCLE3D,d.elType="intersectioncircle3d",d.setParents([h.id,c.id]),d};JXG$1.registerElement("intersectioncircle3d",JXG$1.createIntersectionCircle3D);JXG$1.Point3D=function(e,s,a,o){this.constructor(e.board,o,Const.OBJECT_TYPE_POINT3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"point3d"),this.board.finalizeAdding(this),e.visProp.depthorderpoints&&e.points.push(this),this.coords=[0,0,0,0],this.F=s,this.slide=a,this.X=function(){return this.coords[1]},this.Y=function(){return this.coords[2]},this.Z=function(){return this.coords[3]},this._params=[],this._c2d=null,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Point3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Point3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Point3D.prototype,{updateCoords:function(){var e;if(JXG$1.isFunction(this.F))this.coords=JXG$1.evaluate(this.F),this.coords.unshift(1);else for(this.coords[0]=1,e=0;e<3;e++)JXG$1.isFunction(this.F[e])&&(this.coords[e+1]=JXG$1.evaluate(this.F[e]));return this},initCoords:function(){var e;if(JXG$1.isFunction(this.F))this.coords=JXG$1.evaluate(this.F),this.coords.unshift(1);else for(this.coords[0]=1,e=0;e<3;e++)this.coords[e+1]=JXG$1.evaluate(this.F[e]);return this},normalizeCoords:function(){return Math.abs(this.coords[0])>Mat.eps&&(this.coords[1]/=this.coords[0],this.coords[2]/=this.coords[0],this.coords[3]/=this.coords[0],this.coords[0]=1),this},setPosition:function(e,s){var a=this.coords;return e.length===3?(a[0]=1,a[1]=e[0],a[2]=e[1],a[3]=e[2]):(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[2],this.normalizeCoords()),this},update:function(e){var s,a,o;return this.element2D.draggable()&&Geometry.distance(this._c2d,this.element2D.coords.usrCoords)!==0?this.slide?(this.coords=this.slide.projectScreenCoords([this.element2D.X(),this.element2D.Y()],this._params),this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,this.view.project3DTo2D(this.coords))):(this.view.isVerticalDrag()?s=this.view.project2DTo3DVertical(this.element2D,this.coords):(a=[1,0,0,this.coords[3]],s=this.view.project2DTo3DPlane(this.element2D,[1,0,0,1],a)),s[0]!==0&&(o=this.view.project3DToCube(s),this.coords=o[0],o[1]&&this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,this.view.project3DTo2D(this.coords)))):(this.updateCoords(),this.slide&&(this.coords=this.slide.projectCoords([this.X(),this.Y(),this.Z()],this._params)),this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,this.view.project3DTo2D([1,this.X(),this.Y(),this.Z()]))),this._c2d=this.element2D.coords.usrCoords.slice(),this},updateRenderer:function(){return this.needsUpdate=!1,this},isIllDefined:function(){return JXG$1.cmpArrays(this.coords,[0,0,0,0])},distance:function(e){var s=Mat.eps*Mat.eps,a=this.coords,o=e.coords;return a[0]*a[0]>s&&o[0]*o[0]>s?Mat.hypot(o[1]-a[1],o[2]-a[2],o[3]-a[3]):Number.POSITIVE_INFINITY},__evt__update3D:function(e){}});JXG$1.createPoint3D=function(e,s,a){var o=s[0],h,c,d,g,_;if(s.length>2&&JXG$1.exists(s[s.length-1].is3D)?d=s.pop():d=null,s.length===2)c=s[1];else if(s.length===4)c=s.slice(1);else throw new Error("JSXGraph: Can't create point3d with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [[x,y,z]], [x,y,z]`);return h=JXG$1.copyAttributes(a,e.options,"point3d"),_=new JXG$1.Point3D(o,c,d,h),_.initCoords(),g=o.project3DTo2D(_.coords),h=_.setAttr2D(h),_.element2D=o.create("point",g,h),_.element2D.view=o,_.addChild(_.element2D),_.inherits.push(_.element2D),_.element2D.setParents(_),_.slide&&(_.slide.addChild(_),_.setParents(_.slide)),_._c2d=_.element2D.coords.usrCoords.slice(),_};JXG$1.registerElement("point3d",JXG$1.createPoint3D);JXG$1.Curve3D=function(e,s,a,o,h,c,d){this.constructor(e.board,d,Const.OBJECT_TYPE_CURVE3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"curve3d"),this.board.finalizeAdding(this),this.F=s,this.X=a,this.Y=o,this.Z=h,this.dataX=null,this.dataY=null,this.dataZ=null,this.F!==null&&(this.X=function(g){return this.F(g)[0]},this.Y=function(g){return this.F(g)[1]},this.Z=function(g){return this.F(g)[2]}),this.range=c,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Curve3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Curve3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Curve3D.prototype,{updateDataArray2D:function(){var e=JXG$1.evaluate(this.visProp.numberpointshigh),s,a,o,h,c,d,g,_,b,$=[0,0,0];if(g=[],_=[],JXG$1.exists(this.dataX))for(e=this.dataX.length,d=0;d<e;d++)$=[this.dataX[d],this.dataY[d],this.dataZ[d]],c=this.view.project3DTo2D($),g.push(c[1]),_.push(c[2]);else if(JXG$1.isArray(this.X))for(e=this.X.length,d=0;d<e;d++)$=[this.X[d],this.Y[d],this.Z[d]],c=this.view.project3DTo2D($),g.push(c[1]),_.push(c[2]);else for(s=JXG$1.evaluate(this.range),a=JXG$1.evaluate(s[0]),o=JXG$1.evaluate(s[1]),h=(o-a)/(e-1),b=0,d=a;b<e&&d<=o;b++,d+=h)this.F!==null?$=this.F(d):$=[this.X(d),this.Y(d),this.Z(d)],c=this.view.project3DTo2D($),g.push(c[1]),_.push(c[2]);return{X:g,Y:_}},updateDataArray:function(){},update:function(){return this.updateDataArray(),this},updateRenderer:function(){return this.needsUpdate=!1,this},initParamsIfNeeded:function(e){e.length===0&&e.unshift(.5*(this.range[0]+this.range[1]))},projectCoords:function(e,s){return this.initParamsIfNeeded(s),Geometry.projectCoordsToParametric(e,this,s)},projectScreenCoords:function(e,s){return this.initParamsIfNeeded(s),Geometry.projectScreenCoordsToParametric(e,this,s)}});JXG$1.createCurve3D=function(e,s,a){var o=s[0],h,c,d,g,_,b,$;return s.length===3?(h=s[1],_=s[2],c=null,d=null,g=null):(c=s[1],d=s[2],g=s[3],_=s[4],h=null),b=JXG$1.copyAttributes(a,e.options,"curve3d"),$=new JXG$1.Curve3D(o,h,c,d,g,_,b),b=$.setAttr2D(b),$.element2D=o.create("curve",[[],[]],b),$.element2D.view=o,$.element2D.updateDataArray=function(){var j=$.updateDataArray2D();this.dataX=j.X,this.dataY=j.Y},$.addChild($.element2D),$.inherits.push($.element2D),$.element2D.setParents($),$.element2D.prepareUpdate().update(),e.isSuspendedUpdate||$.element2D.updateVisibility().updateRenderer(),$};JXG$1.registerElement("curve3d",JXG$1.createCurve3D);JXG$1.createVectorfield3D=function(e,s,a){var o=s[0],h,c;if(!(s.length>=5&&(JXG$1.isArray(s[1])||JXG$1.isFunction(s[1])||JXG$1.isString(s[1]))&&JXG$1.isArray(s[2])&&s[1].length===3&&JXG$1.isArray(s[3])&&s[2].length===3&&JXG$1.isArray(s[4])&&s[3].length===3))throw new Error("JSXGraph: Can't create vector field 3D with parent types '"+typeof s[1]+"', '"+typeof s[2]+"', '"+typeof s[3]+"'.'"+typeof s[4]+"', ");return c=JXG$1.copyAttributes(a,e.options,"vectorfield3d"),h=o.create("curve3d",[[],[],[]],c),h.setF=function(d,g){var _,b,$;return JXG$1.isArray(d)?(_=JXG$1.createFunction(d[0],this.board,g),b=JXG$1.createFunction(d[1],this.board,g),$=JXG$1.createFunction(d[2],this.board,g),this.F=function(j,_e,et){return[_(j,_e,et),b(j,_e,et),$(j,_e,et)]}):this.F=JXG$1.createFunction(d,h.board,g),this},h.setF(s[1],"x, y, z"),h.xData=s[2],h.yData=s[3],h.zData=s[4],h.updateDataArray=function(){var d,g,_,b,$,j,_e,et,tt=JXG$1.evaluate(this.visProp.scale),it=[JXG$1.evaluate(this.xData[0]),JXG$1.evaluate(this.yData[0]),JXG$1.evaluate(this.zData[0])],at=[JXG$1.evaluate(this.xData[1]),JXG$1.evaluate(this.yData[1]),JXG$1.evaluate(this.zData[1])],nt=[JXG$1.evaluate(this.xData[2]),JXG$1.evaluate(this.yData[2]),JXG$1.evaluate(this.zData[2])],st=[(nt[0]-it[0])/at[0],(nt[1]-it[1])/at[1],(nt[2]-it[2])/at[2]],rt,lt,ot,ht,ct=JXG$1.evaluate(this.visProp.arrowhead.enabled),ut,dt,ft,gt,mt;for(ct&&(ut=JXG$1.evaluate(this.visProp.arrowhead.size),mt=JXG$1.evaluate(this.visProp.arrowhead.angle),dt=ut/e.unitX,ft=ut/e.unitY,gt=ut/Math.sqrt(e.unitX*e.unitY)),this.dataX=[],this.dataY=[],this.dataZ=[],g=0,j=it[0];g<=at[0];j+=st[0],g++)for(_=0,_e=it[1];_<=at[1];_e+=st[1],_++)for(d=0,et=it[2];d<=at[2];et+=st[2],d++)b=this.F(j,_e,et),$=Mat.norm(b),!($<Number.EPSILON)&&(b[0]*=tt,b[1]*=tt,b[2]*=tt,JXG$1.concat(this.dataX,[j,j+b[0],NaN]),JXG$1.concat(this.dataY,[_e,_e+b[1],NaN]),JXG$1.concat(this.dataZ,[et,et+b[2],NaN]),ct&&($*=tt,rt=Math.atan2(b[1],b[0]),ht=Math.asin(b[2]/$),lt=ht-mt,ot=ht+mt,JXG$1.concat(this.dataX,[j+b[0]-dt*Math.cos(rt)*Math.cos(lt),j+b[0],j+b[0]-dt*Math.cos(rt)*Math.cos(ot),NaN]),JXG$1.concat(this.dataY,[_e+b[1]-ft*Math.sin(rt)*Math.cos(lt),_e+b[1],_e+b[1]-ft*Math.sin(rt)*Math.cos(ot),NaN]),JXG$1.concat(this.dataZ,[et+b[2]-gt*Math.sin(ot),et+b[2],et+b[2]-gt*Math.sin(lt),NaN])))},h.methodMap=JXG$1.deepCopy(h.methodMap,{setF:"setF"}),h};JXG$1.registerElement("vectorfield3D",JXG$1.createVectorfield3D);JXG$1.Line3D=function(e,s,a,o,h){this.constructor(e.board,h,Const.OBJECT_TYPE_LINE3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"line3d"),this.board.finalizeAdding(this),this.point=s,this.direction=a,this.range=o||[-1/0,1/0],this.point1=null,this.point2=null,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Line3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Line3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Line3D.prototype,{getPointCoords:function(e){var s=[],a=[],o,h;if(s=[this.point.X(),this.point.Y(),this.point.Z()],JXG$1.isFunction(this.direction))a=this.direction();else for(o=1;o<4;o++)a.push(JXG$1.evaluate(this.direction[o]));return h=JXG$1.evaluate(e),e=this.view.intersectionLineCube(s,a,h),[s[0]+a[0]*e,s[1]+a[1]*e,s[2]+a[2]*e]},update:function(){return this},setPosition2D:function(e){var s,a;for(s=0;s<this.parents.length;s++)a=this.view.select(this.parents[s]),a.elType==="point3d"&&a.element2D.draggable()&&e.applyOnce(a.element2D)},updateRenderer:function(){return this.needsUpdate=!1,this},projectCoords:function(e){var s=this.getPointCoords(0),a=this.getPointCoords(1),o=[a[0]-s[0],a[1]-s[1],a[2]-s[2]],h=[e[0]-s[0],e[1]-s[1],e[2]-s[2]],c=Mat.innerProduct(h,o)/Mat.innerProduct(o,o),d=Math.min(Math.max(c,this.range[0]),this.range[1]),g;return g=this.getPointCoords(d).slice(),g.unshift(1),g},projectScreenCoords:function(e){var s=this.getPointCoords(0),a=this.getPointCoords(1);return this.view.projectScreenToSegment(e,s,a)}});JXG$1.createLine3D=function(e,s,a){var o=s[0],h,c,d,g,_,b,$,j,_e;return h=JXG$1.copyAttributes(a,e.options,"line3d"),JXG$1.isPoint3D(s[2])||s.length===3&&(JXG$1.isArray(s[2])||JXG$1.isFunction(s[2]))?(b=JXG$1.providePoints3D(o,[s[1]],a,"line3d",["point1"])[0],$=JXG$1.providePoints3D(o,[s[2]],a,"line3d",["point2"])[0],g=function(){return[$.X()-b.X(),$.Y()-b.Y(),$.Z()-b.Z()]},_=[0,1],_e=new JXG$1.Line3D(o,b,g,_,h),j=JXG$1.providePoints3D(o,[[0,0,0],[0,0,0]],{visible:!1},"line3d",["point1","point2"]),j[0].F=function(){var et=0;return JXG$1.evaluate(_e.visProp.straightfirst)&&(et=-1/0),_e.getPointCoords(et)},j[1].F=function(){var et=1;return JXG$1.evaluate(_e.visProp.straightlast)&&(et=1/0),_e.getPointCoords(et)},j[0].prepareUpdate().update(),j[1].prepareUpdate().update(),h=_e.setAttr2D(h),h.straightfirst=!1,h.straightlast=!1,_e.element2D=o.create("segment",[j[0].element2D,j[1].element2D],h),_e.element2D.view=o,_e.endpoints=j,_e.addChild(j[0]),_e.addChild(j[1]),_e.addParents([b,$])):(d=JXG$1.providePoints3D(o,[s[1]],a,"line3d",["point"])[0],JXG$1.isFunction(s[2])?g=s[2]:s[2].length===3?g=[1].concat(s[2]):s[2].length===4&&(g=s[2]),_=s[3],c=JXG$1.providePoints3D(o,[[0,0,0],[0,0,0]],a,"line3d",["point1","point2"]),_e=new JXG$1.Line3D(o,d,g,_,h),c[0].F=function(){return _e.getPointCoords(JXG$1.evaluate(_e.range[0]))},c[0].prepareUpdate().update(),b=c[0],c[1].F=function(){return _e.getPointCoords(JXG$1.evaluate(_e.range[1]))},c[1].prepareUpdate().update(),$=c[1],h=_e.setAttr2D(h),h.straightfirst=!1,h.straightlast=!1,_e.element2D=o.create("segment",[b.element2D,$.element2D],h),_e.element2D.view=o,_e.endpoints=c,_e.addParents(d)),_e.addChild(_e.element2D),_e.inherits.push(_e.element2D),_e.element2D.addParents(_e),_e.point1=b,_e.point2=$,_e.point1._is_new?(_e.addChild(_e.point1),delete _e.point1._is_new):_e.point1.addChild(_e),_e.point2._is_new?(_e.addChild(_e.point2),delete _e.point2._is_new):_e.point2.addChild(_e),JXG$1.exists(d)&&(d._is_new?(_e.addChild(d),delete d._is_new):d.addChild(_e)),_e.update(),_e.element2D.prepareUpdate().update().updateRenderer(),_e};JXG$1.registerElement("line3d",JXG$1.createLine3D);JXG$1.Plane3D=function(e,s,a,o,h,c,d){this.constructor(e.board,d,Const.OBJECT_TYPE_PLANE3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"plane3d"),this.board.finalizeAdding(this),this.point=s,this.direction1=a,this.direction2=h,this.range1=o||[-1/0,1/0],this.range2=c||[-1/0,1/0],this.vec1=[0,0,0],this.vec2=[0,0,0],this.grid=null,this.normal=[0,0,0],this.d=0,this.updateNormal(),this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Plane3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Plane3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Plane3D.prototype,{updateNormal:function(){var e,s;if(JXG$1.isFunction(this.direction1))this.vec1=JXG$1.evaluate(this.direction1);else for(e=0;e<3;e++)this.vec1[e]=JXG$1.evaluate(this.direction1[e]);if(JXG$1.isFunction(this.direction2))this.vec2=JXG$1.evaluate(this.direction2);else for(e=0;e<3;e++)this.vec2[e]=JXG$1.evaluate(this.direction2[e]);if(this.normal=Mat.crossProduct(this.vec1,this.vec2),s=Mat.norm(this.normal),Math.abs(s)>Mat.eps)for(e=0;e<3;e++)this.normal[e]/=s;return this.d=Mat.innerProduct(this.point.coords.slice(1),this.normal,3),this},updateDataArray:function(){var e,s,a,o,h,c,d,g=["xPlaneRear","yPlaneRear","zPlaneRear"],_=[],b=[0,0,0],$=[0,0,0],j=[0,0,0],_e=[0,0,0],et,tt,it,at,nt,st,rt,lt,ot=this.view;if(this.dataX=[],this.dataY=[],this.updateNormal(),this.elType!=="axisplane3d"&&ot.defaultAxes&&JXG$1.evaluate(this.range1[0])===-1/0&&JXG$1.evaluate(this.range1[1])===1/0&&JXG$1.evaluate(this.range2[0])===-1/0&&JXG$1.evaluate(this.range2[1])===1/0){for(it=0;it<g.length;it++){if(_e=ot.intersectionPlanePlane(this,ot.defaultAxes[g[it]]),_e[0].length===3&&_e[1].length===3){for(tt=0;tt<_.length&&!(Geometry.distance(_e[0],_[tt][0],3)<Mat.eps&&Geometry.distance(_e[1],_[tt][1],3)<Mat.eps||Geometry.distance(_e[0],_[tt][1],3)<Mat.eps&&Geometry.distance(_e[1],_[tt][0],3)<Mat.eps);tt++);tt===_.length&&_.push(_e.slice())}if(_e=[0,0,0],_e[it]=ot.bbox3D[it][1],et=Mat.innerProduct(_e,ot.defaultAxes[g[it]].normal,3),_e=ot.intersectionPlanePlane(this,ot.defaultAxes[g[it]],et),_e[0].length===3&&_e[1].length===3){for(tt=0;tt<_.length&&!(Geometry.distance(_e[0],_[tt][0],3)<Mat.eps&&Geometry.distance(_e[1],_[tt][1],3)<Mat.eps||Geometry.distance(_e[0],_[tt][1],3)<Mat.eps&&Geometry.distance(_e[1],_[tt][0],3)<Mat.eps);tt++);tt===_.length&&_.push(_e.slice())}}if(_.length===0)return{X:this.dataX,Y:this.dataY};st=0,rt=st,tt=0;do{for(_e=_[rt][tt],_e.length===3&&(h=ot.project3DTo2D(_e),this.dataX.push(h[1]),this.dataY.push(h[2])),tt=(tt+1)%2,_e=_[rt][tt],lt=rt,it=0;it<_.length;it++){if(it!==rt&&Geometry.distance(_e,_[it][0])<Mat.eps){rt=it,tt=0;break}if(it!==rt&&Geometry.distance(_e,_[it][1])<Mat.eps){rt=it,tt=1;break}}if(rt===lt){console.log("Error: update plane3d: did not find next",rt);break}}while(rt!==st);h=ot.project3DTo2D(_[st][0]),this.dataX.push(h[1]),this.dataY.push(h[2])}else{for(e=JXG$1.evaluate(this.range1[0]),s=JXG$1.evaluate(this.range1[1]),a=JXG$1.evaluate(this.range2[0]),o=JXG$1.evaluate(this.range2[1]),j=this.point.coords.slice(1),b=this.vec1.slice(),$=this.vec2.slice(),c=Mat.norm(b,3),d=Mat.norm($,3),tt=0;tt<3;tt++)b[tt]/=c,$[tt]/=d;for(it=0;it<4;it++){switch(it){case 0:at=e,nt=a;break;case 1:at=s,nt=a;break;case 2:at=s,nt=o;break;case 3:at=e,nt=o}for(tt=0;tt<3;tt++)_e[tt]=j[tt]+at*b[tt]+nt*$[tt];h=ot.project3DTo2D(_e),this.dataX.push(h[1]),this.dataY.push(h[2])}this.dataX.push(this.dataX[0]),this.dataY.push(this.dataY[0])}return{X:this.dataX,Y:this.dataY}},update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this}});JXG$1.createPlane3D=function(e,s,a){var o=s[0],h,c,d=s[2],g=s[3],_=s[4]||[-1/0,1/0],b=s[5]||[-1/0,1/0],$,j;return c=JXG$1.providePoints3D(o,[s[1]],a,"plane3d",["point"])[0],h=JXG$1.copyAttributes(a,e.options,"plane3d"),$=new JXG$1.Plane3D(o,c,d,_,g,b,h),c.addChild($),h=$.setAttr2D(h),$.element2D=o.create("curve",[[],[]],h),$.element2D.view=o,$.element2D.updateDataArray=function(){var _e=$.updateDataArray();this.dataX=_e.X,this.dataY=_e.Y},$.addChild($.element2D),$.inherits.push($.element2D),$.element2D.setParents($),h=JXG$1.copyAttributes(a.mesh3d,e.options,"mesh3d"),Math.abs($.range1[0])!==1/0&&Math.abs($.range1[1])!==1/0&&Math.abs($.range2[0])!==1/0&&Math.abs($.range2[1])!==1/0&&(j=o.create("mesh3d",[function(){return c.coords},d,_,g,b],h),$.grid=j,$.addChild(j),$.inherits.push(j),j.setParents($),$.grid.view=o),$.element2D.prepareUpdate().update(),e.isSuspendedUpdate||$.element2D.updateVisibility().updateRenderer(),$};JXG$1.registerElement("plane3d",JXG$1.createPlane3D);JXG$1.createIntersectionLine3D=function(e,s,a){var o=s[0],h=s[1],c=s[2],d,g,_,b=JXG$1.copyAttributes(a,e.options,"intersectionline3d"),$=[];for(g=0;g<2;g++)_=Geometry.intersectionFunction3D(o,h,c,g),$[g]=o.create("point3d",_,b["point"+(g+1)]);d=o.create("line3d",$,b);try{h.addChild(d),c.addChild(d)}catch{throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof s[0]+"' and '"+typeof s[1]+"'.")}return d.type=Const.OBJECT_TYPE_INTERSECTION_LINE3D,d.elType="intersectionline3d",d.setParents([h.id,c.id]),d};JXG$1.registerElement("intersectionline3d",JXG$1.createIntersectionLine3D);JXG$1.Text3D=function(e,s,a,o,h){this.constructor(e.board,h,Const.OBJECT_TYPE_TEXT3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"text3d"),this.board.finalizeAdding(this),e.visProp.depthorderpoints&&e.points.push(this),this.coords=[0,0,0,0],this.F=s,this.slide=o,this.X=function(){return this.coords[1]},this.Y=function(){return this.coords[2]},this.Z=function(){return this.coords[3]},this._params=[],this._c2d=null,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Text3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Text3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Text3D.prototype,{updateCoords:function(){var e;if(JXG$1.isFunction(this.F))this.coords=JXG$1.evaluate(this.F),this.coords.unshift(1);else for(this.coords[0]=1,e=0;e<3;e++)JXG$1.isFunction(this.F[e])&&(this.coords[e+1]=JXG$1.evaluate(this.F[e]));return this},initCoords:function(){var e;if(JXG$1.isFunction(this.F))this.coords=JXG$1.evaluate(this.F),this.coords.unshift(1);else for(this.coords[0]=1,e=0;e<3;e++)this.coords[e+1]=JXG$1.evaluate(this.F[e]);return this},normalizeCoords:function(){return Math.abs(this.coords[0])>Mat.eps&&(this.coords[1]/=this.coords[0],this.coords[2]/=this.coords[0],this.coords[3]/=this.coords[0],this.coords[0]=1),this},setPosition:function(e,s){var a=this.coords;return e.length===3?(a[0]=1,a[1]=e[0],a[2]=e[1],a[3]=e[2]):(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[2],this.normalizeCoords()),this},update:function(e){var s,a,o;return this.element2D.draggable()&&Geometry.distance(this._c2d,this.element2D.coords.usrCoords)!==0?this.slide?(this.coords=this.slide.projectScreenCoords([this.element2D.X(),this.element2D.Y()],this._params),this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,this.view.project3DTo2D(this.coords))):(this.view.isVerticalDrag()?s=this.view.project2DTo3DVertical(this.element2D,this.coords):(a=[1,0,0,this.coords[3]],s=this.view.project2DTo3DPlane(this.element2D,[1,0,0,1],a)),s[0]!==0&&(o=this.view.project3DToCube(s),this.coords=o[0],o[1]&&this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,this.view.project3DTo2D(this.coords)))):(this.updateCoords(),this.slide&&(this.coords=this.slide.projectCoords([this.X(),this.Y(),this.Z()],this._params)),this.element2D.coords.setCoordinates(Const.COORDS_BY_USER,this.view.project3DTo2D([1,this.X(),this.Y(),this.Z()].slice(1))),this.element2D.prepareUpdate().update()),this._c2d=this.element2D.coords.usrCoords.slice(),this},updateRenderer:function(){return this.needsUpdate=!1,this},isIllDefined:function(){return JXG$1.cmpArrays(this.coords,[0,0,0,0])},__evt__update3D:function(e){}});JXG$1.createText3D=function(e,s,a){var o=s[0],h,c,d,g,_,b;if(s.length>3&&JXG$1.exists(s[s.length-1].is3D)?d=s.pop():d=null,s.length===3)c=s[1],g=s[2];else if(s.length===5)c=s.slice(1,4),g=s[4];else throw new Error("JSXGraph: Can't create text3d with parent types '"+typeof s[0]+"' and '"+typeof s[1]+`'.
Possible parent types: [[x,y,z], text], [x,y,z, text]`);return h=JXG$1.copyAttributes(a,e.options,"text3d"),b=new JXG$1.Text3D(o,c,g,d,h),b.initCoords(),_=o.project3DTo2D(b.coords),h=b.setAttr2D(h),b.element2D=o.create("text",[_[1],_[2],g],h),b.element2D.view=o,b.addChild(b.element2D),b.inherits.push(b.element2D),b.element2D.setParents(b),b.slide&&(b.slide.addChild(b),b.setParents(b.slide)),b._c2d=b.element2D.coords.usrCoords.slice(),b};JXG$1.registerElement("text3d",JXG$1.createText3D);JXG$1.createTicks3D=function(e,s,a){var o=s[0],h=s[1],c=s[2],d=s[3],g=s[4],_,b;return b=JXG$1.copyAttributes(a,e.options,"ticks3d"),_=o.create("curve",[[],[]],b),_.point=h,_.direction1=c,_.len=d,_.direction2=g,_.drawLabels=function($){var j=0,_e=this.len,et=JXG$1.evaluate(this.visProp.ticksdistance),tt=JXG$1.evaluate(this.visProp.tickendings),it=JXG$1.evaluate(this.visProp.majorheight),at,nt,st,rt,lt,ot,ht,ct=[0,0,0],ut=[0,0,0],dt=[0,0,0],ft=[];if(it/=Math.sqrt(e.unitX*e.unitY),at=it*tt[1]*2,this.dataX=[],this.dataY=[],JXG$1.isFunction(this.point))dt=this.point().slice(1);else for(rt=0;rt<3;rt++)dt[rt]=JXG$1.evaluate(this.point[rt]);for(rt=0;rt<3;rt++)ct[rt]=JXG$1.evaluate(this.direction1[rt]),ut[rt]=JXG$1.evaluate(this.direction2[rt]);for(nt=JXG$1.Math.norm(ct,3),st=JXG$1.Math.norm(ut,3),rt=0;rt<3;rt++)ct[rt]/=nt,ut[rt]/=st;if(!(Math.abs(et)<Mat.eps)){for(lt=j;lt<=_e;lt+=et){for(ht=[dt[0]+lt*ct[0]+at*ut[0],dt[1]+lt*ct[1]+at*ut[1],dt[2]+lt*ct[2]+at*ut[2]],rt=0;rt<3;rt++)ct[rt]!==0&&(ot=dt[rt]+lt*ct[rt]);ft.push(o.create("text3d",[ht,ot],$))}return ft}},JXG$1.evaluate(_.visProp.drawlabels)&&(_.labels=_.drawLabels(b.label)),_.updateDataArray=function(){var $=0,j=this.len,_e=JXG$1.evaluate(this.visProp.ticksdistance),et=JXG$1.evaluate(this.visProp.tickendings),tt=JXG$1.evaluate(this.visProp.majorheight),it,at,nt,st,rt,lt,ot,ht,ct=[0,0,0],ut=[0,0,0],dt=[0,0,0];if(tt/=Math.sqrt(e.unitX*e.unitY),it=tt*-et[0],at=tt*et[1],this.dataX=[],this.dataY=[],JXG$1.isFunction(this.point))dt=this.point().slice(1);else for(rt=0;rt<3;rt++)dt[rt]=JXG$1.evaluate(this.point[rt]);for(rt=0;rt<3;rt++)ct[rt]=JXG$1.evaluate(this.direction1[rt]),ut[rt]=JXG$1.evaluate(this.direction2[rt]);for(nt=JXG$1.Math.norm(ct,3),st=JXG$1.Math.norm(ut,3),rt=0;rt<3;rt++)ct[rt]/=nt,ut[rt]/=st;if(!(Math.abs(_e)<Mat.eps))for(lt=$;lt<=j;lt+=_e)ht=[dt[0]+lt*ct[0]+it*ut[0],dt[1]+lt*ct[1]+it*ut[1],dt[2]+lt*ct[2]+it*ut[2]],ot=o.project3DTo2D(ht),this.dataX.push(ot[1]),this.dataY.push(ot[2]),ht=[dt[0]+lt*ct[0]+at*ut[0],dt[1]+lt*ct[1]+at*ut[1],dt[2]+lt*ct[2]+at*ut[2]],ot=o.project3DTo2D(ht),this.dataX.push(ot[1]),this.dataY.push(ot[2]),this.dataX.push(NaN),this.dataY.push(NaN)},_};JXG$1.registerElement("ticks3d",JXG$1.createTicks3D);JXG$1.Polygon3D=function(e,s,a){var o;for(this.constructor(e.board,a,Const.OBJECT_TYPE_POLYGON3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"polygon3d"),this.board.finalizeAdding(this),this.vertices=[],o=0;o<s.length;o++)this.vertices[o]=this.board.select(s[o]),this.vertices[o]._is_new&&(delete this.vertices[o]._is_new,this.vertices[o]._is_new_pol=!0)};JXG$1.Polygon3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Polygon3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Polygon3D.prototype,{update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this}});JXG$1.createPolygon3D=function(e,s,a){var o=s[0],h,c,d,g,_=[],b=[],$,j,_e=!1;if($=JXG$1.copyAttributes(a,e.options,"polygon3d"),g=e.select(s[1]),g===null&&(g=s[1]),JXG$1.isObject(g)&&g.type===Const.OBJECT_TYPE_POLYGON3D&&JXG$1.isTransformationOrArray(s[2]))for(_e=!0,d=g.vertices.length-1,j=JXG$1.copyAttributes(a,e.options,"polygon3d","vertices"),c=0;c<d;c++)j.withlabel&&(j.name=g.vertices[c].name===""?"":g.vertices[c].name+"'"),_.push(e.create("point3d",[g.vertices[c],s[2]],j));else if(_=JXG$1.providePoints3D(o,s.slice(1),a,"polygon3d",["vertices"]),_===!1)throw new Error("JSXGraph: Can't create polygon3d with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon3d and a transformation can be supplied");for(h=new JXG$1.Polygon3D(o,_,$),h.isDraggable=!0,$=h.setAttr2D($),c=0;c<_.length;c++)b.push(_[c].element2D);if(h.element2D=e.create("polygon",b,$),h.element2D.view=o,h.addChild(h.element2D),h.inherits.push(h.element2D),h.element2D.setParents(h),_e)for(h.prepareUpdate().update().updateVisibility().updateRenderer(),d=g.vertices.length-1,c=0;c<d;c++)_[c].prepareUpdate().update().updateVisibility().updateRenderer();return h};JXG$1.registerElement("polygon3d",JXG$1.createPolygon3D);JXG$1.Sphere3D=function(e,s,a,o,h){this.constructor(e.board,h,Const.OBJECT_TYPE_SPHERE3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"sphere3d"),this.board.finalizeAdding(this),this.method=s,this.center=this.board.select(a),this.point2=null,this.points=[],this.element2D=null,this.aux2D=[],this.projectionType=e.projectionType,s==="twoPoints"?(this.point2=this.board.select(o),this.radius=this.Radius()):s==="pointRadius"&&(this.updateRadius=JXG$1.createFunction(o,this.board),this.updateRadius(),this.addParentsFromJCFunctions([this.updateRadius])),JXG$1.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),s==="twoPoints"&&(JXG$1.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=JXG$1.deepCopy(this.methodMap,{center:"center",point2:"point2",Radius:"Radius"})};JXG$1.Sphere3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Sphere3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Sphere3D.prototype,{update:function(){return this.projectionType!==this.view.projectionType&&this.rebuildProjection(),this},updateRenderer:function(){return this.needsUpdate=!1,this},setRadius:function(e){return this.updateRadius=JXG$1.createFunction(e,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.board.update(),this},Radius:function(e){return JXG$1.exists(e)?(this.setRadius(e),this.Radius()):this.method==="twoPoints"?this.center.isIllDefined()||this.point2.isIllDefined()?NaN:this.center.distance(this.point2):this.method==="pointRadius"?Math.abs(this.updateRadius()):NaN},focusFn:function(e){var s=this;return function(){var a=s.view.boxToCam[3],o=s.Radius();return s.view.project3DTo2D([s.center.X()+e*o*a[1],s.center.Y()+e*o*a[2],s.center.Z()+e*o*a[3]]).slice(1,3)}},innerVertexFn:function(){var e=this;return function(){var s=e.view,a=s.worldToFocal(e.center.coords,!1),o=Mat.hypot(a[0],a[1]),h=s.boxToCam,c=[-(a[0]*h[1][1]+a[1]*h[2][1])/o,-(a[0]*h[1][2]+a[1]*h[2][2])/o,-(a[0]*h[1][3]+a[1]*h[2][3])/o],d=e.Radius(),g=Math.atan(-o/a[2]),_=Math.acos(d/Mat.norm(a)),b=g+_,$=Math.cos(b),j=Math.sin(b);return s.project3DTo2D([e.center.X()+d*(j*c[0]+$*h[3][1]),e.center.Y()+d*(j*c[1]+$*h[3][2]),e.center.Z()+d*(j*c[2]+$*h[3][3])])}},buildCentralProjection:function(){var e=this.view,s={visible:!1,withLabel:!1},a=e.create("point",this.focusFn(-1),s),o=e.create("point",this.focusFn(1),s),h=e.create("point",this.innerVertexFn(e),s);this.aux2D=[a,o,h],this.element2D=e.create("ellipse",this.aux2D,this.visProp)},buildParallelProjection:function(){var e=this,s=function(){var o=[1,e.center.X(),e.center.Y(),e.center.Z()];return e.view.project3DTo2D(o)},a=function(){var o=e.view.bbox3D[0][1]-e.view.bbox3D[0][0];return e.Radius()*e.view.size[0]/o};this.aux2D=[],this.element2D=this.view.create("circle",[s,a],this.visProp)},rebuildProjection:function(){var e;if(this.element2D){this.view.board.removeObject(this.element2D);for(e in this.aux2D)this.aux2D.hasOwnProperty(e)&&this.view.board.removeObject(this.aux2D[e])}this.projectionType=this.view.projectionType,this.projectionType==="central"?this.buildCentralProjection():this.buildParallelProjection(),this.addChild(this.element2D),this.inherits.push(this.element2D),this.element2D.view=this.view}});JXG$1.createSphere3D=function(e,s,a){var o=s[0],h,c,d,g,_,b;for(h=JXG$1.copyAttributes(a,e.options,"sphere3d"),c=[],b=1;b<s.length;b++)if(JXG$1.isPointType3D(e,s[b])){if(c.length===0?d="center":d="point",g=JXG$1.providePoints3D(o,[s[b]],a,"sphere3d",[d])[0],g===!1)throw new Error("JSXGraph: Can't create sphere3d from this type. Please provide a point type.");c.push(g)}else c.push(s[b]);if(JXG$1.isPoint3D(c[0])&&JXG$1.isPoint3D(c[1]))_=new JXG$1.Sphere3D(o,"twoPoints",c[0],c[1],h);else if((JXG$1.isNumber(c[0])||JXG$1.isFunction(c[0])||JXG$1.isString(c[0]))&&JXG$1.isPoint3D(c[1]))_=new JXG$1.Sphere3D(o,"pointRadius",c[1],c[0],h);else if((JXG$1.isNumber(c[1])||JXG$1.isFunction(c[1])||JXG$1.isString(c[1]))&&JXG$1.isPoint3D(c[0]))_=new JXG$1.Sphere3D(o,"pointRadius",c[0],c[1],h);else throw new Error("JSXGraph: Can't create sphere3d with parent types '"+typeof s[1]+"' and '"+typeof s[2]+`'.
Possible parent types: [point,point], [point,number], [point,function]`);return _.rebuildProjection(),_.element2D.prepareUpdate().update().updateRenderer(),_};JXG$1.registerElement("sphere3d",JXG$1.createSphere3D);JXG$1.Surface3D=function(e,s,a,o,h,c,d,g){this.constructor(e.board,g,Const.OBJECT_TYPE_SURFACE3D,Const.OBJECT_CLASS_3D),this.constructor3D(e,"surface3d"),this.board.finalizeAdding(this),this.F=s,this.X=a,this.Y=o,this.Z=h,this.F!==null&&(this.X=function(_,b){return this.F(_,b)[0]},this.Y=function(_,b){return this.F(_,b)[1]},this.Z=function(_,b){return this.F(_,b)[2]}),this.range_u=c,this.range_v=d,this.methodMap=JXG$1.deepCopy(this.methodMap,{})};JXG$1.Surface3D.prototype=new JXG$1.GeometryElement;JXG$1.copyPrototypeMethods(JXG$1.Surface3D,JXG$1.GeometryElement3D,"constructor3D");JXG$1.extend(JXG$1.Surface3D.prototype,{updateDataArray:function(){var e=JXG$1.evaluate(this.visProp.stepsu),s=JXG$1.evaluate(this.visProp.stepsv),a=JXG$1.evaluate(this.range_u),o=JXG$1.evaluate(this.range_v),h,c;return this.F!==null?h=this.F:h=[this.X,this.Y,this.Z],a.push(e),o.push(s),c=this.view.getMesh(h,a,o),{X:c[0],Y:c[1]}},update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this},initParamsIfNeeded:function(e){e.length===0&&e.unshift(.5*(this.range_u[0]+this.range_u[1]),.5*(this.range_v[0]+this.range_v[1]))},projectCoords:function(e,s){return this.initParamsIfNeeded(s),Geometry.projectCoordsToParametric(e,this,s)},projectScreenCoords:function(e,s){return this.initParamsIfNeeded(s),Geometry.projectScreenCoordsToParametric(e,this,s)}});JXG$1.createParametricSurface3D=function(e,s,a){var o=s[0],h,c,d,g,_,b,$,j;return s.length===4?(h=s[1],_=s[2],b=s[3],c=null,d=null,g=null):(c=s[1],d=s[2],g=s[3],_=s[4],b=s[5],h=null),$=JXG$1.copyAttributes(a,e.options,"surface3d"),j=new JXG$1.Surface3D(o,h,c,d,g,_,b,$),$=j.setAttr2D($),j.element2D=o.create("curve",[[],[]],$),j.element2D.view=o,j.element2D.updateDataArray=function(){var _e=j.updateDataArray();this.dataX=_e.X,this.dataY=_e.Y},j.addChild(j.element2D),j.inherits.push(j.element2D),j.element2D.setParents(j),j.element2D.prepareUpdate().update(),e.isSuspendedUpdate||j.element2D.updateVisibility().updateRenderer(),j};JXG$1.registerElement("parametricsurface3d",JXG$1.createParametricSurface3D);JXG$1.createFunctiongraph3D=function(e,s,a){var o=s[0],h=function(b,$){return b},c=function(b,$){return $},d=JXG$1.createFunction(s[1],e,"x, y"),g=s[2],_=s[3];return o.create("parametricsurface3d",[h,c,d,g,_],a)};JXG$1.registerElement("functiongraph3d",JXG$1.createFunctiongraph3D);let size=.75,color="#000";JXG$1.themes.mono_thin={board:{showInfobox:!1,showCopyright:!0,defaultAxes:{x:{ticks:{minorTicks:0,majorHeight:10,majorTickEndings:[1,0]}},y:{ticks:{minorTicks:0,majorHeight:10,majorTickEndings:[0,1]}}}},navbar:{strokeColor:"#bbb",fillColor:"none"},elements:{strokeColor:color,highlightStrokeColor:color,fillColor:"none",highlightFillColor:"none",strokeOpacity:.6,highlightStrokeOpacity:1},angle:{strokeColor:color,fillColor:"#aaaaaa55",fillOpacity:.3,highlightFillColor:"#aaaaaa33",highlightFillOpacity:.3,label:{strokeColor:color}},arc:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size},axis:{},boxplot:{strokeWidth:size,strokeColor:color,fillColor:color,fillOpacity:.2,highlightStrokeWidth:size,highlightStrokeColor:color,highlightFillColor:color,highlightFillOpacity:.1},circle:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightFillColor:"none",highlightStrokeColor:color,center:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},point2:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},circumcircle:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightFillColor:"none",highlightStrokeColor:color,center:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},circumcirclearc:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size},circumcirclesector:{strokeColor:color,fillColor:"#aaaaaa55",fillOpacity:.3,highlightFillColor:"#aaaaaa33",highlightFillOpacity:.3},comb:{strokeColor:color,strokeWidth:size},conic:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightStrokeColor:color,fillColor:"none",highlightFillColor:"none"},curve:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size},grid:{strokeWidth:size},hatch:{strokeColor:color,strokeWidth:size},incircle:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightFillColor:"none",highlightStrokeColor:color,center:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},inequality:{fillColor:"#aaaaaa55",fillOpacity:.2},integral:{fillColor:"#aaaaaa55",highlightFillColor:"#aaaaa33",fillOpacity:.3,highlightFillOpacity:.3,curveLeft:{color},baseLeft:{color},curveRight:{color},baseRight:{color}},label:{strokeColor:color},line:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size,point1:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},point2:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},normal:{strokeColor:color},parallel:{strokeColor:color},perpendicular:{strokeColor:color},perpendicularsegment:{strokeColor:color},point:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},polygon:{fillColor:"#aaaaaa55",highlightFillColor:"#aaaaaa33",fillOpacity:.3,highlightFillOpacity:.3,vertices:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},borders:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size}},sector:{strokeColor:color,fillColor:"#aaaaaa55",fillOpacity:.3,highlightFillColor:"#aaaaaa33",highlightFillOpacity:.3},semicircle:{center:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},slider:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color,baseline:{strokeWidth:size,strokeColor:color,highlightStrokeColor:color},label:{strokeColor:color},highline:{strokeWidth:3*size,name:"",strokeColor:color,highlightStrokeColor:color},ticks:{strokeColor:color}},slopefield:{strokeWidth:.75*size,highlightStrokeWidth:size,highlightStrokeColor:color,highlightStrokeOpacity:.8},tapemeasure:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size,point1:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},point2:{size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},ticks:{strokeWidth:size}},text:{strokeColor:color},tracecurve:{strokeColor:color},turtle:{strokeWidth:size,strokeColor:color,arrow:{strokeWidth:2*size,strokeColor:"#aaaaaa55"}},vectorfield:{strokeWidth:.75*size,highlightStrokeWidth:size,highlightStrokeColor:color,highlightStrokeOpacity:.8}};JXG$1.COORDS_BY_SCREEN;JXG$1.COORDS_BY_USER;JXG$1.Dump;JXG$1.Expect;const JSXGraph=JXG$1.JSXGraph;JXG$1.Math;JXG$1.Options;JXG$1.boards;JXG$1.elements;JXG$1.palette;JXG$1.paletteWong;JXG$1.Board;JXG$1.Chart;JXG$1.Circle;JXG$1.Complex;JXG$1.Composition;JXG$1.Coords;JXG$1.CoordsElement;JXG$1.Curve;JXG$1.GeometryElement;JXG$1.Group;JXG$1.Image;JXG$1.JessieCode;JXG$1.PrefixParser;JXG$1.Line;JXG$1.Point;JXG$1.Polygon;JXG$1.Text;JXG$1.Ticks;JXG$1.Transformation;JXG$1.Turtle;JXG$1.View3D;JXG$1.LMS2rgb;JXG$1.addEvent;JXG$1.autoDigits;JXG$1.autoHighlight;JXG$1.bind;JXG$1.capitalize;JXG$1.clearVisPropOld;JXG$1.clone;JXG$1.cloneAndCopy;JXG$1.cmpArrays;JXG$1.coordsArrayToMatrix;JXG$1.copyAttributes;JXG$1.createEvalFunction;JXG$1.createFunction;JXG$1.createHTMLSlider;JXG$1.darkenColor;JXG$1.debug;JXG$1.debugInt;JXG$1.debugLine;JXG$1.debugWST;JXG$1.deepCopy;JXG$1.def;JXG$1.deprecated;JXG$1.eliminateDuplicates;JXG$1.escapeHTML;JXG$1.evalSlider;JXG$1.evaluate;JXG$1.filterElements;JXG$1.getBoardByContainerId;JXG$1.getCSSTransformMatrix;JXG$1.getCSSTransform;JXG$1.getDimensions;JXG$1.getOffset;JXG$1.getPosition;JXG$1.getProp;JXG$1.hex2rgb;JXG$1.hsv2rgb;JXG$1.isAndroid;JXG$1.isApple;JXG$1.isArray;JXG$1.isDesktop;JXG$1.isInArray;JXG$1.isInObject;JXG$1.isMetroApp;JXG$1.isMobile;JXG$1.isMozilla;JXG$1.isBoard;JXG$1.isName;JXG$1.isNode;JXG$1.isNumber;JXG$1.isObject;JXG$1.isPoint;JXG$1.isPoint3D;JXG$1.isPointType;JXG$1.isPointType3D;JXG$1.isString;JXG$1.isTouchDevice;JXG$1.isTransformationOrArray;JXG$1.isWebWorker;JXG$1.isWebkitAndroid;JXG$1.isWebkitApple;JXG$1.keys;JXG$1.lightenColor;JXG$1.merge;JXG$1.normalizePointFace;JXG$1.providePoints;JXG$1.registerElement;JXG$1.registerReader;JXG$1.removeAllEvents;JXG$1.removeElementFromArray;JXG$1.removeEvent;JXG$1.rgb2LMS;JXG$1.rgb2bw;JXG$1.rgb2cb;JXG$1.rgb2css;JXG$1.rgb2hex;JXG$1.rgb2hsv;JXG$1.rgbParser;JXG$1.rgba2rgbo;JXG$1.rgbo2rgba;JXG$1.sanitizeHTML;JXG$1.shortcut;JXG$1.str2Bool;JXG$1.supportsCanvas;JXG$1.supportsPointerEvents;JXG$1.supportsSVG;JXG$1.supportsVML;JXG$1.swap;JXG$1.timedChunk;JXG$1.toFixed;JXG$1.toFullscreen;JXG$1.toJSON;JXG$1.trim;JXG$1.trimNumber;JXG$1.truncate;JXG$1.unescapeHTML;JXG$1.uniqueArray;JXG$1.useBlackWhiteOptions;JXG$1.useStandardOptions;JXG$1.warn;JXG$1.isBrowser?window.JXG=JXG$1:JXG$1.isWebWorker()&&(self.JXG=JXG$1);function App(){return JSXGraph.initBoard("box",{boundingbox:[]}),jsxRuntimeExports.jsx("div",{id:"box",className:"jxgbox border ",style:{width:"600px",height:"600px",backgroundColor:"white"}})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
